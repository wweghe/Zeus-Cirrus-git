{
  "addColumnToSpreadsheet": {
    "inputs": [
      {
        "datatype": "text array",
        "name": "input_spreadsheetMeta"
      },
      {
        "datatype": "text",
        "name": "input_columnInfo"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "4d6f1596-194b-4e4e-a778-0a4b99b2f94b",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "name"
            },
            "object": {
              "datatype": "text",
              "name": "input_columnInfo",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "id",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "20cf23bb-9098-4296-b774-85b19596657f",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "lowercase",
          "library": "CirrusLibString",
          "params": {
            "string": {
              "datatype": "text",
              "name": "id",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "id",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "c43184b3-7fed-413a-8c5b-1b6714473539",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "label"
            },
            "object": {
              "datatype": "text",
              "name": "input_columnInfo",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "label",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "52fa8778-a813-4209-b795-6a3543c69c2d",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "type"
            },
            "object": {
              "datatype": "text",
              "name": "input_columnInfo",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "type",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "1435ab32-7093-4456-b285-29c3ffdf24a9",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "createEmptyObject",
          "library": "CirrusLibObject",
          "params": {},
          "returnType": "object"
        },
        "variable": {
          "datatype": "object",
          "name": "options",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "f06a7ada-1e72-48ef-9edd-fafe94352632",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "id"
          },
          "object": {
            "datatype": "object",
            "name": "options",
            "scope": "local"
          },
          "value": {
            "name": "id",
            "scope": "local"
          }
        },
        "returnType": "object"
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "663e81d2-343e-48a4-ae86-4ffb69d8423b",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "label"
          },
          "object": {
            "datatype": "object",
            "name": "options",
            "scope": "local"
          },
          "value": {
            "name": "label",
            "scope": "local"
          }
        },
        "returnType": "object"
      },
      {
        "action": "setvar",
        "id": "310b2cf0-06a5-4e85-a9d7-ffe75c2b7501",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "includes",
          "library": "CirrusLibString",
          "params": {
            "mainString": {
              "name": "type",
              "scope": "local"
            },
            "subString": {
              "datatype": "text",
              "scope": "fixed",
              "value": "CHAR"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isStringType",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "380fd5b2-0e11-4ecf-b3c2-56a278b75e6e",
        "includeElse": true,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "isStringType",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "342a54de-45cc-40f8-bfce-c8fb14117333",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "convertStringToObject",
          "library": "CirrusLibObject",
          "params": {
            "string": {
              "datatype": "text",
              "scope": "fixed",
              "value": "{                \"readonly\": true   }"
            }
          },
          "returnType": "object"
        },
        "variable": {
          "datatype": "object",
          "name": "columnOptions",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "5d202e81-ab97-4f88-9f74-2ee4115e5832",
        "includeElse": true,
        "isCommented": false,
        "iselse": true,
        "main": "380fd5b2-0e11-4ecf-b3c2-56a278b75e6e",
        "test": {
          "datatype": "boolean",
          "name": "isStringType",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "38189940-617f-4062-99ca-98c53a566efb",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "columnType"
          },
          "object": {
            "datatype": "object",
            "name": "options",
            "scope": "local"
          },
          "value": {
            "scope": "fixed",
            "value": "number"
          }
        },
        "returnType": "object"
      },
      {
        "action": "setvar",
        "id": "470a202c-700e-4986-9e16-ba79cbfd204c",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "convertStringToObject",
          "library": "CirrusLibObject",
          "params": {
            "string": {
              "datatype": "text",
              "scope": "fixed",
              "value": "{  \"readonly\": true,                \"cellType\": \"number\"    }"
            }
          },
          "returnType": "object"
        },
        "variable": {
          "datatype": "object",
          "name": "columnOptions",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "d2a42b7c-6c1b-40b9-9148-7158ac0b7d4b",
        "includeElse": true,
        "isCommented": false,
        "main": "380fd5b2-0e11-4ecf-b3c2-56a278b75e6e",
        "test": {
          "datatype": "boolean",
          "name": "isStringType",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "02365d7d-8e44-49fb-82e0-5f40706fd678",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "createEmptyObject",
          "library": "CirrusLibObject",
          "params": {},
          "returnType": "object"
        },
        "variable": {
          "datatype": "object",
          "name": "columnDefObject",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "9db63d17-5f8b-498c-9b63-b38f33c498d1",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "options"
          },
          "object": {
            "datatype": "object",
            "name": "columnDefObject",
            "scope": "local"
          },
          "value": {
            "datatype": "object",
            "name": "options",
            "scope": "local"
          }
        },
        "returnType": "object"
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "60f13192-159f-4957-8036-3f935ac90350",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "cellOptions"
          },
          "object": {
            "datatype": "object",
            "name": "columnDefObject",
            "scope": "local"
          },
          "value": {
            "datatype": "object",
            "name": "columnOptions",
            "scope": "local"
          }
        },
        "returnType": "object"
      },
      {
        "action": "execfunc",
        "function": "push",
        "id": "bac6e30e-0a9b-4437-aa06-36cbcfa3db2d",
        "isCommented": false,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "text array",
            "name": "input_spreadsheetMeta",
            "scope": "local"
          },
          "value": {
            "datatype": "object",
            "name": "columnDefObject",
            "scope": "local"
          }
        },
        "returnType": "numeric"
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "addLeafRowKey": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_object"
      },
      {
        "datatype": "text array",
        "name": "input_hierarchy"
      }
    ],
    "logic": [
      {
        "action": "addComment",
        "commentStep": "copy hierarchy array",
        "id": "8816efb8-a0ea-4783-be05-a534a96f02d7",
        "isCommented": false
      },
      {
        "action": "setvar",
        "id": "a4c3e822-686e-44d0-81a3-abd179a9bb88",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "createNewStringArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "newHierarchy",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "forEach",
        "id": "26ffe013-0ff2-4d16-93e2-476f19e89686",
        "isCommented": false,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "text array",
            "name": "input_hierarchy",
            "scope": "local"
          },
          "callback": {
            "function": "push",
            "library": "CirrusLibArray",
            "params": {
              "array": {
                "datatype": "text array",
                "name": "newHierarchy",
                "scope": "local"
              },
              "value": {
                "datatype": "text",
                "label": "Current value",
                "name": "loop_currentValue",
                "scope": "local"
              }
            },
            "returnType": "numeric"
          }
        }
      },
      {
        "action": "addComment",
        "commentStep": "add key attribute and hierarchy with added key",
        "id": "2099523e-d81d-40e6-b648-5e0a823329e7",
        "isCommented": false
      },
      {
        "action": "addComment",
        "commentStep": "For further updating on BEP change, key value should be taken directly from primary key hierarchy data. For compound primary key some hashing function may be used.",
        "id": "ae1b1a3b-22f9-4a12-8609-bc9299565fb1",
        "isCommented": false
      },
      {
        "action": "setvar",
        "id": "9338c24d-a8fe-4575-a27d-3b21cca09174",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "generateUUID",
          "library": "CirrusLibGeneral",
          "params": {},
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "key",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "1421277a-74af-4521-8559-4a32eaaf7991",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "key"
          },
          "object": {
            "datatype": "text",
            "name": "input_object",
            "scope": "local"
          },
          "value": {
            "datatype": "text",
            "name": "key",
            "scope": "local"
          }
        },
        "returnType": "text"
      },
      {
        "action": "execfunc",
        "function": "push",
        "id": "69a4c8c7-51b8-4bc4-9f2f-f307216d8931",
        "isCommented": false,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "text array",
            "name": "newHierarchy",
            "scope": "local"
          },
          "value": {
            "datatype": "text",
            "name": "key",
            "scope": "local"
          }
        },
        "returnType": "numeric"
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "39e69846-99b7-4f5a-917d-c31aa7ac7fa8",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "hierarchy"
          },
          "object": {
            "datatype": "text",
            "name": "input_object",
            "scope": "local"
          },
          "value": {
            "datatype": "text array",
            "name": "newHierarchy",
            "scope": "local"
          }
        },
        "returnType": "text"
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "copyObject": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_object"
      },
      {
        "datatype": "text array",
        "name": "input_properties"
      },
      {
        "datatype": "text",
        "name": "input_targetObject"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "24b59512-62f3-4167-9102-61d6053682d9",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "isNullOrUndefined",
          "library": "CirrusLibGeneral",
          "params": {
            "value": {
              "datatype": "text",
              "name": "input_targetObject",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isTargetNull",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "cc662a9e-c1b7-4b33-8934-6c1421234f4e",
        "includeElse": true,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "isTargetNull",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "4d746367-9353-402e-9eba-7eebaabbbb34",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "createEmptyObject",
          "library": "CirrusLibObject",
          "params": {},
          "returnType": "object"
        },
        "variable": {
          "datatype": "object",
          "name": "targetObject",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "891b1624-299a-4608-890b-4155ded13dee",
        "includeElse": true,
        "isCommented": false,
        "iselse": true,
        "main": "cc662a9e-c1b7-4b33-8934-6c1421234f4e",
        "test": {
          "datatype": "boolean",
          "name": "isTargetNull",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "3e011297-33db-441f-89d2-172012157c37",
        "isCommented": false,
        "type": "variable",
        "value": {
          "datatype": "text",
          "name": "input_targetObject",
          "scope": "local"
        },
        "variable": {
          "datatype": "text",
          "name": "targetObject",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "657f4001-f0ec-47ca-87d6-caadad485372",
        "includeElse": true,
        "isCommented": false,
        "main": "cc662a9e-c1b7-4b33-8934-6c1421234f4e",
        "test": {
          "datatype": "boolean",
          "name": "isTargetNull",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "forEach",
        "id": "61eea872-ebd3-458d-81a2-84aadc8d681d",
        "isCommented": false,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "text array",
            "name": "input_properties",
            "scope": "local"
          },
          "callback": {
            "function": "copyObjectAttribute",
            "library": "$interactions$",
            "params": {
              "input_attribute": {
                "datatype": "object",
                "label": "Current value",
                "name": "loop_currentValue",
                "scope": "local"
              },
              "input_inObject": {
                "datatype": "object",
                "name": "input_object",
                "scope": "local"
              },
              "input_outObject": {
                "datatype": "object",
                "name": "targetObject",
                "scope": "local"
              }
            }
          }
        }
      },
      {
        "action": "returnvar",
        "id": "14f1f0e0-f3e2-4d33-a2e5-3ff2d2c5252d",
        "isCommented": false,
        "variable": {
          "datatype": "object",
          "name": "targetObject",
          "scope": "local"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "copyObjectAttribute": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_inObject"
      },
      {
        "datatype": "text",
        "name": "input_outObject"
      },
      {
        "datatype": "text",
        "name": "input_attribute"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "d1872f04-48f4-4f4e-93c9-e9e58391b831",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "has",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "name": "input_attribute",
              "scope": "local"
            },
            "object": {
              "datatype": "object",
              "name": "input_inObject",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "hasAttribute",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "b98f393f-971b-4bb9-bf85-3ebc7478f75d",
        "includeElse": false,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "hasAttribute",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "37b3c04d-0e08-4415-a3a0-5a501d8263d8",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "name": "input_attribute",
              "scope": "local"
            },
            "object": {
              "datatype": "object",
              "name": "input_inObject",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "value",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "897abe1b-58cc-443a-819d-d7136ff96aca",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "name": "input_attribute",
            "scope": "local"
          },
          "object": {
            "datatype": "object",
            "name": "input_outObject",
            "scope": "local"
          },
          "value": {
            "datatype": "text",
            "name": "value",
            "scope": "local"
          }
        },
        "returnType": "text"
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "7dc1b26d-d629-4c66-b5dd-151a34ee3115",
        "includeElse": false,
        "isCommented": false,
        "main": "b98f393f-971b-4bb9-bf85-3ebc7478f75d",
        "test": {
          "datatype": "boolean",
          "name": "hasAttribute",
          "scope": "local"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "filterHierarchyData": {
    "inputs": [
      {
        "datatype": "text array",
        "name": "input_hierarchyData"
      },
      {
        "datatype": "text",
        "name": "input_object"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "8264a8fb-6d48-446f-b503-0f3c1bddbad6",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "createNewObjectArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "object array"
        },
        "variable": {
          "datatype": "object array",
          "name": "outputRows",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "b91d97a0-9f0f-475c-9946-bbb2245e0881",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "segmentFilter"
            },
            "object": {
              "datatype": "text",
              "name": "input_object",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "segmentFilter",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "7f165399-2903-42d7-8528-84b9e451c15b",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "convertStringToObject",
          "library": "CirrusLibObject",
          "params": {
            "string": {
              "name": "segmentFilter",
              "scope": "local"
            }
          },
          "returnType": "object"
        },
        "variable": {
          "datatype": "object",
          "name": "segmentFilterObject",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "forEach",
        "id": "6c8866e7-8eb4-47d2-83d9-9229916740c7",
        "isCommented": false,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "text array",
            "name": "input_hierarchyData",
            "scope": "local"
          },
          "callback": {
            "function": "filterHierarchyData_add",
            "library": "$interactions$",
            "params": {
              "input_object": {
                "datatype": "text",
                "label": "Current value",
                "name": "loop_currentValue",
                "scope": "local"
              },
              "input_outputArray": {
                "datatype": "object array",
                "name": "outputRows",
                "scope": "local"
              },
              "input_segmentFilterObject": {
                "datatype": "object",
                "name": "segmentFilterObject",
                "scope": "local"
              }
            }
          }
        }
      },
      {
        "action": "returnvar",
        "id": "0c9e5ecf-6671-453b-81bd-8e595e9879e2",
        "isCommented": false,
        "variable": {
          "datatype": "object array",
          "name": "outputRows",
          "scope": "local"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "filterHierarchyData_add": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_object"
      },
      {
        "datatype": "text",
        "name": "input_segmentFilterObject"
      },
      {
        "datatype": "text array",
        "name": "input_outputArray"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "214842ec-c79c-41d4-971c-8a9921c1d06c",
        "isCommented": false,
        "type": "fixed",
        "value": {
          "datatype": "boolean",
          "dataval": true
        },
        "variable": {
          "datatype": "boolean",
          "name": "testCondition",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "2462867b-0fe5-4a34-987a-d12e44ffcd78",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "boolean",
          "function": "reduce",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "\u003cOutgoing\u003e array array array array array",
              "name": "selectedSegmentationColumns",
              "scope": "global"
            },
            "callback": {
              "function": "filterHierarchyData_reducer",
              "library": "$interactions$",
              "params": {
                "input_accumulator": {
                  "datatype": "numeric",
                  "label": "Accumulator",
                  "name": "loop_accumulator",
                  "scope": "local"
                },
                "input_attribute": {
                  "datatype": "\u003cOutgoing\u003e array array array array",
                  "label": "Current value",
                  "name": "loop_currentValue",
                  "scope": "local"
                },
                "input_object": {
                  "datatype": "text",
                  "name": "input_object",
                  "scope": "local"
                },
                "input_segmentFilterObject": {
                  "datatype": "text",
                  "name": "input_segmentFilterObject",
                  "scope": "local"
                }
              },
              "returnType": "numeric"
            },
            "initialValue": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": true
            }
          },
          "returnType": "numeric"
        },
        "variable": {
          "datatype": "numeric",
          "name": "testCondition",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "f02c5ce1-c270-4251-8ede-d27c65ad20b7",
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "testCondition",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "push",
        "id": "8b454f36-5017-410f-bf85-978fdffc111f",
        "isCommented": false,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "text array",
            "name": "input_outputArray",
            "scope": "local"
          },
          "value": {
            "datatype": "text",
            "name": "input_object",
            "scope": "local"
          }
        },
        "returnType": "numeric"
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "ed4a71ac-4dc5-4859-945e-7c12d1b071d9",
        "isCommented": false,
        "main": "f02c5ce1-c270-4251-8ede-d27c65ad20b7",
        "test": {
          "datatype": "boolean",
          "name": "testCondition",
          "scope": "local"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "filterHierarchyData_reducer": {
    "inputs": [
      {
        "datatype": "boolean",
        "name": "input_accumulator"
      },
      {
        "datatype": "text",
        "name": "input_object"
      },
      {
        "datatype": "text",
        "name": "input_attribute"
      },
      {
        "datatype": "text",
        "name": "input_segmentFilterObject"
      }
    ],
    "logic": [
      {
        "action": "ifelse",
        "id": "edc2c783-798a-4189-b645-d9f254e4968e",
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "input_accumulator",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "96fd972e-ddbd-4786-9dd7-bfddd8859ab0",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "has",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "name": "input_attribute",
              "scope": "local"
            },
            "object": {
              "datatype": "text",
              "name": "input_segmentFilterObject",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "hasAttribute",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "51df5307-bc0f-4542-b3c6-a3f06118025c",
        "includeElse": false,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "hasAttribute",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "01f34e7b-2f1e-42ba-a11c-07b0286fd151",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "name": "input_attribute",
              "scope": "local"
            },
            "object": {
              "datatype": "text",
              "name": "input_object",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "value",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "7b47356c-2218-4ccb-800d-793218f1327e",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "text",
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "name": "input_attribute",
              "scope": "local"
            },
            "object": {
              "datatype": "text",
              "name": "input_segmentFilterObject",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "input_value",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "9549d922-dbd7-4645-a3c6-5d68e42a87cf",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "boolean",
          "function": "strEquals",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "boolean",
              "name": "value",
              "scope": "local"
            },
            "string2": {
              "datatype": "text",
              "name": "input_value",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "input_accumulator",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "ad5282e1-7122-4d9d-b2e9-9d7bca3b6378",
        "includeElse": false,
        "isCommented": false,
        "main": "51df5307-bc0f-4542-b3c6-a3f06118025c",
        "test": {
          "datatype": "boolean",
          "name": "hasAttribute",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "ba86d54c-5a55-471b-99fc-ef601c0a9255",
        "isCommented": false,
        "main": "edc2c783-798a-4189-b645-d9f254e4968e",
        "test": {
          "datatype": "boolean",
          "name": "input_accumulator",
          "scope": "local"
        }
      },
      {
        "action": "returnvar",
        "id": "057a1dfd-79e3-4fff-a404-958787be9476",
        "isCommented": false,
        "variable": {
          "datatype": "numeric",
          "name": "input_accumulator",
          "scope": "local"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "getEditLinkForObjectInstance": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_objectType"
      },
      {
        "datatype": "text",
        "name": "input_key"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "6efa9051-3531-4152-a8ef-66c291e1b592",
        "type": "calculated",
        "value": {
          "function": "getEditLocation",
          "library": "CirrusLibNav",
          "params": {
            "key": {
              "datatype": "text",
              "name": "input_key",
              "scope": "local"
            },
            "objectType": {
              "datatype": "text",
              "name": "input_objectType",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "navLink",
          "scope": "local"
        }
      },
      {
        "action": "returnvar",
        "id": "29684e7e-c5c1-4dc4-a5ee-b9cd06c965d8",
        "variable": {
          "datatype": "text",
          "name": "navLink",
          "scope": "local"
        }
      }
    ],
    "sasProvided": true
  },
  "getHierarchyData": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "788356ba-5229-4b46-86fa-5c7beb00200a",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "getUnionWithoutDuplicates",
          "library": "CirrusLibArray",
          "params": {
            "array1": {
              "datatype": "text array",
              "name": "selectedPrimaryKeyColumns",
              "scope": "global"
            },
            "array2": {
              "datatype": "text array",
              "name": "selectedSegmentationColumns",
              "scope": "global"
            }
          },
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "columnArray",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "b45f82f5-a159-4bd6-95fe-9193dc80a2d5",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "text",
          "function": "join",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "columnArray",
              "scope": "local"
            },
            "separator": {
              "datatype": "text",
              "scope": "fixed",
              "value": ","
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "columns",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "a3d9d06b-aa25-45d7-a8eb-16bb2bdc8152",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "key"
            },
            "object": {
              "datatype": "text",
              "name": "selectedPlanningData",
              "scope": "global"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "analysisDataKey",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "833ceaeb-4d34-4de4-ba71-fb91722f598c",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "rowCount"
            },
            "object": {
              "datatype": "text",
              "name": "selectedPlanningData",
              "scope": "global"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "rowCount",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "84a604ac-5e95-4aac-a7d9-3c8465d73b41",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "getDistinctValuesFromAnalysisData",
          "library": "CirrusLibRiskData",
          "params": {
            "aDataKey": {
              "name": "analysisDataKey",
              "scope": "local"
            },
            "columns": {
              "datatype": "text",
              "name": "columns",
              "scope": "local"
            },
            "format": {
              "datatype": "enum",
              "scope": "fixed",
              "value": "JSON"
            },
            "limit": {
              "name": "rowCount",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "values",
          "scope": "local"
        }
      },
      {
        "action": "returnvar",
        "id": "07d7f6d1-fd56-46db-b63a-f665542d8eda",
        "isCommented": false,
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "values",
          "scope": "local"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "getLocalisedObjectType": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "70957fa2-f5dd-419e-a6f8-86375baabef5",
        "type": "calculated",
        "value": {
          "function": "getCurrentObjectType",
          "library": "CirrusLibPageData",
          "params": {},
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "objectType",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "8ce52a34-af0f-4a14-bd03-4bc3b148e037",
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": ".schema.name.singular.title"
        },
        "variable": {
          "datatype": "text",
          "name": "i18nSuffix",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "6325362d-6429-4bdd-9514-0b8b92b013b0",
        "type": "calculated",
        "value": {
          "function": "concat",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "name": "objectType",
              "scope": "local"
            },
            "string2": {
              "datatype": "text",
              "name": "i18nSuffix",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "objectTypePropString",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "e1d718fa-f8b9-4fe0-9da3-75a245f6d350",
        "type": "calculated",
        "value": {
          "function": "getMessageProperty",
          "library": "CirrusLibLocalization",
          "params": {
            "messageKey": {
              "datatype": "text",
              "name": "objectTypePropString",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "localisedObjectType",
          "scope": "local"
        }
      },
      {
        "action": "returnvar",
        "id": "2a1b51de-10ff-4d27-b8c1-9dfdaafd69c9",
        "variable": {
          "datatype": "text",
          "name": "localisedObjectType",
          "scope": "local"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "isPageEditable": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "f865fe04-27cc-44dc-bb7e-664f3346ea7f",
        "isCommented": false,
        "type": "fixed",
        "value": {
          "datatype": "boolean",
          "dataval": true
        },
        "variable": {
          "datatype": "boolean",
          "name": "isEditable",
          "scope": "local"
        }
      },
      {
        "action": "returnvar",
        "id": "5a7b077b-530c-4eec-a658-2cc351870c48",
        "isCommented": false,
        "variable": {
          "datatype": "boolean",
          "name": "isEditable",
          "scope": "local"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "loadMethodData": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "b6a240ba-97d1-43e4-90cd-996a8e0557b4",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "data"
            },
            "object": {
              "datatype": "text",
              "name": "allocationData",
              "objectType": "AllocationScheme",
              "scope": "field",
              "set-field": "allocationData",
              "target": "$self$"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "data",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "6aa4b8e9-1214-412b-b12a-36b83ea48c5d",
        "isCommented": false,
        "type": "variable",
        "value": {
          "datatype": "\u003cany\u003e",
          "name": "data",
          "scope": "local"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "lastKnowWeightRowData",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "6a2daa3d-3e3e-498e-8409-83291ecd4005",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "filterObjects",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "name": "data",
              "scope": "local"
            },
            "operator": {
              "datatype": "enum",
              "scope": "fixed",
              "value": "neq"
            },
            "propertyName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "isLeaf"
            },
            "referenceValue": {
              "scope": "fixed",
              "value": true
            }
          },
          "returnType": "\u003cIncoming\u003e array"
        },
        "variable": {
          "datatype": "\u003cIncoming\u003e array",
          "name": "methodRows",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "setMethodSpreadsheetRowData",
        "id": "fb2921e5-d359-4581-b95c-ae443ee1b1e1",
        "isCommented": false,
        "library": "$interactions$",
        "params": {
          "input_rowsArray": {
            "datatype": "\u003cIncoming\u003e array",
            "name": "methodRows",
            "scope": "local"
          }
        }
      },
      {
        "action": "execfunc",
        "function": "setWeightSpreadsheetRowData",
        "id": "9dbe00c7-25fb-42cf-b8ca-6e1ec89f8355",
        "isCommented": false,
        "library": "$interactions$",
        "params": {
          "input_rowData": {
            "name": "data",
            "scope": "local"
          }
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "loadWeightData": {
    "inputs": [
      {
        "datatype": "text array",
        "name": "input_hierarchyData"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "34dc05d7-81a6-42e9-8c52-707223ddf4ca",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "rowState"
            },
            "object": {
              "datatype": "object",
              "name": "MethodSpreadsheet",
              "scope": "data",
              "target": "$self$"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "methodRowStateData",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "38613f21-1bda-4185-98cf-a7d81914a7f1",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "isNullOrUndefined",
          "library": "CirrusLibGeneral",
          "params": {
            "value": {
              "name": "methodRowStateData",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isRowStateUndefined",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "bdbd23f1-3a2d-4d05-a34c-3deda260637e",
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "isRowStateUndefined",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "f0e8a442-006d-45ab-94fc-322b3a6d643a",
        "isCommented": false,
        "type": "variable",
        "value": {
          "datatype": "object array",
          "name": "knownMethodRowData",
          "scope": "global"
        },
        "variable": {
          "datatype": "object array",
          "name": "methodRowStateData",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "27d781f5-9101-4f65-8ac6-f4ad246948ae",
        "isCommented": false,
        "main": "bdbd23f1-3a2d-4d05-a34c-3deda260637e",
        "test": {
          "datatype": "boolean",
          "name": "isRowStateUndefined",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "65327408-3c34-4c17-8108-c5cd2e5ceec1",
        "isCommented": false,
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": "key,hierarchy,segment,hasChildren,members,targetVar,targetType,segmentFilter,allocationType,allocationMethod"
        },
        "variable": {
          "datatype": "text",
          "name": "attributes",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "238882b7-cfe5-4290-b6f0-f92156fd0ad3",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "split",
          "library": "CirrusLibString",
          "params": {
            "separator": {
              "datatype": "text",
              "scope": "fixed",
              "value": ","
            },
            "string": {
              "datatype": "text",
              "name": "attributes",
              "scope": "local"
            }
          },
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "attributesArray",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "59114dc0-f3d5-4bcb-aae2-44bb8e69af05",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "createNewObjectArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "object array"
        },
        "variable": {
          "datatype": "object array",
          "name": "rowData",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "forEach",
        "id": "2b68b2f7-4cc3-4d09-9a30-715c3fbd8074",
        "isCommented": false,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "object array",
            "name": "methodRowStateData",
            "scope": "local"
          },
          "callback": {
            "function": "promoteWeightRow",
            "library": "$interactions$",
            "params": {
              "input_object": {
                "datatype": "object",
                "label": "Current value",
                "name": "loop_currentValue",
                "scope": "local"
              },
              "input_outputArray": {
                "datatype": "object array",
                "name": "rowData",
                "scope": "local"
              },
              "input_properties": {
                "datatype": "text array",
                "name": "attributesArray",
                "scope": "local"
              }
            }
          }
        }
      },
      {
        "action": "setvar",
        "id": "c91bedee-e007-4360-bf88-5b96b15e9e3e",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "filterObjects",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "object array",
              "name": "rowData",
              "scope": "local"
            },
            "operator": {
              "datatype": "enum",
              "scope": "fixed",
              "value": "eq"
            },
            "propertyName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "hasChildren"
            },
            "referenceValue": {
              "datatype": "object",
              "scope": "fixed",
              "value": false
            }
          },
          "returnType": "object array"
        },
        "variable": {
          "datatype": "object array",
          "name": "leafRows",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "794b1167-1abf-478c-a43c-f900a6dfa81f",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "createNewObjectArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "object array"
        },
        "variable": {
          "datatype": "object array",
          "name": "newRows",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "forEach",
        "id": "92ca926e-e6f5-4222-bb7b-16d1a6387392",
        "isCommented": false,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "object array",
            "name": "leafRows",
            "scope": "local"
          },
          "callback": {
            "function": "queryHierarchyData",
            "library": "$interactions$",
            "params": {
              "input_hierarchyData": {
                "datatype": "text array",
                "name": "input_hierarchyData",
                "scope": "local"
              },
              "input_outArray": {
                "datatype": "object array",
                "name": "rowData",
                "scope": "local"
              },
              "input_segment": {
                "datatype": "object",
                "label": "Current value",
                "name": "loop_currentValue",
                "scope": "local"
              }
            }
          }
        }
      },
      {
        "action": "execfunc",
        "function": "log",
        "id": "4889bd40-8f34-4d84-aff2-c805f82ae667",
        "isCommented": false,
        "library": "CirrusLibDebugging",
        "params": {
          "prefix": {
            "datatype": "text",
            "scope": "fixed",
            "value": "WeightRowData:"
          },
          "variable": {
            "datatype": "object array",
            "name": "rowData",
            "scope": "local"
          }
        },
        "returnType": "object"
      },
      {
        "action": "execfunc",
        "function": "setWeightSpreadsheetRowData",
        "id": "804d6b53-e47f-42e1-a672-af5f8795420d",
        "isCommented": false,
        "library": "$interactions$",
        "params": {
          "input_rowData": {
            "datatype": "object array",
            "name": "rowData",
            "scope": "local"
          }
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "onAnyEvent": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "d4c1dfc4-632b-46ae-a135-67a166a25ad6",
        "type": "calculated",
        "value": {
          "function": "isDraftObject",
          "library": "CirrusLibCirrusObject",
          "params": {},
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "cc54781b-1415-44a9-8d37-c174afb308e8",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "getAllData",
          "library": "CirrusLibPageData",
          "params": {},
          "returnType": "All Data"
        },
        "variable": {
          "datatype": "All Data",
          "name": "pageData",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "00364a5b-a411-474c-9fa5-96b96e4e0df5",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "createdFrom"
            },
            "object": {
              "datatype": "All Data",
              "name": "pageData",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "createFromKey",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "3a4d5edf-39dd-4db5-80aa-fe175d90294e",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "isNotEmpty",
          "library": "CirrusLibString",
          "params": {
            "string": {
              "name": "createFromKey",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isCreatedFromKeyNotEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "abe6cb4d-99b6-42ac-b9a4-e82a99afa92d",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "and",
          "library": "CirrusLibBoolean",
          "params": {
            "bool1": {
              "datatype": "boolean",
              "name": "isDraft",
              "scope": "local"
            },
            "bool2": {
              "datatype": "boolean",
              "name": "isCreatedFromKeyNotEmpty",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isDraftAndCreatedFrom",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "cc35cfbc-9673-40be-8ba6-fd548f845f8a",
        "includeElse": true,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "isDraftAndCreatedFrom",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "setTabDirty",
        "id": "852dec59-16a7-4383-a7a3-759c6e496146",
        "isCommented": false,
        "library": "CirrusLibPageData",
        "params": {
          "isDirty": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        }
      },
      {
        "action": "setvar",
        "id": "2f0ebec1-8b17-444d-8f67-5fc54fa075e5",
        "isCommented": false,
        "type": "fixed",
        "value": {
          "datatype": "boolean",
          "dataval": false
        },
        "variable": {
          "datatype": "boolean",
          "name": "isNotDirty",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "068079fe-f96c-421d-93cf-0aa06aed158d",
        "includeElse": true,
        "iselse": true,
        "main": "cc35cfbc-9673-40be-8ba6-fd548f845f8a",
        "test": {
          "datatype": "boolean",
          "name": "isDraftAndCreatedFrom",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "ee2f8293-0e7f-4634-9346-5dfce62d27a0",
        "type": "calculated",
        "value": {
          "function": "getDiffJSONPatch",
          "library": "CirrusLibPageData",
          "params": {},
          "returnType": "Patch array"
        },
        "variable": {
          "datatype": "Patch array",
          "name": "patch",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "d3c1f6c8-099e-4027-85c8-7fae6fa783a1",
        "type": "calculated",
        "value": {
          "function": "isObjectPageDirty",
          "library": "CirrusLibCirrusObject",
          "params": {
            "patch": {
              "datatype": "Patch array",
              "name": "patch",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isPageDirty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "e6055f2e-50ad-4533-9434-54d42a84a4fc",
        "type": "calculated",
        "value": {
          "function": "not",
          "library": "CirrusLibBoolean",
          "params": {
            "bool": {
              "datatype": "boolean",
              "name": "isPageDirty",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isNotDirty",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "81d3aead-9744-4a91-b1ba-2938d7bb26f6",
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "isNotDirty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "004e17be-f582-40d1-9d51-82d6bb66f5bc",
        "isCommented": true,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "rowState"
            },
            "object": {
              "datatype": "object",
              "name": "RulesSpreadsheet",
              "scope": "data",
              "target": "$self$"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "rowData",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "69a81a38-6c25-4f12-8fa0-038b1daca231",
        "isCommented": true,
        "type": "calculated",
        "value": {
          "function": "isNullOrUndefined",
          "library": "CirrusLibGeneral",
          "params": {
            "value": {
              "name": "rowData",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isRowStateEmpty",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "8777c7b2-35d0-4fc3-ac4a-728ebbdd08ff",
        "includeElse": true,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "isRowStateEmpty",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "c46a82a0-fe99-4c4d-9a28-e38b19cd96b0",
        "includeElse": true,
        "isCommented": false,
        "iselse": true,
        "main": "8777c7b2-35d0-4fc3-ac4a-728ebbdd08ff",
        "test": {
          "datatype": "boolean",
          "name": "isRowStateEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "5d7fdd55-ddbf-4092-b64a-27d2de606f78",
        "isCommented": true,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "items"
            },
            "object": {
              "datatype": "text",
              "name": "ruleData",
              "objectType": "RuleSet",
              "scope": "field",
              "set-field": "ruleData",
              "target": "$self$"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "ruleDataItems",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "e082be58-66b2-49c5-8354-37bdacb74204",
        "isCommented": true,
        "type": "calculated",
        "value": {
          "datatype": "boolean",
          "function": "equals",
          "library": "CirrusLibObject",
          "params": {
            "object1": {
              "name": "rowData",
              "scope": "local"
            },
            "object2": {
              "name": "ruleDataItems",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isNotDirty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "1cad228e-fb14-4612-92da-8d001bf899ad",
        "isCommented": true,
        "type": "calculated",
        "value": {
          "datatype": "boolean",
          "function": "not",
          "library": "CirrusLibBoolean",
          "params": {
            "bool": {
              "datatype": "boolean",
              "name": "isNotDirty",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isPageDirty",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "a787a3f5-176d-4c96-b13c-19c1f12e1be8",
        "includeElse": true,
        "isCommented": false,
        "main": "8777c7b2-35d0-4fc3-ac4a-728ebbdd08ff",
        "test": {
          "datatype": "boolean",
          "name": "isRowStateEmpty",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "9952e524-e671-450d-8c4f-096afba44a1b",
        "isCommented": false,
        "main": "81d3aead-9744-4a91-b1ba-2938d7bb26f6",
        "test": {
          "datatype": "boolean",
          "name": "isNotDirty",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "24cc7811-94c1-4777-a86a-7754a41b4827",
        "includeElse": true,
        "isCommented": false,
        "main": "cc35cfbc-9673-40be-8ba6-fd548f845f8a",
        "test": {
          "datatype": "boolean",
          "name": "isDraftAndCreatedFrom",
          "scope": "local"
        }
      },
      {
        "action": "setprop",
        "function": "setReadOnly",
        "id": "44a76eb6-71b3-4e7b-84ce-d3481cb6c029",
        "params": {
          "readOnly": {
            "datatype": "boolean",
            "name": "isNotDirty",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "save"
      },
      {
        "action": "execfunc",
        "function": "setTabDirty",
        "id": "989f93d8-d3c0-4878-a5d8-50b3b0739494",
        "library": "CirrusLibPageData",
        "params": {
          "isDirty": {
            "datatype": "boolean",
            "name": "isPageDirty",
            "scope": "local"
          }
        }
      }
    ],
    "sasProvided": true
  },
  "onBEPChange": {
    "inputs": [],
    "logic": [
      {
        "action": "ifelse",
        "id": "bf80b83f-a734-406c-92a8-aee597c74cfd",
        "includeElse": true,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "isBEPValid",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "a445d541-8a33-4565-9dfc-79a881871030",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "getHierarchyData",
          "library": "$interactions$",
          "params": {},
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "hierarchyData",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "log",
        "id": "029dcd3c-c9d0-4e21-a881-16b0548597dc",
        "isCommented": false,
        "library": "CirrusLibDebugging",
        "params": {
          "prefix": {
            "datatype": "text",
            "scope": "fixed",
            "value": "hierarchyData:"
          },
          "variable": {
            "name": "hierarchyData",
            "scope": "local"
          }
        },
        "returnType": "\u003cany\u003e"
      },
      {
        "action": "execfunc",
        "function": "setSpreadsheetsColumnMeta",
        "id": "f49ebfa2-e1f4-4573-ba72-2f943dd7ea9e",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setMethodSpreadsheetRowData",
        "id": "e4aec02d-1612-485d-9e44-a10a9a6482d0",
        "isCommented": false,
        "library": "$interactions$",
        "params": {
          "input_rowsArray": {
            "datatype": "object array",
            "name": "selectedBEPDataArray",
            "scope": "global"
          }
        }
      },
      {
        "action": "execfunc",
        "function": "loadWeightData",
        "id": "cff2d296-8078-46f1-b02f-746b8e301ebd",
        "isCommented": false,
        "library": "$interactions$",
        "params": {
          "input_hierarchyData": {
            "name": "hierarchyData",
            "scope": "local"
          }
        }
      },
      {
        "action": "ifelse",
        "id": "32225f16-b942-4e68-8a1d-bfda4d314cf5",
        "includeElse": true,
        "isCommented": false,
        "iselse": true,
        "main": "bf80b83f-a734-406c-92a8-aee597c74cfd",
        "test": {
          "datatype": "boolean",
          "name": "isBEPValid",
          "scope": "global"
        }
      },
      {
        "action": "addComment",
        "commentStep": "add error toast",
        "id": "ecc17e4f-ed00-4d89-b50a-a5effc2ec441",
        "isCommented": false
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "7cf9daa4-e59b-4cc8-be5c-1336daf337a5",
        "includeElse": true,
        "isCommented": false,
        "main": "bf80b83f-a734-406c-92a8-aee597c74cfd",
        "test": {
          "datatype": "boolean",
          "name": "isBEPValid",
          "scope": "global"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "onBEPRemove": {
    "inputs": [
      {
        "datatype": "text array",
        "name": "input_added"
      },
      {
        "datatype": "text array",
        "name": "input_removedNow"
      },
      {
        "datatype": "text array",
        "name": "input_removedEarlier"
      }
    ],
    "logic": [
      {
        "action": "execfunc",
        "function": "setGlobalVariables",
        "id": "09fb47b4-32cf-44d3-8312-9c4d28c63d15",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "onBEPChange",
        "id": "d0a1089c-0b49-4a35-853f-962eb2ad211c",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      }
    ],
    "sasProvided": true
  },
  "onBEPSelect": {
    "inputs": [
      {
        "datatype": "text array",
        "name": "input_addedNow"
      },
      {
        "datatype": "text array",
        "name": "input_addedEarlier"
      },
      {
        "datatype": "text array",
        "name": "input_removed"
      }
    ],
    "logic": [
      {
        "action": "execfunc",
        "function": "onBEPRemove",
        "id": "d8e6a7ea-1799-44bf-875a-921060707ede",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setGlobalVariablesFromBEP",
        "id": "16137563-5c30-42da-84d5-19415c8ec98f",
        "isCommented": false,
        "library": "$interactions$",
        "params": {
          "input_addedEarlier": {
            "datatype": "text array",
            "name": "input_addedEarlier",
            "scope": "local"
          },
          "input_addedNow": {
            "datatype": "text array",
            "name": "input_addedNow",
            "scope": "local"
          },
          "input_removed": {
            "datatype": "text array",
            "name": "input_removed",
            "scope": "local"
          }
        }
      },
      {
        "action": "execfunc",
        "function": "setGlobalVariablesFromDD",
        "id": "44fd0a1c-a152-4bb9-b72c-06f445fd5a41",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "onBEPChange",
        "id": "29a6106b-ea5c-43d5-9489-9c0abb81c5e2",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      }
    ],
    "sasProvided": true
  },
  "onCopyLoad": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_key"
      }
    ],
    "logic": [
      {
        "action": "execfunc",
        "function": "loadObjectCopyAsDraft",
        "id": "bfb70614-5817-402b-a8ab-415e35d563ad",
        "isCommented": false,
        "library": "CirrusLibCirrusObject",
        "params": {
          "copyObjectLinks": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          },
          "copySuffix": {
            "datatype": "text",
            "scope": "fixed",
            "value": "_copy"
          },
          "objectKey": {
            "datatype": "text",
            "name": "input_key",
            "scope": "local"
          }
        },
        "returnType": "All Data"
      },
      {
        "action": "execfunc",
        "function": "onDraftLoad",
        "id": "26bcfb9c-fd0a-4a74-a153-4b788c598e0d",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "onDraftLoad": {
    "inputs": [
      {
        "datatype": "numeric",
        "name": "input_id"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "bb7342d9-7587-4aab-9f00-9beca28682bb",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "getAllData",
          "library": "CirrusLibPageData",
          "params": {},
          "returnType": "All Data"
        },
        "variable": {
          "datatype": "All Data",
          "name": "pageData",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "83a1807b-328c-487a-9e2b-1306d1e7a6c6",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "createdFrom"
            },
            "object": {
              "datatype": "All Data",
              "name": "pageData",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "createdFrom",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "bdd4f463-f21a-43a2-900f-4ded4670c36c",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "isNullOrUndefined",
          "library": "CirrusLibGeneral",
          "params": {
            "value": {
              "name": "createdFrom",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isCreatedFromEmpty",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "setGlobalVariables",
        "id": "889c5c8c-1f18-4c38-9d7f-77bf3485ae1a",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "ifelse",
        "id": "2152a3d6-7d1e-4f91-9e4a-09bb7bd1e006",
        "includeElse": true,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "isCreatedFromEmpty",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "loadDraftObject",
        "id": "e5c12f08-3c9a-440a-9e6e-eb088be9c4b0",
        "library": "CirrusLibCirrusObject",
        "params": {},
        "returnType": "All Data"
      },
      {
        "action": "setvar",
        "id": "2bca7061-a38c-4e6b-a5c2-0f682c98af3f",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "getLocalisedObjectType",
          "library": "$interactions$",
          "params": {},
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "objectType",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "b5742c67-ab43-45e4-a642-1adea308c059",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "concat",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "name": "objectType",
              "scope": "local"
            },
            "string2": {
              "datatype": "text",
              "scope": "fixed",
              "value": ": "
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "name_str",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "abc939d1-45df-44b5-a739-898dec76a0a9",
        "isCommented": false,
        "type": "variable",
        "value": {
          "datatype": "text",
          "name": "name_str",
          "scope": "local"
        },
        "variable": {
          "datatype": "text",
          "name": "name_readonly",
          "scope": "data",
          "target": "$self$"
        }
      },
      {
        "action": "setvar",
        "id": "897aacb6-5950-4e02-b6c9-215a08894ff1",
        "isCommented": false,
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": "WEIGHT"
        },
        "variable": {
          "datatype": "text",
          "name": "defaultAllocationType",
          "objectType": "AllocationScheme",
          "scope": "field",
          "set-field": "defaultAllocationType",
          "target": "$self$"
        }
      },
      {
        "action": "setvar",
        "id": "dc5557e7-916a-4244-bc08-b44041dbcc5c",
        "isCommented": false,
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": "EQUAL"
        },
        "variable": {
          "datatype": "text",
          "name": "defaultAllocationMethod",
          "objectType": "AllocationScheme",
          "scope": "field",
          "set-field": "defaultAllocationMethod",
          "target": "$self$"
        }
      },
      {
        "action": "ifelse",
        "id": "349d12f7-2a32-4959-a1c5-0372aa4e583d",
        "includeElse": true,
        "isCommented": false,
        "iselse": true,
        "main": "2152a3d6-7d1e-4f91-9e4a-09bb7bd1e006",
        "test": {
          "datatype": "boolean",
          "name": "isCreatedFromEmpty",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "onNameChange",
        "id": "1ca4472f-4df6-46c1-98ce-805b85911bae",
        "isCommented": false,
        "library": "$interactions$",
        "params": {
          "input_value": {
            "datatype": "text",
            "name": "name",
            "objectType": "RuleSet",
            "scope": "field",
            "set-field": "name",
            "target": "$self$"
          }
        }
      },
      {
        "action": "execfunc",
        "function": "setGlobalVariablesFromBEP",
        "id": "13bfe7a4-0be3-4541-a900-45bf8bbad8fb",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setSpreadsheetColumnMeta",
        "id": "cb584ce8-40c5-4fb8-bab5-63626e984497",
        "isCommented": true,
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setSpreadsheetRowData",
        "id": "37aeaa1f-d241-49a4-97f1-ae1d27625517",
        "isCommented": true,
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "f212f312-1b4c-4b17-91ca-86c35e6399ce",
        "includeElse": true,
        "isCommented": false,
        "main": "2152a3d6-7d1e-4f91-9e4a-09bb7bd1e006",
        "test": {
          "datatype": "boolean",
          "name": "isCreatedFromEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "48e8913d-1362-4c80-a034-27c0ede0eb7b",
        "isCommented": false,
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": "DEV"
        },
        "variable": {
          "datatype": "text",
          "name": "statusCd",
          "objectType": "RuleSet",
          "scope": "field",
          "set-field": "statusCd",
          "target": "$self$"
        }
      },
      {
        "action": "execfunc",
        "function": "setTypeDropdown",
        "id": "a3aa9d60-ec63-4703-b1a0-0de826edad06",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setMethodDropdown",
        "id": "155ceb0e-4834-4cd5-b3db-f06703e9b12f",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setStatusDropdown",
        "id": "61ed38a9-59e0-4490-b38e-998ea2d272c2",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setRequiredFields",
        "id": "b2a4821a-0ba6-4068-a529-c1bd1efdd1df",
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setReadOnlyFields",
        "id": "728dd132-0254-45bb-8276-f739968d9e48",
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setScreenReadOnly",
        "id": "d8d90539-a911-4400-bab0-7b99da3b88c9",
        "library": "$interactions$",
        "params": {}
      }
    ],
    "sasProvided": true
  },
  "onEditLoad": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_key"
      }
    ],
    "logic": [
      {
        "action": "execfunc",
        "function": "loadExistingObject",
        "id": "c544cf1f-cd71-42ec-b03f-9f746293e988",
        "library": "CirrusLibCirrusObject",
        "params": {
          "key": {
            "datatype": "text",
            "name": "input_key",
            "scope": "local"
          }
        },
        "returnType": "All Data"
      },
      {
        "action": "execfunc",
        "function": "setGlobalVariables",
        "id": "c3dc507d-e592-464b-81e7-751cad922576",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setGlobalVariablesFromBEP",
        "id": "155626df-f8c0-4b23-8736-9bc2e3be288b",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setTypeDropdown",
        "id": "cbb86e3b-42e9-4e7a-9a99-502820719f42",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setMethodDropdown",
        "id": "7524cc1c-8f6c-422e-a35c-58524574f0b2",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setStatusDropdown",
        "id": "da5e7c5c-8106-45d5-97b4-14df5ab57b22",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setRequiredFields",
        "id": "3149a45e-db56-4977-a3cf-07f1e688b23e",
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setReadOnlyFields",
        "id": "d741389f-6d98-49a8-88c2-93cf95b0c9c3",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "setvar",
        "id": "c468ae91-2ae3-4267-b8ae-d5b2e3cc1d9f",
        "type": "fixed",
        "value": {
          "datatype": "boolean",
          "dataval": true
        },
        "variable": {
          "datatype": "boolean",
          "name": "true",
          "scope": "local"
        }
      },
      {
        "action": "setprop",
        "function": "setReadOnly",
        "id": "a1d2dbc2-5db6-4fba-9f80-818bdd504029",
        "params": {
          "readOnly": {
            "datatype": "boolean",
            "name": "true",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "objectId"
      },
      {
        "action": "execfunc",
        "function": "onNameChange",
        "id": "e987b146-0c3b-45a6-9af0-7730c75990fe",
        "library": "$interactions$",
        "params": {
          "input_value": {
            "datatype": "text",
            "name": "name",
            "objectType": "Script",
            "scope": "field",
            "set-field": "name",
            "target": "$self$"
          }
        }
      },
      {
        "action": "execfunc",
        "function": "setSpreadsheetsColumnMeta",
        "id": "691c5a09-5c5d-4559-ac32-927cf5b0dd5f",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "loadMethodData",
        "id": "f1ef4a24-5b4d-4a01-8aef-928bd21b33ba",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setScreenReadOnly",
        "id": "ebdbfc12-5c28-4159-801c-35622b39f309",
        "library": "$interactions$",
        "params": {}
      }
    ],
    "sasProvided": true
  },
  "onMethodCellEdit": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_widgetID"
      },
      {
        "datatype": "object",
        "name": "input_colDef"
      },
      {
        "datatype": "object",
        "name": "input_data"
      },
      {
        "datatype": "text",
        "name": "input_newValue"
      },
      {
        "datatype": "text",
        "name": "input_oldValue"
      },
      {
        "datatype": "numeric",
        "name": "input_rowIndex"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "097e3b43-3f39-4bd0-b963-ea485ad69d8f",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "rowState"
            },
            "object": {
              "datatype": "object",
              "name": "WeightSpreadsheet",
              "scope": "data",
              "target": "$self$"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "weightRowData",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "095ee2dd-7d03-4929-b786-58118a24a044",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "coalesce",
          "library": "CirrusLibGeneral",
          "params": {
            "arg1": {
              "datatype": "\u003cany\u003e",
              "name": "weightRowData",
              "scope": "local"
            },
            "arg2": {
              "datatype": "object array",
              "name": "lastKnowWeightRowData",
              "scope": "global"
            }
          },
          "returnType": "\u003cOutgoing\u003e"
        },
        "variable": {
          "datatype": "\u003cOutgoing\u003e",
          "name": "weightRowData",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "updateWeights",
        "id": "97838a24-758a-46e3-98af-2da5b6e7252a",
        "isCommented": false,
        "library": "$interactions$",
        "params": {
          "input_segmentFilterRowObject": {
            "datatype": "object",
            "name": "input_data",
            "scope": "local"
          },
          "input_weightRowsData": {
            "name": "weightRowData",
            "scope": "local"
          }
        }
      },
      {
        "action": "setvar",
        "id": "0b99a1b1-b820-4b2b-95a6-9f185d5b2cb0",
        "isCommented": false,
        "type": "variable",
        "value": {
          "datatype": "\u003cOutgoing\u003e",
          "name": "weightRowData",
          "scope": "local"
        },
        "variable": {
          "datatype": "\u003cOutgoing\u003e",
          "name": "lastKnowWeightRowData",
          "scope": "global"
        }
      },
      {
        "action": "setprop",
        "function": "setSpreadsheetRowData",
        "id": "4c09a599-2139-4ba5-a50f-6fc1d807d941",
        "isCommented": false,
        "params": {
          "spreadsheetRowData": {
            "datatype": "\u003cany\u003e",
            "name": "weightRowData",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "WeightSpreadsheet"
      },
      {
        "action": "dispatch",
        "id": "e9aa9e54-9a75-4a2b-ad0b-9e06d8285fc4",
        "isCommented": false
      }
    ],
    "sasProvided": true
  },
  "onNameChange": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_value"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "ee03cb54-7912-46d5-9133-ec9645ef904f",
        "type": "calculated",
        "value": {
          "function": "getLocalisedObjectType",
          "library": "$interactions$",
          "params": {},
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "objectType",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "7de7df33-1197-4ba0-b670-127b0688da4a",
        "type": "calculated",
        "value": {
          "function": "concat",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "name": "objectType",
              "scope": "local"
            },
            "string2": {
              "datatype": "text",
              "scope": "fixed",
              "value": ": "
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "name_str",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "7edb0eab-2f82-48bf-b722-283144b5cbd8",
        "type": "calculated",
        "value": {
          "function": "concat",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "name": "name_str",
              "scope": "local"
            },
            "string2": {
              "datatype": "text",
              "name": "input_value",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "name_readonly",
          "scope": "data",
          "target": "$self$"
        }
      }
    ],
    "sasProvided": true
  },
  "onSave": {
    "inputs": [],
    "logic": [
      {
        "action": "execfunc",
        "function": "clearPopups",
        "id": "3748a343-f37a-40cd-8e39-5984eaca4964",
        "library": "CirrusLibPage",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "showLoadingOverlay",
        "id": "a2fd1542-a943-4e8a-a072-1ff59ec4773d",
        "library": "CirrusLibPage",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "storeData",
        "id": "3b23ee11-e48c-4671-b617-1fbf1f515873",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "setvar",
        "id": "3e1b06cf-f5b7-40f3-9404-1dba93451775",
        "type": "calculated",
        "value": {
          "function": "getAllData",
          "library": "CirrusLibPageData",
          "params": {},
          "returnType": "All Data"
        },
        "variable": {
          "datatype": "All Data",
          "name": "data",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "25a812c6-1ecf-4568-8eb8-40971f79010f",
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": "AllocationScheme"
        },
        "variable": {
          "datatype": "text",
          "name": "objectType",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "63b71551-5558-4cf5-ae49-9ba8b5cf3ccb",
        "type": "calculated",
        "value": {
          "function": "isDraftObject",
          "library": "CirrusLibCirrusObject",
          "params": {},
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "79f7dfb0-cf27-4b24-82d0-31093327c6eb",
        "type": "calculated",
        "value": {
          "function": "validateFields",
          "library": "CirrusLibPageData",
          "params": {},
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "areRequiredFieldsEmpty",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "77ee1938-8f93-4499-957a-ade0ab658d7f",
        "includeElse": true,
        "test": {
          "datatype": "boolean",
          "name": "areRequiredFieldsEmpty",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "79d211b4-4e5f-49e1-9a4d-66318f1b2619",
        "includeElse": true,
        "iselse": true,
        "main": "77ee1938-8f93-4499-957a-ade0ab658d7f",
        "test": {
          "datatype": "boolean",
          "name": "areRequiredFieldsEmpty",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "69520823-69f5-4aa7-bbf7-a54415a82bf7",
        "includeElse": true,
        "test": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "31858a68-b7d2-4b16-ac3b-c408564c5189",
        "type": "calculated",
        "value": {
          "function": "saveDraft",
          "library": "CirrusLibCirrusObject",
          "params": {
            "data": {
              "datatype": "All Data",
              "name": "data",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "newKey",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "5026a5eb-94c8-47a0-af9e-f9bf8c4637f0",
        "type": "calculated",
        "value": {
          "function": "toString",
          "library": "CirrusLibString",
          "params": {
            "value": {
              "datatype": "text",
              "name": "newKey",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "newKeyString",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "6b5a4163-2b94-4f71-9bed-69280feeaba1",
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": "false"
        },
        "variable": {
          "datatype": "text",
          "name": "falseString",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "acde16fe-21a7-4fc7-88d9-33e4cd41220d",
        "type": "calculated",
        "value": {
          "function": "strEquals",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "name": "newKeyString",
              "scope": "local"
            },
            "string2": {
              "datatype": "text",
              "name": "falseString",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isKeyFalse",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "42c4c492-be76-458e-a23e-f3f07881041f",
        "includeElse": true,
        "test": {
          "datatype": "boolean",
          "name": "isKeyFalse",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "a0abdbd5-57fd-4460-9580-ec7360eb8fa4",
        "includeElse": true,
        "iselse": true,
        "main": "42c4c492-be76-458e-a23e-f3f07881041f",
        "test": {
          "datatype": "boolean",
          "name": "isKeyFalse",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "0fbbe199-f0da-4099-aca9-6f82731308ed",
        "type": "calculated",
        "value": {
          "function": "getEditLocation",
          "library": "CirrusLibNav",
          "params": {
            "key": {
              "datatype": "text",
              "name": "newKey",
              "scope": "local"
            },
            "objectType": {
              "datatype": "text",
              "name": "objectType",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "newLocation",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "a183a299-8718-456b-9ccf-3f7f487c0611",
        "type": "fixed",
        "value": {
          "datatype": "boolean",
          "dataval": true
        },
        "variable": {
          "datatype": "boolean",
          "name": "replaceInBrowser",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "navigate",
        "id": "31b56e22-9610-45a8-88af-ea9b7c26b46c",
        "library": "CirrusLibNav",
        "params": {
          "location": {
            "datatype": "text",
            "name": "newLocation",
            "scope": "local"
          },
          "replace": {
            "datatype": "boolean",
            "name": "replaceInBrowser",
            "scope": "local"
          }
        },
        "returnType": "text"
      },
      {
        "action": "execfunc",
        "function": "showSuccess",
        "id": "c326d03f-a2ce-4f80-a1b4-575911c41ecd",
        "library": "CirrusLibPage",
        "params": {}
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "67de0961-a24b-4dd8-b7cb-7b1122ddceeb",
        "includeElse": true,
        "main": "42c4c492-be76-458e-a23e-f3f07881041f",
        "test": {
          "datatype": "boolean",
          "name": "isKeyFalse",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "f0ac73ed-78d1-4e0f-9aa1-a35e066ea863",
        "includeElse": true,
        "iselse": true,
        "main": "69520823-69f5-4aa7-bbf7-a54415a82bf7",
        "test": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "fc5a36bd-28cc-44ec-a690-5bc29ac35276",
        "type": "calculated",
        "value": {
          "function": "saveObject",
          "library": "CirrusLibCirrusObject",
          "params": {
            "data": {
              "datatype": "All Data",
              "name": "data",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "saveSuccessful",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "fc2dfb58-f836-45a8-a385-7fe3756de2d5",
        "test": {
          "datatype": "boolean",
          "name": "saveSuccessful",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "834f1fa2-d2ad-4706-a0e3-a643bc64433f",
        "type": "calculated",
        "value": {
          "function": "getCurrentObjectKey",
          "library": "CirrusLibPageData",
          "params": {},
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "instanceKey",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "onEditLoad",
        "id": "0261ae36-77fe-484e-bdd3-8bd4c26569bc",
        "library": "$interactions$",
        "params": {
          "input_key": {
            "datatype": "text",
            "name": "instanceKey",
            "scope": "local"
          }
        }
      },
      {
        "action": "execfunc",
        "function": "showSuccess",
        "id": "6b2c4c56-a05a-4a97-97ce-25cec9e8efa5",
        "library": "CirrusLibPage",
        "params": {}
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "0a91648d-8542-401f-8e28-4065ed9b1c1d",
        "main": "fc2dfb58-f836-45a8-a385-7fe3756de2d5",
        "test": {
          "datatype": "boolean",
          "name": "saveSuccessful",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "bfae34cb-ee92-4945-ae56-2432def6ab19",
        "includeElse": true,
        "main": "69520823-69f5-4aa7-bbf7-a54415a82bf7",
        "test": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "6fa22f4c-0505-40bb-ba89-1deb1e105b22",
        "includeElse": true,
        "main": "77ee1938-8f93-4499-957a-ade0ab658d7f",
        "test": {
          "datatype": "boolean",
          "name": "areRequiredFieldsEmpty",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "hideLoadingOverlay",
        "id": "1ae963a9-f24b-438c-953b-8934da91ce67",
        "library": "CirrusLibPage",
        "params": {}
      }
    ],
    "sasProvided": true
  },
  "onTabClose": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "d4bc8813-7b01-4a4a-aa39-9179a9f3f8b6",
        "type": "calculated",
        "value": {
          "function": "getDiffJSONPatch",
          "library": "CirrusLibPageData",
          "params": {},
          "returnType": "Patch array"
        },
        "variable": {
          "datatype": "Patch array",
          "name": "patch",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "7137fef9-ed0f-4eeb-bb91-312044fd126e",
        "type": "calculated",
        "value": {
          "function": "isObjectPageDirty",
          "library": "CirrusLibCirrusObject",
          "params": {
            "patch": {
              "datatype": "Patch array",
              "name": "patch",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isDirty",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "b4baa254-da5a-4791-85dd-4cf604d92946",
        "includeElse": false,
        "test": {
          "datatype": "boolean",
          "name": "isDirty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "4cb612e0-2294-4e78-b25f-7afea93e4d5d",
        "type": "calculated",
        "value": {
          "function": "promptForConfirmNavigation",
          "library": "CirrusLibPage",
          "params": {},
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "closeAnyway",
          "scope": "local"
        }
      },
      {
        "action": "returnvar",
        "id": "d40aa399-590e-4b19-b8c5-0ea908c08bdf",
        "variable": {
          "datatype": "boolean",
          "name": "closeAnyway",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "817bd86e-4653-4dbf-9408-3471d42e4f6e",
        "includeElse": false,
        "main": "b4baa254-da5a-4791-85dd-4cf604d92946",
        "test": {
          "datatype": "boolean",
          "name": "isDirty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "bc1b02e8-8f69-4079-b6f4-ec2b58cbf408",
        "type": "calculated",
        "value": {
          "function": "not",
          "library": "CirrusLibBoolean",
          "params": {
            "bool": {
              "datatype": "boolean",
              "name": "isDirty",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "canClose",
          "scope": "local"
        }
      },
      {
        "action": "returnvar",
        "id": "91f8c96d-6a83-4f16-9083-517045695ad4",
        "variable": {
          "datatype": "boolean",
          "name": "canClose",
          "scope": "local"
        }
      }
    ],
    "sasProvided": true
  },
  "onWeightCellEdit": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_widgetID"
      },
      {
        "datatype": "object",
        "name": "input_colDef"
      },
      {
        "datatype": "object",
        "name": "input_data"
      },
      {
        "datatype": "text",
        "name": "input_newValue"
      },
      {
        "datatype": "text",
        "name": "input_oldValue"
      },
      {
        "datatype": "numeric",
        "name": "input_rowIndex"
      }
    ],
    "logic": [
      {
        "action": "execfunc",
        "function": "log",
        "id": "fd82c34f-4e7f-459b-9201-eb06067535fd",
        "isCommented": false,
        "library": "CirrusLibDebugging",
        "params": {
          "prefix": {
            "datatype": "text",
            "scope": "fixed",
            "value": "input_data:"
          },
          "variable": {
            "datatype": "object",
            "name": "input_data",
            "scope": "local"
          }
        },
        "returnType": "object"
      },
      {
        "action": "execfunc",
        "function": "log",
        "id": "bf825d87-459f-4e34-9d21-e8e9df34f85a",
        "isCommented": false,
        "library": "CirrusLibDebugging",
        "params": {
          "prefix": {
            "datatype": "text",
            "scope": "fixed",
            "value": "input_new:"
          },
          "variable": {
            "datatype": "text",
            "name": "input_newValue",
            "scope": "local"
          }
        },
        "returnType": "text"
      },
      {
        "action": "execfunc",
        "function": "log",
        "id": "9e14c3ed-5073-4504-ad1d-9df78f40b022",
        "isCommented": false,
        "library": "CirrusLibDebugging",
        "params": {
          "prefix": {
            "datatype": "text",
            "scope": "fixed",
            "value": "input_old:"
          },
          "variable": {
            "datatype": "text",
            "name": "input_oldValue",
            "scope": "local"
          }
        },
        "returnType": "text"
      },
      {
        "action": "execfunc",
        "function": "log",
        "id": "1daeb76f-fb19-4ecf-93c0-9cf249a753cc",
        "isCommented": false,
        "library": "CirrusLibDebugging",
        "params": {
          "prefix": {
            "datatype": "text",
            "scope": "fixed",
            "value": "input_colDef:"
          },
          "variable": {
            "datatype": "object",
            "name": "input_colDef",
            "scope": "local"
          }
        },
        "returnType": "object"
      },
      {
        "action": "execfunc",
        "function": "log",
        "id": "dda6454c-b45b-4a02-9250-981c94085561",
        "isCommented": false,
        "library": "CirrusLibDebugging",
        "params": {
          "prefix": {
            "datatype": "text",
            "scope": "fixed",
            "value": "input_rowIndex:"
          },
          "variable": {
            "datatype": "numeric",
            "name": "input_rowIndex",
            "scope": "local"
          }
        },
        "returnType": "numeric"
      },
      {
        "action": "setvar",
        "id": "097e3b43-3f39-4bd0-b963-ea485ad69d8f",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "rowState"
            },
            "object": {
              "datatype": "object",
              "name": "WeightSpreadsheet",
              "scope": "data",
              "target": "$self$"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "weightRowData",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "095ee2dd-7d03-4929-b786-58118a24a044",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "coalesce",
          "library": "CirrusLibGeneral",
          "params": {
            "arg1": {
              "datatype": "\u003cany\u003e",
              "name": "weightRowData",
              "scope": "local"
            },
            "arg2": {
              "datatype": "object array",
              "name": "lastKnowWeightRowData",
              "scope": "global"
            }
          },
          "returnType": "\u003cOutgoing\u003e"
        },
        "variable": {
          "datatype": "\u003cOutgoing\u003e",
          "name": "weightRowData",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "log",
        "id": "98d84a5f-f861-49f0-8183-e89271160a48",
        "isCommented": false,
        "library": "CirrusLibDebugging",
        "params": {
          "prefix": {
            "datatype": "text",
            "scope": "fixed",
            "value": "rowState:"
          },
          "variable": {
            "name": "weightRowData",
            "scope": "local"
          }
        },
        "returnType": "\u003cany\u003e"
      },
      {
        "action": "setvar",
        "id": "7b4dd64d-ecc6-4921-983e-85d3561063e8",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "name": "weightRowData",
              "scope": "local"
            },
            "index": {
              "datatype": "numeric",
              "name": "input_rowIndex",
              "scope": "local"
            }
          },
          "returnType": "\u003cIncoming\u003e"
        },
        "variable": {
          "datatype": "\u003cIncoming\u003e",
          "name": "rowToUpdate",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "23c1acee-920a-4af7-8c46-6a66846745bd",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "getTypeOf",
          "library": "CirrusLibGeneral",
          "params": {
            "value": {
              "datatype": "text",
              "name": "input_newValue",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "newValueType",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "c169d10d-b8a0-48f2-a50a-f9d4a89d92c9",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "strEquals",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "name": "newValueType",
              "scope": "local"
            },
            "string2": {
              "datatype": "text",
              "scope": "fixed",
              "value": "number"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isNumeric",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "log",
        "id": "8164c798-5729-48e0-b27b-3abd3a0e64ee",
        "isCommented": false,
        "library": "CirrusLibDebugging",
        "params": {
          "prefix": {
            "datatype": "text",
            "scope": "fixed",
            "value": "newValueType:"
          },
          "variable": {
            "datatype": "text",
            "name": "newValueType",
            "scope": "local"
          }
        },
        "returnType": "text"
      },
      {
        "action": "ifelse",
        "id": "c55e9c71-2942-4a5f-bde8-607259ccd003",
        "includeElse": true,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "isNumeric",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "7e64f112-cae5-462b-924c-f62c7b9d69c9",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "weightOverride"
          },
          "object": {
            "name": "rowToUpdate",
            "scope": "local"
          },
          "value": {
            "datatype": "text",
            "name": "input_newValue",
            "scope": "local"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "ifelse",
        "id": "090d9520-e681-4a91-b171-fe15ec413524",
        "includeElse": true,
        "isCommented": false,
        "iselse": true,
        "main": "c55e9c71-2942-4a5f-bde8-607259ccd003",
        "test": {
          "datatype": "boolean",
          "name": "isNumeric",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "remove",
        "id": "c6f599d0-0e86-480f-ab85-f5b19dc71d99",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "weightOverride"
          },
          "object": {
            "name": "rowToUpdate",
            "scope": "local"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "3566b43a-1cd8-4a1b-9dc7-9e50816c6d88",
        "includeElse": true,
        "isCommented": false,
        "main": "c55e9c71-2942-4a5f-bde8-607259ccd003",
        "test": {
          "datatype": "boolean",
          "name": "isNumeric",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "updateWeights",
        "id": "97838a24-758a-46e3-98af-2da5b6e7252a",
        "isCommented": false,
        "library": "$interactions$",
        "params": {
          "input_segmentFilterRowObject": {
            "datatype": "object",
            "name": "input_data",
            "scope": "local"
          },
          "input_weightRowsData": {
            "name": "weightRowData",
            "scope": "local"
          }
        }
      },
      {
        "action": "setvar",
        "id": "0b99a1b1-b820-4b2b-95a6-9f185d5b2cb0",
        "isCommented": false,
        "type": "variable",
        "value": {
          "datatype": "\u003cOutgoing\u003e",
          "name": "weightRowData",
          "scope": "local"
        },
        "variable": {
          "datatype": "\u003cOutgoing\u003e",
          "name": "lastKnowWeightRowData",
          "scope": "global"
        }
      },
      {
        "action": "execfunc",
        "function": "log",
        "id": "c83869fb-fe25-4d93-a869-31dce9ca11d4",
        "isCommented": false,
        "library": "CirrusLibDebugging",
        "params": {
          "prefix": {
            "datatype": "text",
            "scope": "fixed",
            "value": "rowStateAfter weights:"
          },
          "variable": {
            "name": "weightRowData",
            "scope": "local"
          }
        },
        "returnType": "\u003cany\u003e"
      },
      {
        "action": "setvar",
        "id": "d4516afc-11a3-41cb-a44e-91c854893d27",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "convertStringToArray",
          "library": "CirrusLibArray",
          "params": {
            "string": {
              "datatype": "text",
              "scope": "fixed",
              "value": "[{\"key\": \"   \", \"hierarchy\": [\"   \"], \"hasChildren\": true}]"
            }
          },
          "returnType": "\u003cOutgoing\u003e array"
        },
        "variable": {
          "datatype": "\u003cOutgoing\u003e array",
          "name": "emptyWeightData",
          "scope": "local"
        }
      },
      {
        "action": "setprop",
        "function": "setSpreadsheetRowData",
        "id": "4c09a599-2139-4ba5-a50f-6fc1d807d941",
        "isCommented": false,
        "params": {
          "spreadsheetRowData": {
            "datatype": "\u003cOutgoing\u003e array",
            "name": "emptyWeightData",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "WeightSpreadsheet"
      },
      {
        "action": "setprop",
        "function": "setSpreadsheetRowData",
        "id": "37eca5d8-9231-4126-9759-c1dd8068865c",
        "isCommented": false,
        "params": {
          "spreadsheetRowData": {
            "datatype": "\u003cany\u003e",
            "name": "weightRowData",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "WeightSpreadsheet"
      },
      {
        "action": "dispatch",
        "id": "e9aa9e54-9a75-4a2b-ad0b-9e06d8285fc4",
        "isCommented": false
      },
      {
        "action": "setvar",
        "id": "cc53e2e9-e246-4f9b-8be0-c66382afff79",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "rowState"
            },
            "object": {
              "datatype": "object",
              "name": "WeightSpreadsheet",
              "scope": "data",
              "target": "$self$"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "updatedWeightRowData",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "log",
        "id": "d3f330c5-f891-4bd3-82cf-b2717b3474b6",
        "isCommented": false,
        "library": "CirrusLibDebugging",
        "params": {
          "prefix": {
            "datatype": "text",
            "scope": "fixed",
            "value": "updatedWeightRowData:"
          },
          "variable": {
            "datatype": "object",
            "name": "updatedWeightRowData",
            "scope": "local"
          }
        },
        "returnType": "object"
      },
      {
        "action": "setvar",
        "id": "114c2836-bb4b-4f21-a829-69c5d2d481ba",
        "isCommented": false,
        "type": "fixed",
        "value": {
          "datatype": "boolean",
          "dataval": true
        },
        "variable": {
          "datatype": "boolean",
          "name": "true",
          "scope": "local"
        }
      },
      {
        "action": "returnvar",
        "id": "05fb712d-4cca-494e-a95c-d1c09df32ef6",
        "isCommented": false,
        "variable": {
          "datatype": "boolean",
          "name": "true",
          "scope": "local"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "promoteWeightRow": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_object"
      },
      {
        "datatype": "text array",
        "name": "input_properties"
      },
      {
        "datatype": "text array",
        "name": "input_outputArray"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "160b897c-1506-4ab7-96fa-59fa71ee6847",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "hasChildren"
            },
            "object": {
              "datatype": "text",
              "name": "input_object",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "hasChildren",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "8191cb6f-cf1d-4c92-8d7a-d3447a7f2daa",
        "includeElse": true,
        "isCommented": false,
        "test": {
          "datatype": "\u003cany\u003e",
          "name": "hasChildren",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "249effd3-b7f2-4cb2-9fb9-35ead283342d",
        "isCommented": false,
        "type": "fixed",
        "value": {
          "datatype": "boolean",
          "dataval": true
        },
        "variable": {
          "datatype": "boolean",
          "name": "promoteRow",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "40014b1e-aa6e-424f-9fd6-e4897870e330",
        "includeElse": true,
        "isCommented": false,
        "iselse": true,
        "main": "8191cb6f-cf1d-4c92-8d7a-d3447a7f2daa",
        "test": {
          "datatype": "\u003cany\u003e",
          "name": "hasChildren",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "f1abe1df-5e87-4486-9d2d-720a4f359b1e",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "targetType"
            },
            "object": {
              "datatype": "text",
              "name": "input_object",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "targetType",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "386792ba-e59d-4e00-96ac-9d7554f67c3e",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "boolean",
          "function": "includes",
          "library": "CirrusLibString",
          "params": {
            "mainString": {
              "datatype": "text",
              "scope": "fixed",
              "value": "GROWTH_LIQ_NO_ROLL|GROWTH_LIQ_W_ROLL"
            },
            "subString": {
              "datatype": "boolean",
              "name": "targetType",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "promoteRow",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "f87a7571-104e-4380-be07-8ee952a2530d",
        "includeElse": true,
        "isCommented": false,
        "main": "8191cb6f-cf1d-4c92-8d7a-d3447a7f2daa",
        "test": {
          "datatype": "\u003cany\u003e",
          "name": "hasChildren",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "30adfbf2-5981-4524-bdc2-037c94e26ff7",
        "includeElse": false,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "promoteRow",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "4d746367-9353-402e-9eba-7eebaabbbb34",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "createEmptyObject",
          "library": "CirrusLibObject",
          "params": {},
          "returnType": "object"
        },
        "variable": {
          "datatype": "object",
          "name": "targetObject",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "forEach",
        "id": "61eea872-ebd3-458d-81a2-84aadc8d681d",
        "isCommented": false,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "text array",
            "name": "input_properties",
            "scope": "local"
          },
          "callback": {
            "function": "copyObjectAttribute",
            "library": "$interactions$",
            "params": {
              "input_attribute": {
                "datatype": "object",
                "label": "Current value",
                "name": "loop_currentValue",
                "scope": "local"
              },
              "input_inObject": {
                "datatype": "object",
                "name": "input_object",
                "scope": "local"
              },
              "input_outObject": {
                "datatype": "object",
                "name": "targetObject",
                "scope": "local"
              }
            }
          }
        }
      },
      {
        "action": "execfunc",
        "function": "push",
        "id": "01472f86-aa02-4818-9ba1-40ad3643e28b",
        "isCommented": false,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "text array",
            "name": "input_outputArray",
            "scope": "local"
          },
          "value": {
            "datatype": "object",
            "name": "targetObject",
            "scope": "local"
          }
        },
        "returnType": "numeric"
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "a48290a7-defa-49d0-8439-3636d5e12d9b",
        "includeElse": false,
        "isCommented": false,
        "main": "30adfbf2-5981-4524-bdc2-037c94e26ff7",
        "test": {
          "datatype": "boolean",
          "name": "promoteRow",
          "scope": "local"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "queryHierarchyData": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_segment"
      },
      {
        "datatype": "text array",
        "name": "input_outArray"
      },
      {
        "datatype": "text array",
        "name": "input_hierarchyData"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "b6d33d73-a8be-4992-b571-da731a8b2cf7",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "segmentFilter"
            },
            "object": {
              "datatype": "text",
              "name": "input_segment",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "segmentFilter",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "7a0fb1d9-ffc0-4a87-a7e2-22802e33e904",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "key"
            },
            "object": {
              "datatype": "text",
              "name": "input_segment",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "segmentKey",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "4981246a-22a4-401d-bf0f-d03463d334c7",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "hierarchy"
            },
            "object": {
              "datatype": "text",
              "name": "input_segment",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "hierarchy",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "a134ca96-6ba2-44e4-979d-8bb7d179c058",
        "isCommented": false,
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": "hasChildren,members,targetVar,targetType,segmentFilter,allocationType,allocationMethod"
        },
        "variable": {
          "datatype": "text",
          "name": "attributes",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "418d97bf-b580-43c0-8c68-f407cf592f21",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "split",
          "library": "CirrusLibString",
          "params": {
            "separator": {
              "datatype": "text",
              "scope": "fixed",
              "value": ","
            },
            "string": {
              "datatype": "text",
              "name": "attributes",
              "scope": "local"
            }
          },
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "attributesArray",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "79fe7b3c-75b6-4c6f-8226-d70a31c2ce4c",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "copyObject",
          "library": "$interactions$",
          "params": {
            "input_object": {
              "datatype": "text",
              "name": "input_segment",
              "scope": "local"
            },
            "input_properties": {
              "datatype": "text array",
              "name": "attributesArray",
              "scope": "local"
            }
          },
          "returnType": "object"
        },
        "variable": {
          "datatype": "object",
          "name": "newRow",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "8b31dc93-00f4-4d68-95b2-bae36102d7e3",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "segment"
          },
          "object": {
            "datatype": "object",
            "name": "newRow",
            "scope": "local"
          },
          "value": {
            "scope": "fixed",
            "value": "  "
          }
        },
        "returnType": "object"
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "e1843132-2239-4031-a2b7-d679663da9e4",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "isLeaf"
          },
          "object": {
            "datatype": "object",
            "name": "newRow",
            "scope": "local"
          },
          "value": {
            "scope": "fixed",
            "value": true
          }
        },
        "returnType": "object"
      },
      {
        "action": "execfunc",
        "function": "push",
        "id": "f1b33b61-65a6-4eef-b44f-a7ea9f2c9231",
        "isCommented": false,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "text array",
            "name": "attributesArray",
            "scope": "local"
          },
          "value": {
            "datatype": "text",
            "scope": "fixed",
            "value": "segment"
          }
        },
        "returnType": "numeric"
      },
      {
        "action": "execfunc",
        "function": "push",
        "id": "7142fdaf-cf35-4a06-bd52-f418739cbc2d",
        "isCommented": false,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "text array",
            "name": "attributesArray",
            "scope": "local"
          },
          "value": {
            "datatype": "text",
            "scope": "fixed",
            "value": "isLeaf"
          }
        },
        "returnType": "numeric"
      },
      {
        "action": "addComment",
        "commentStep": "filter hierarchy data with segment filter",
        "id": "fd0edb8d-e7b6-44cc-88a3-1d5d3af37438",
        "isCommented": false
      },
      {
        "action": "setvar",
        "id": "4b9faf83-180e-4302-a8be-c9081bebc3ba",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "filterHierarchyData",
          "library": "$interactions$",
          "params": {
            "input_hierarchyData": {
              "datatype": "text array",
              "name": "input_hierarchyData",
              "scope": "local"
            },
            "input_object": {
              "datatype": "text",
              "name": "input_segment",
              "scope": "local"
            }
          },
          "returnType": "object array"
        },
        "variable": {
          "datatype": "object array",
          "name": "filteredRows",
          "scope": "local"
        }
      },
      {
        "action": "addComment",
        "commentStep": "copy primary key attributes from the result",
        "id": "ff00b80d-f725-4520-8288-fcb00c589b42",
        "isCommented": false
      },
      {
        "action": "setvar",
        "id": "8b9df03d-dc5b-4a43-aaf2-8d4e14f04a17",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "map",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "object array",
              "name": "filteredRows",
              "scope": "local"
            },
            "callback": {
              "function": "copyObject",
              "library": "$interactions$",
              "params": {
                "input_object": {
                  "datatype": "object",
                  "label": "Current value",
                  "name": "loop_currentValue",
                  "scope": "local"
                },
                "input_properties": {
                  "datatype": "text array",
                  "name": "selectedPrimaryKeyColumns",
                  "scope": "global"
                }
              },
              "returnType": "object"
            }
          },
          "returnType": "object array"
        },
        "variable": {
          "datatype": "object array",
          "name": "filteredRowsCopy",
          "scope": "local"
        }
      },
      {
        "action": "addComment",
        "commentStep": "merge segment row attributes",
        "id": "c94427be-357b-4357-b873-9b0523722e1a",
        "isCommented": false
      },
      {
        "action": "setvar",
        "id": "5cdd80c5-2e70-4db4-876b-d32a184f55ac",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "map",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "object array",
              "name": "filteredRows",
              "scope": "local"
            },
            "callback": {
              "function": "copyObject",
              "library": "$interactions$",
              "params": {
                "input_object": {
                  "datatype": "object",
                  "name": "newRow",
                  "scope": "local"
                },
                "input_properties": {
                  "datatype": "text array",
                  "name": "attributesArray",
                  "scope": "local"
                },
                "input_targetObject": {
                  "datatype": "object",
                  "label": "Current value",
                  "name": "loop_currentValue",
                  "scope": "local"
                }
              },
              "returnType": "object"
            }
          },
          "returnType": "object array"
        },
        "variable": {
          "datatype": "object array",
          "name": "filteredRowsCopy",
          "scope": "local"
        }
      },
      {
        "action": "addComment",
        "commentStep": "add key and hierarchy attibute",
        "id": "f01ee937-54cb-48a6-88b9-ac9350faf801",
        "isCommented": false
      },
      {
        "action": "execfunc",
        "function": "forEach",
        "id": "f9e36092-c11f-4c8b-8264-e9a6a1ba2fc5",
        "isCommented": false,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "object array",
            "name": "filteredRowsCopy",
            "scope": "local"
          },
          "callback": {
            "function": "addLeafRowKey",
            "library": "$interactions$",
            "params": {
              "input_hierarchy": {
                "name": "hierarchy",
                "scope": "local"
              },
              "input_object": {
                "datatype": "object",
                "label": "Current value",
                "name": "loop_currentValue",
                "scope": "local"
              }
            }
          }
        }
      },
      {
        "action": "execfunc",
        "function": "forEach",
        "id": "9b4baa35-0b6e-4e98-854a-75fbb4c2c27b",
        "isCommented": false,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "object array",
            "name": "filteredRowsCopy",
            "scope": "local"
          },
          "callback": {
            "function": "push",
            "library": "CirrusLibArray",
            "params": {
              "array": {
                "datatype": "text array",
                "name": "input_outArray",
                "scope": "local"
              },
              "value": {
                "datatype": "object",
                "label": "Current value",
                "name": "loop_currentValue",
                "scope": "local"
              }
            },
            "returnType": "numeric"
          }
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "setDefaultName": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_value"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "8f16928d-f7cd-468b-b70f-a9bd200b67ca",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "toBoolean",
          "library": "CirrusLibBoolean",
          "params": {
            "value": {
              "datatype": "text",
              "name": "name",
              "objectType": "RuleSet",
              "scope": "field",
              "set-field": "name",
              "target": "$self$"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isNameSet",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "7456feb8-1286-4ace-b01d-aa941a2e510e",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "boolean",
          "function": "not",
          "library": "CirrusLibBoolean",
          "params": {
            "bool": {
              "datatype": "boolean",
              "name": "isNameSet",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isNameSet",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "6c15e3e2-1a54-424b-ad63-2f9e76cd826d",
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "isNameSet",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "1ea1c463-a984-4034-9730-423d9ca4c004",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "getLocalisedObjectType",
          "library": "$interactions$",
          "params": {},
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "objectType",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "87853f6d-4274-4e63-ac9c-763776cce1ed",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "concat",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "name": "objectType",
              "scope": "local"
            },
            "string2": {
              "datatype": "text",
              "scope": "fixed",
              "value": ": "
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "name_str",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "ed0d51a2-92ce-47c0-b511-0a7a20662e17",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "concat",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "name": "name_str",
              "scope": "local"
            },
            "string2": {
              "datatype": "text",
              "name": "input_value",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "name_readonly",
          "scope": "data",
          "target": "$self$"
        }
      },
      {
        "action": "setvar",
        "id": "70eff02a-536d-44cb-ba69-436d207fe667",
        "isCommented": false,
        "type": "variable",
        "value": {
          "datatype": "text",
          "name": "input_value",
          "scope": "local"
        },
        "variable": {
          "datatype": "text",
          "name": "name",
          "objectType": "RuleSet",
          "scope": "field",
          "set-field": "name",
          "target": "$self$"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "b84c01a7-b764-4549-95c1-6ccdd717b0d5",
        "isCommented": false,
        "main": "6c15e3e2-1a54-424b-ad63-2f9e76cd826d",
        "test": {
          "datatype": "boolean",
          "name": "isNameSet",
          "scope": "local"
        }
      }
    ],
    "sasProvided": true
  },
  "setGlobalVariables": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "497a4ba2-f7ad-4855-9b89-c118a226484a",
        "isCommented": false,
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": ""
        },
        "variable": {
          "datatype": "text",
          "name": "selectedBEPKey",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "bd7b6aa7-8bfc-4f87-a3f7-bfb47535d33d",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "text",
          "function": "setNull",
          "library": "CirrusLibGeneral",
          "params": {},
          "returnType": "\u003cIncoming\u003e"
        },
        "variable": {
          "datatype": "text",
          "name": "selectedBEPObject",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "d8eebcec-3506-4b1e-a130-3c55895a060f",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "createNewObjectArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "object array"
        },
        "variable": {
          "datatype": "object array",
          "name": "selectedBEPDataArray",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "01b064a8-a4a9-4dd9-84b1-f91d997a73d1",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "text",
          "function": "setNull",
          "library": "CirrusLibGeneral",
          "params": {},
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "selectedPlanningData",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "32719bae-5be3-47da-bbab-d695f204d801",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "text",
          "function": "setNull",
          "library": "CirrusLibGeneral",
          "params": {},
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "selectedDataDefinition",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "ad14c091-5fcc-411e-b1c5-8016d2efde76",
        "isCommented": false,
        "type": "fixed",
        "value": {
          "datatype": "boolean",
          "dataval": false
        },
        "variable": {
          "datatype": "boolean",
          "name": "isBEPValid",
          "scope": "global"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "setGlobalVariablesFromBEP": {
    "inputs": [
      {
        "datatype": "text array",
        "name": "input_addedNow"
      },
      {
        "datatype": "text array",
        "name": "input_addedEarlier"
      },
      {
        "datatype": "text array",
        "name": "input_removed"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "b8f85311-3bc7-49dc-be1a-91e07d73bfdc",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "getCurrentObjectKey",
          "library": "CirrusLibPageData",
          "params": {},
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "key",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "8f5c2cef-0dc2-461e-89f9-a786e7427e25",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "createNewObjectArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "object array"
        },
        "variable": {
          "datatype": "object array",
          "name": "linkedBEPs",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "a6dc9b95-eb56-4b4a-81da-112b0c0b2783",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "loadLinkInstances",
          "library": "CirrusLibCirrusObjectLinkInstance",
          "params": {
            "added": {
              "datatype": "text array",
              "name": "input_addedNow",
              "scope": "local"
            },
            "linkTypeId": {
              "datatype": "text",
              "scope": "fixed",
              "value": "allocationScheme_bep"
            },
            "linkTypeSSC": {
              "datatype": "text",
              "scope": "fixed",
              "value": "RCC"
            },
            "linkedToKey": {
              "datatype": "text",
              "name": "key",
              "scope": "local"
            },
            "linkedToSchemaName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "AllocationScheme"
            },
            "schemaName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "BusinessEvolutionPlan"
            },
            "side": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 2
            }
          },
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "linkedBEPs",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "log",
        "id": "0aec258b-063d-489f-ae51-b6dcb5d8b31f",
        "isCommented": false,
        "library": "CirrusLibDebugging",
        "params": {
          "prefix": {
            "datatype": "text",
            "scope": "fixed",
            "value": "linkedBEPs:"
          },
          "variable": {
            "datatype": "text array",
            "name": "linkedBEPs",
            "scope": "local"
          }
        },
        "returnType": "text"
      },
      {
        "action": "setvar",
        "id": "a2076ae6-acb5-41d5-bc86-1d5987a90fd7",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "hasAnyItems",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "linkedBEPs",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "hasLinkedBEP",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "c53afeb9-522a-47a1-bfcf-0a3c62a08017",
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "hasLinkedBEP",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "be779c85-0a4f-45d7-b34b-c606afe78165",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "isNullOrUndefined",
          "library": "CirrusLibGeneral",
          "params": {
            "value": {
              "datatype": "text array",
              "name": "input_addedNow",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "hasNoAddedNow",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "76b805c0-ac92-4ac5-8e46-f7bb282160a5",
        "includeElse": true,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "hasNoAddedNow",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "9be46bbb-74db-4418-98a5-52ab621b5da9",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "linkedBEPs",
              "scope": "local"
            },
            "index": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 0
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "selectedBEPObject",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "6a01695b-f1bf-43be-80f8-9c5aa4f1cb9b",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "text",
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "key"
            },
            "object": {
              "datatype": "text",
              "name": "selectedBEPObject",
              "scope": "global"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "selectedBEPKey",
          "scope": "global"
        }
      },
      {
        "action": "ifelse",
        "id": "48f376d4-cce9-4657-8831-8a33b5e4bf24",
        "includeElse": true,
        "isCommented": false,
        "iselse": true,
        "main": "76b805c0-ac92-4ac5-8e46-f7bb282160a5",
        "test": {
          "datatype": "boolean",
          "name": "hasNoAddedNow",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "37eb4d10-07b0-4e7c-a595-d745893edbe8",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "text",
          "function": "get",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "input_addedNow",
              "scope": "local"
            },
            "index": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 0
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "selectedBEPKey",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "0cf12a33-dbee-47e1-b3d3-b8c5f785e427",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "filterObjects",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "linkedBEPs",
              "scope": "local"
            },
            "operator": {
              "datatype": "enum",
              "scope": "fixed",
              "value": "eq"
            },
            "propertyName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "key"
            },
            "referenceValue": {
              "datatype": "text",
              "name": "selectedBEPKey",
              "scope": "global"
            }
          },
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "filteredLinkedBEPs",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "9e50ccc6-03e4-4ebf-8c4b-d302c0e29676",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "filteredLinkedBEPs",
              "scope": "local"
            },
            "index": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 0
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "selectedBEPObject",
          "scope": "global"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "3388e430-c981-4e8e-9669-9c2093c9da97",
        "includeElse": true,
        "isCommented": false,
        "main": "76b805c0-ac92-4ac5-8e46-f7bb282160a5",
        "test": {
          "datatype": "boolean",
          "name": "hasNoAddedNow",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "cbb02525-5f28-47fd-bd0d-9605d547b8be",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "bepData"
            },
            "object": {
              "datatype": "text",
              "name": "selectedBEPObject",
              "scope": "global"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "bepData",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "2fa4d868-b64a-47ed-8fbc-6e1c2f8defd3",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "data"
            },
            "object": {
              "datatype": "object array",
              "name": "bepData",
              "scope": "local"
            }
          },
          "returnType": "object array"
        },
        "variable": {
          "datatype": "object array",
          "name": "selectedBEPDataArray",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "53c2181c-7ed2-4aa2-85e3-f9f36ee73f73",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "loadLinkInstances",
          "library": "CirrusLibCirrusObjectLinkInstance",
          "params": {
            "linkTypeId": {
              "datatype": "text",
              "scope": "fixed",
              "value": "businessEvolutionPlan_hierarchyData"
            },
            "linkTypeSSC": {
              "datatype": "text",
              "scope": "fixed",
              "value": "RCC"
            },
            "linkedToKey": {
              "datatype": "text",
              "name": "selectedBEPKey",
              "scope": "global"
            },
            "linkedToSchemaName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "BusinessEvolutionPlan"
            },
            "schemaName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "AnalysisData"
            },
            "side": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 2
            }
          },
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "linkedPlanningData",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "59b6d951-275f-4923-a07f-8eeccef0c818",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "size",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "linkedPlanningData",
              "scope": "local"
            }
          },
          "returnType": "numeric"
        },
        "variable": {
          "datatype": "numeric",
          "name": "planningDataItemsCount",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "cc3e0cbf-2878-4783-be61-f813e21f6056",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "eq",
          "library": "CirrusLibMath",
          "params": {
            "number1": {
              "datatype": "numeric",
              "name": "planningDataItemsCount",
              "scope": "local"
            },
            "number2": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 1
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isBEPValid",
          "scope": "global"
        }
      },
      {
        "action": "ifelse",
        "id": "dc75ec1a-b443-4c81-8a85-edb61de7c8d6",
        "includeElse": true,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "isBEPValid",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "de8a3ec8-f066-4097-9137-336b9d74286e",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "linkedPlanningData",
              "scope": "local"
            },
            "index": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 0
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "selectedPlanningData",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "a45a2088-b175-43d2-b7bc-36764e70f098",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "key"
            },
            "object": {
              "datatype": "text",
              "name": "selectedPlanningData",
              "scope": "global"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "planningDataKey",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "44ffcf37-8a56-41d7-8a01-15d79bd86a2e",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "loadLinkInstances",
          "library": "CirrusLibCirrusObjectLinkInstance",
          "params": {
            "linkTypeId": {
              "datatype": "text",
              "scope": "fixed",
              "value": "analysisData_dataDefinition"
            },
            "linkTypeSSC": {
              "datatype": "text",
              "scope": "fixed",
              "value": "RCC"
            },
            "linkedToKey": {
              "name": "planningDataKey",
              "scope": "local"
            },
            "linkedToSchemaName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "AnalysisData"
            },
            "schemaName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "DataDefinition"
            },
            "side": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 2
            }
          },
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "linkedDataDefinitions",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "8a10a2df-fa2f-4d0d-8491-716ee23e16d3",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "size",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "linkedDataDefinitions",
              "scope": "local"
            }
          },
          "returnType": "numeric"
        },
        "variable": {
          "datatype": "numeric",
          "name": "dataDefinitionItemsCount",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "4609757d-ad3d-4d75-83d1-a0a685bb4aec",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "eq",
          "library": "CirrusLibMath",
          "params": {
            "number1": {
              "datatype": "numeric",
              "name": "dataDefinitionItemsCount",
              "scope": "local"
            },
            "number2": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 1
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isBEPValid",
          "scope": "global"
        }
      },
      {
        "action": "ifelse",
        "id": "acc53420-172b-465e-888c-e9dc13e3b1e2",
        "includeElse": true,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "isBEPValid",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "fe32ff37-a96f-4726-8653-ff25084d6a2e",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "linkedDataDefinitions",
              "scope": "local"
            },
            "index": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 0
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "selectedDataDefinition",
          "scope": "global"
        }
      },
      {
        "action": "ifelse",
        "id": "05a46e09-7b41-4b88-9730-72de07a4642f",
        "includeElse": true,
        "isCommented": false,
        "iselse": true,
        "main": "acc53420-172b-465e-888c-e9dc13e3b1e2",
        "test": {
          "datatype": "boolean",
          "name": "isBEPValid",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "a9cb0989-72e9-4d60-9238-2acd944a9df2",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "text",
          "function": "setNull",
          "library": "CirrusLibGeneral",
          "params": {},
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "selectedDataDefinition",
          "scope": "global"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "5dc698ef-8f1f-4c07-8169-ba71ceaf5cdf",
        "includeElse": true,
        "isCommented": false,
        "main": "acc53420-172b-465e-888c-e9dc13e3b1e2",
        "test": {
          "datatype": "boolean",
          "name": "isBEPValid",
          "scope": "global"
        }
      },
      {
        "action": "ifelse",
        "id": "317754f8-a753-4273-9b9d-38ff59cf6285",
        "includeElse": true,
        "isCommented": false,
        "iselse": true,
        "main": "dc75ec1a-b443-4c81-8a85-edb61de7c8d6",
        "test": {
          "datatype": "boolean",
          "name": "isBEPValid",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "46ad4675-ea6f-43d6-949c-e4671bb6f249",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "text",
          "function": "setNull",
          "library": "CirrusLibGeneral",
          "params": {},
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "selectedPlanningData",
          "scope": "global"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "594f0962-6635-4767-861e-c562186be031",
        "includeElse": true,
        "isCommented": false,
        "main": "dc75ec1a-b443-4c81-8a85-edb61de7c8d6",
        "test": {
          "datatype": "boolean",
          "name": "isBEPValid",
          "scope": "global"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "3d45a33c-be52-4a8b-b328-e047526d5fe5",
        "isCommented": false,
        "main": "c53afeb9-522a-47a1-bfcf-0a3c62a08017",
        "test": {
          "datatype": "boolean",
          "name": "hasLinkedBEP",
          "scope": "local"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "setGlobalVariablesFromDD": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "12ae3aeb-040d-4f00-87b8-cbdfa111ac5d",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "columnInfo"
            },
            "object": {
              "datatype": "text",
              "name": "selectedDataDefinition",
              "scope": "global"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "columnInfo",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "7274ef6d-eb45-478c-8e17-5a1091e66218",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "filterObjects",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "name": "columnInfo",
              "scope": "local"
            },
            "operator": {
              "datatype": "enum",
              "scope": "fixed",
              "value": "eq"
            },
            "propertyName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "primaryKeyFlag"
            },
            "referenceValue": {
              "scope": "fixed",
              "value": true
            }
          },
          "returnType": "\u003cIncoming\u003e array"
        },
        "variable": {
          "datatype": "\u003cIncoming\u003e array",
          "name": "primaryKeyColumns",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "d1526126-686a-496c-98ba-a249cd8ee71b",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "map",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "name": "primaryKeyColumns",
              "scope": "local"
            },
            "callback": {
              "function": "get",
              "library": "CirrusLibObject",
              "params": {
                "name": {
                  "datatype": "text",
                  "scope": "fixed",
                  "value": "name"
                },
                "object": {
                  "label": "Current value",
                  "name": "loop_currentValue",
                  "scope": "local"
                }
              },
              "returnType": "\u003cany\u003e"
            }
          },
          "returnType": "\u003cOutgoing\u003e array"
        },
        "variable": {
          "datatype": "text array",
          "name": "selectedPrimaryKeyColumns",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "a91d0e70-2bdd-4a4d-8e11-b0bcd8b664a9",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "map",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "\u003cOutgoing\u003e array",
              "name": "selectedPrimaryKeyColumns",
              "scope": "global"
            },
            "callback": {
              "function": "lowercase",
              "library": "CirrusLibString",
              "params": {
                "string": {
                  "datatype": "\u003cOutgoing\u003e array",
                  "label": "Current value",
                  "name": "loop_currentValue",
                  "scope": "local"
                }
              },
              "returnType": "text"
            }
          },
          "returnType": "\u003cOutgoing\u003e array"
        },
        "variable": {
          "datatype": "text array",
          "name": "selectedPrimaryKeyColumns",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "8828c3d6-28b3-4af1-9fb8-aaf8d7b4ea13",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "filterObjects",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "name": "columnInfo",
              "scope": "local"
            },
            "operator": {
              "datatype": "enum",
              "scope": "fixed",
              "value": "eq"
            },
            "propertyName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "segmentationFlag"
            },
            "referenceValue": {
              "scope": "fixed",
              "value": true
            }
          },
          "returnType": "\u003cIncoming\u003e array"
        },
        "variable": {
          "datatype": "\u003cIncoming\u003e array",
          "name": "segmentationColumns",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "e91044fe-541e-4731-8ff1-99c3307e6a01",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "map",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "name": "segmentationColumns",
              "scope": "local"
            },
            "callback": {
              "function": "get",
              "library": "CirrusLibObject",
              "params": {
                "name": {
                  "datatype": "text",
                  "scope": "fixed",
                  "value": "name"
                },
                "object": {
                  "label": "Current value",
                  "name": "loop_currentValue",
                  "scope": "local"
                }
              },
              "returnType": "\u003cany\u003e"
            }
          },
          "returnType": "\u003cOutgoing\u003e array"
        },
        "variable": {
          "datatype": "text array",
          "name": "selectedSegmentationColumns",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "618ea35c-ba6e-463d-bebd-04e61e92c331",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "map",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "selectedSegmentationColumns",
              "scope": "global"
            },
            "callback": {
              "function": "lowercase",
              "library": "CirrusLibString",
              "params": {
                "string": {
                  "datatype": "\u003cOutgoing\u003e array",
                  "label": "Current value",
                  "name": "loop_currentValue",
                  "scope": "local"
                }
              },
              "returnType": "text"
            }
          },
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "selectedSegmentationColumns",
          "scope": "global"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "setMethodDropdown": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "8addcad1-17a6-4847-b5c2-869fe65d9a20",
        "type": "calculated",
        "value": {
          "function": "createNewStringArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "schemeMethods",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "a3bb055d-9334-4e33-a105-1fffceea815e",
        "type": "calculated",
        "value": {
          "function": "getNamedListOptionsAsValueLabelPair",
          "library": "CirrusLibCirrusObjectNamedList",
          "params": {
            "listName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "allocation_scheme_methods"
            }
          },
          "returnType": "text array array array array array array array array array array array array array"
        },
        "variable": {
          "datatype": "text array array array array array array array array array array array array array",
          "name": "schemeMethods",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "localizeValueLabelArray",
        "id": "9205c1c7-dfb8-4e5e-8a15-92d18eeb3b7d",
        "library": "CirrusLibLocalization",
        "params": {
          "array": {
            "datatype": "text array array array array array array array array array array array array array",
            "name": "schemeMethods",
            "scope": "local"
          },
          "i18nPrefix": {
            "datatype": "text",
            "scope": "fixed",
            "value": "AllocationScheme.schema.field.defaultAllocationMethod.options."
          },
          "i18nSuffix": {
            "datatype": "text",
            "scope": "fixed",
            "value": ".label"
          },
          "useLabelAsI18nProp": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": false
          }
        },
        "returnType": "text array array array array array array array array array array array array array"
      },
      {
        "action": "setprop",
        "function": "filterValues",
        "id": "9a18c48c-cdeb-4a11-8825-e6714bf370e0",
        "params": {
          "filteredValues": {
            "datatype": "text array array array array array array array array array array array array array",
            "name": "schemeMethods",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "defaultAllocationMethod"
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "setMethodSpreadsheetRowData": {
    "inputs": [
      {
        "datatype": "text array",
        "name": "input_rowsArray"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "65327408-3c34-4c17-8108-c5cd2e5ceec1",
        "isCommented": false,
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": "key,segment,hierarchy,hasChildren,members,targetVar,targetType,segmentFilter,allocationType,allocationMethod"
        },
        "variable": {
          "datatype": "text",
          "name": "attributes",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "238882b7-cfe5-4290-b6f0-f92156fd0ad3",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "split",
          "library": "CirrusLibString",
          "params": {
            "separator": {
              "datatype": "text",
              "scope": "fixed",
              "value": ","
            },
            "string": {
              "datatype": "text",
              "name": "attributes",
              "scope": "local"
            }
          },
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "attributesArray",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "1326459a-797d-40b0-9411-7230c9064fc0",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "map",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "input_rowsArray",
              "scope": "local"
            },
            "callback": {
              "function": "copyObject",
              "library": "$interactions$",
              "params": {
                "input_object": {
                  "datatype": "object",
                  "label": "Current value",
                  "name": "loop_currentValue",
                  "scope": "local"
                },
                "input_properties": {
                  "datatype": "text array",
                  "name": "attributesArray",
                  "scope": "local"
                }
              },
              "returnType": "object"
            }
          },
          "returnType": "object array"
        },
        "variable": {
          "datatype": "object array",
          "name": "rowData",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "01a77007-cf27-48a3-b234-5958f31f3f14",
        "isCommented": false,
        "type": "variable",
        "value": {
          "datatype": "object array",
          "name": "rowData",
          "scope": "local"
        },
        "variable": {
          "datatype": "object array",
          "name": "knownMethodRowData",
          "scope": "global"
        }
      },
      {
        "action": "execfunc",
        "function": "log",
        "id": "67730571-ffb4-423d-ba3c-e6a70d721e56",
        "isCommented": false,
        "library": "CirrusLibDebugging",
        "params": {
          "prefix": {
            "datatype": "text",
            "scope": "fixed",
            "value": "rowData:"
          },
          "variable": {
            "datatype": "object array",
            "name": "rowData",
            "scope": "local"
          }
        },
        "returnType": "object"
      },
      {
        "action": "setprop",
        "function": "setSpreadsheetRowData",
        "id": "b8f9ac3a-b256-4b6e-9b37-8056f1e4a34d",
        "isCommented": false,
        "params": {
          "spreadsheetRowData": {
            "datatype": "object array",
            "name": "rowData",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "MethodSpreadsheet"
      },
      {
        "action": "dispatch",
        "id": "fb054785-33b0-4601-ac21-6236451f6e07",
        "isCommented": false
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "setReadOnlyFields": {
    "inputs": [],
    "logic": [
      {
        "action": "setprop",
        "function": "setReadOnly",
        "id": "db7e48cd-c8d0-47fe-ba01-225d7735c353",
        "isCommented": false,
        "params": {
          "readOnly": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        },
        "scope": "currentPage",
        "widgetId": "Cycle"
      },
      {
        "action": "setprop",
        "function": "setReadOnly",
        "id": "152420f3-0178-4272-bd44-1a673bdd6b72",
        "isCommented": false,
        "params": {
          "readOnly": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        },
        "scope": "currentPage",
        "widgetId": "AnalysisRun"
      }
    ],
    "sasProvided": true
  },
  "setRequiredFields": {
    "inputs": [],
    "logic": [
      {
        "action": "setprop",
        "function": "setRequired",
        "id": "e1b76625-6705-4665-9141-319fcffc6d43",
        "isCommented": false,
        "params": {
          "required": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        },
        "scope": "currentPage",
        "widgetId": "objectId"
      },
      {
        "action": "setprop",
        "function": "setRequired",
        "id": "135153f4-ec0e-4367-88a5-5e9e8be7ba40",
        "isCommented": false,
        "params": {
          "required": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        },
        "scope": "currentPage",
        "widgetId": "name"
      },
      {
        "action": "setprop",
        "function": "setRequired",
        "id": "bebcaf4b-de29-46a0-84a5-4c869c93292f",
        "isCommented": false,
        "params": {
          "required": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        },
        "scope": "currentPage",
        "widgetId": "BusinessEvolutionPlan"
      }
    ],
    "sasProvided": true
  },
  "setScreenReadOnly": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "84f47e41-0d6d-4909-a338-e9ceeacb9a29",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "getLinkTypeObjectsKeys",
          "library": "CirrusLibCirrusObjectLinkInstance",
          "params": {
            "linkTypeId": {
              "datatype": "text",
              "scope": "fixed",
              "value": "allocationScheme_analysisRun"
            },
            "side": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 2
            }
          },
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "analysisRunKeys",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "a85e8a8f-d8bc-430f-9dd2-7690a1389895",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "getLinkTypeObjectsKeys",
          "library": "CirrusLibCirrusObjectLinkInstance",
          "params": {
            "linkTypeId": {
              "datatype": "text",
              "scope": "fixed",
              "value": "allocationScheme_cycle"
            },
            "side": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 2
            }
          },
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "cycleKeys",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "468e0bb6-70dd-4b55-ae4f-91858f492a32",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "hasAnyItems",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "analysisRunKeys",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "areAnalysisRunKeysNotEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "d9fad453-b980-4d12-ad83-3970a89c9538",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "hasAnyItems",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "cycleKeys",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "areCycleKeysNotEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "099bc80d-56d7-4f2f-a216-a42d9a5074b8",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "or",
          "library": "CirrusLibBoolean",
          "params": {
            "bool1": {
              "datatype": "boolean",
              "name": "areAnalysisRunKeysNotEmpty",
              "scope": "local"
            },
            "bool2": {
              "datatype": "boolean",
              "name": "areCycleKeysNotEmpty",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "hasLinks",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "4565fc63-3801-420e-bf0b-2fd0fcab93a8",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "strEquals",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "name": "statusCd",
              "objectType": "RuleSet",
              "scope": "field",
              "set-field": "statusCd",
              "target": "$self$"
            },
            "string2": {
              "datatype": "text",
              "scope": "fixed",
              "value": "PROD"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isProd",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "a87cbf8c-4109-48c6-9934-93cadecc3a76",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "and",
          "library": "CirrusLibBoolean",
          "params": {
            "bool1": {
              "datatype": "boolean",
              "name": "isProd",
              "scope": "local"
            },
            "bool2": {
              "datatype": "boolean",
              "name": "hasLinks",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isProdAndHasLinks",
          "scope": "local"
        }
      },
      {
        "action": "setprop",
        "function": "setReadOnly",
        "id": "37710d3a-8f9e-4aef-9e95-32a0291282c4",
        "isCommented": false,
        "params": {
          "readOnly": {
            "datatype": "boolean",
            "name": "isProdAndHasLinks",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "statusCd"
      },
      {
        "action": "setprop",
        "function": "setReadOnly",
        "id": "6eb682d2-95ac-4268-9d6c-9bdce1ad3f57",
        "isCommented": false,
        "params": {
          "readOnly": {
            "datatype": "boolean",
            "name": "isProd",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "main_tabs"
      },
      {
        "action": "addComment",
        "commentStep": "------------- user capabilities -------------",
        "id": "95b8cf59-583f-4e95-b711-1bd6250ff249",
        "isCommented": false
      },
      {
        "action": "setvar",
        "id": "a97f1afb-45f1-417b-8a8c-d706cfbfd89d",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "getObjectCapabilities",
          "library": "CirrusLibCirrusObject",
          "params": {
            "objectType": {
              "datatype": "text",
              "scope": "fixed",
              "value": "AllocationScheme"
            }
          },
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "userCapabilities",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "dbe88297-c94c-44ff-8c38-6ed9267e1ca5",
        "type": "calculated",
        "value": {
          "function": "contains",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "userCapabilities",
              "scope": "local"
            },
            "value": {
              "datatype": "text",
              "scope": "fixed",
              "value": "create"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "userCanCreate",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "5f06816f-8910-4dce-923a-b8bdceea6df8",
        "type": "calculated",
        "value": {
          "function": "not",
          "library": "CirrusLibBoolean",
          "params": {
            "bool": {
              "datatype": "boolean",
              "name": "userCanCreate",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "userCannotCreate",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "face70f0-c5bd-4555-b99a-1512689c7fae",
        "type": "calculated",
        "value": {
          "function": "contains",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "userCapabilities",
              "scope": "local"
            },
            "value": {
              "datatype": "text",
              "scope": "fixed",
              "value": "update"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "userCanUpdate",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "be42518a-b1dd-4d2e-a9e6-fc9c1742b483",
        "type": "calculated",
        "value": {
          "function": "not",
          "library": "CirrusLibBoolean",
          "params": {
            "bool": {
              "datatype": "boolean",
              "name": "userCanUpdate",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "userCannotUpdate",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "c28d7249-840d-40e3-ae70-3bf77011e61a",
        "type": "calculated",
        "value": {
          "function": "isDraftObject",
          "library": "CirrusLibCirrusObject",
          "params": {},
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "ad6e6eaf-7658-4d2d-8536-86a7d6964dd3",
        "includeElse": true,
        "test": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "961de226-760b-47d5-af0d-267d224d1968",
        "includeElse": true,
        "iselse": true,
        "main": "ad6e6eaf-7658-4d2d-8536-86a7d6964dd3",
        "test": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "3ba62cd5-3155-48f8-9777-a141f69debb2",
        "test": {
          "datatype": "boolean",
          "name": "userCannotUpdate",
          "scope": "local"
        }
      },
      {
        "action": "setprop",
        "function": "setReadOnly",
        "id": "4de86ad9-ebab-4ec6-98e3-4f88b3016a60",
        "isCommented": false,
        "params": {
          "readOnly": {
            "datatype": "boolean",
            "name": "userCannotCreate",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "main_tabs"
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "86ff5309-6936-4114-a470-c69db3d9bb45",
        "main": "3ba62cd5-3155-48f8-9777-a141f69debb2",
        "test": {
          "datatype": "boolean",
          "name": "userCannotUpdate",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "1d72fc40-2f5c-410c-b95a-67178b65ef9f",
        "includeElse": true,
        "main": "ad6e6eaf-7658-4d2d-8536-86a7d6964dd3",
        "test": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "local"
        }
      }
    ],
    "sasProvided": true
  },
  "setSpreadsheetsColumnMeta": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "comment": "Methods_columnMeta_20230531_5.json",
        "id": "48f66c79-fffc-44b8-9f83-590974fb684d",
        "isCommented": true,
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": "{    \"columns\": [          {             \"options\": {                \"quickSearch\": true,                \"sortProperty\": \"segment\",                \"id\": \"segment\",                \"label\": [                      \"\",                      \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.segment.title\"                ]             }          },          {             \"options\": {                 \"quickSearch\": true,                \"defaultVisible\": false,                \"id\": \"segmentFilter\",                \"label\": [                      \"\",                      \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.segmentFilter.title\"                ]             }          },          {             \"options\": {                \"columnType\": \"boolean\",                \"visible\": false,                \"defaultVisible\": false,                \"id\": \"hasChildren\",                \"label\": [                      \"\",                      \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.hasChildren.title\"                ]             }          },          {             \"options\": {                \"cellType\": \"dropdown\",                \"quickSearch\": true,                \"id\": \"targetVar\",                \"label\": [                      \"\",                      \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetVar.title\"                ]             },             \"cellOptions\": {                \"cellType\": \"dropdown\",                \"choices\": [                      {                         \"label\": \"BOOK_VALUE\",                         \"value\": \"BOOK_VALUE\"                      },                      {                         \"label\": \"MARKET_VALUE\",                         \"value\": \"MARKET_VALUE\"                      },                      {                         \"label\": \"PAR_VALUE\",                         \"value\": \"PAR_VALUE\"                      }                ]             }          },          {             \"options\": {                \"columnType\": \"dropdown\",                \"id\": \"targetType\",                \"label\": [                      \"\",                      \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetType.title\"                ]             },             \"cellOptions\": {                \"cellType\": \"dropdown\",                \"choices\": [                      {                         \"label\": \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetType.options.RUNOFF.label\",                         \"value\": \"RUNOFF\"                      },                      {                         \"label\": \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetType.options.STATIC.label\",                         \"value\": \"STATIC\"                      },                      {                         \"label\": \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetType.options.GROWTH_LIQ_NO_ROLL.label\",                         \"value\": \"GROWTH_LIQ_NO_ROLL\"                      },                      {                         \"label\": \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetType.options.GROWTH_LIQ_W_ROLL.label\",                         \"value\": \"GROWTH_LIQ_W_ROLL\"                      }                ]             }          },          {             \"options\": {                \"id\": \"allocationType\",                \"label\": [                   \"\",                   \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.allocationType.title\"                ]             }          },          {             \"options\": {                \"id\": \"allocationMethod\",                \"label\": [                   \"\",                   \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.allocationMethod.title\"                ]             }          }    ],    \"table\": {          \"options\": {             \"fixedColumnCount\": 1,             \"isTree\": true,             \"numberOfExpandedLevels\": 5,             \"selectionMode\": \"None\"          },          \"columnOptions\": {             \"visible\": true,             \"autoResizable\": true,             \"defaultVisible\": true,             \"width\": \"150px\",             \"areLabelsLocalized\": true          },          \"cellOptions\": {             \"cellType\": \"string\",             \"readonly\": true,             \"suppressRowDragIndicator\": true          }    },    \"metaRules\": {          \"hasChildren\": [             {                \"cellOptions\": {                      \"cellType\": \"string\",                      \"readonly\": true                },                \"value\": true,                \"toColumn\": \"allocationMethod\"             },             {                \"cellOptions\": {                      \"cellType\": \"string\",                      \"readonly\": true                },                \"value\": true,                \"toColumn\": \"allocationType\"             }          ],          \"allocationType\": [             {                \"cellOptions\": {                   \"readonly\": false,                   \"cellType\": \"dropdown\",                   \"choices\": [                      {                         \"label\": \"Equal distribution\",                         \"value\": \"EQUAL\"                      }                   ]                },                \"value\": [\"WEIGHT\"],                \"toColumn\": \"allocationMethod\"             }          ],          \"targetType\": [             {                 \"cellOptions\": {                   \"readonly\": false,                   \"cellType\": \"dropdown\",                   \"choices\": [                      {                         \"label\": \"Weight-based\",                         \"value\": \"WEIGHT\"                      }                   ]                },                \"value\": [\"GROWTH_LIQ_NO_ROLL\",\"GROWTH_LIQ_W_ROLL\"],                \"toColumn\": \"allocationType\"             }          ]    } }"
        },
        "variable": {
          "datatype": "text",
          "name": "methodMetaText",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "comment": "Methods_columnMeta_20230601_7_tableeditable.json",
        "id": "07167dad-76f0-4c3a-9e33-1c8738780f53",
        "isCommented": false,
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": "{    \"columns\": [          {             \"options\": {                \"quickSearch\": true,                \"sortProperty\": \"segment\",                \"id\": \"segment\",                \"label\": [                      \"\",                      \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.segment.title\"                ]             },             \"cellOptions\": {                \"readonly\": true             }          },          {             \"options\": {                 \"quickSearch\": true,                \"defaultVisible\": false,                \"id\": \"segmentFilter\",                \"label\": [                      \"\",                      \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.segmentFilter.title\"                ]             },             \"cellOptions\": {                \"readonly\": true             }          },          {             \"options\": {                \"columnType\": \"boolean\",                \"visible\": false,                \"defaultVisible\": false,                \"id\": \"hasChildren\",                \"label\": [                      \"\",                      \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.hasChildren.title\"                ]             }          },          {             \"options\": {                \"cellType\": \"dropdown\",                \"quickSearch\": true,                \"id\": \"targetVar\",                \"label\": [                      \"\",                      \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetVar.title\"                ]             },             \"cellOptions\": {                \"cellType\": \"dropdown\",                \"readonly\": true,                \"choices\": [                      {                         \"label\": \"BOOK_VALUE\",                         \"value\": \"BOOK_VALUE\"                      },                      {                         \"label\": \"MARKET_VALUE\",                         \"value\": \"MARKET_VALUE\"                      },                      {                         \"label\": \"PAR_VALUE\",                         \"value\": \"PAR_VALUE\"                      }                ]             }          },          {             \"options\": {                \"columnType\": \"dropdown\",                \"id\": \"targetType\",                \"label\": [                      \"\",                      \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetType.title\"                ]             },             \"cellOptions\": {                \"cellType\": \"dropdown\",                \"readonly\": true,                \"choices\": [                      {                         \"label\": \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetType.options.RUNOFF.label\",                         \"value\": \"RUNOFF\"                      },                      {                         \"label\": \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetType.options.STATIC.label\",                         \"value\": \"STATIC\"                      },                      {                         \"label\": \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetType.options.GROWTH_LIQ_NO_ROLL.label\",                         \"value\": \"GROWTH_LIQ_NO_ROLL\"                      },                      {                         \"label\": \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetType.options.GROWTH_LIQ_W_ROLL.label\",                         \"value\": \"GROWTH_LIQ_W_ROLL\"                      }                ]             }          },          {             \"options\": {                \"id\": \"allocationType\",                \"label\": [                   \"\",                   \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.allocationType.title\"                ]             },             \"cellOptions\": {                \"readonly\": true             }          },          {             \"options\": {                \"id\": \"allocationMethod\",                \"label\": [                   \"\",                   \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.allocationMethod.title\"                ]             },             \"cellOptions\": {                \"readonly\": true             }          }    ],    \"table\": {          \"options\": {             \"fixedColumnCount\": 1,             \"isTree\": true,             \"numberOfExpandedLevels\": 5,             \"selectionMode\": \"None\"          },          \"columnOptions\": {             \"visible\": true,             \"autoResizable\": true,             \"defaultVisible\": true,             \"width\": \"150px\",             \"areLabelsLocalized\": true          },          \"cellOptions\": {             \"cellType\": \"string\",             \"readonly\": false,             \"suppressRowDragIndicator\": true          }    },    \"metaRules\": {          \"hasChildren\": [             {                \"cellOptions\": {                      \"cellType\": \"string\",                      \"readonly\": true                },                \"value\": true,                \"toColumn\": \"allocationMethod\"             },             {                \"cellOptions\": {                      \"cellType\": \"string\",                      \"readonly\": true                },                \"value\": true,                \"toColumn\": \"allocationType\"             }          ],          \"allocationType\": [             {                \"cellOptions\": {                   \"readonly\": false,                   \"cellType\": \"dropdown\",                   \"choices\": [                      {                         \"label\": \"Equal distribution\",                         \"value\": \"EQUAL\"                      }                   ]                },                \"value\": [\"WEIGHT\"],                \"toColumn\": \"allocationMethod\"             }          ],          \"targetType\": [             {                 \"cellOptions\": {                   \"readonly\": false,                   \"cellType\": \"dropdown\",                   \"choices\": [                      {                         \"label\": \"Weight-based\",                         \"value\": \"WEIGHT\"                      }                   ]                },                \"value\": [\"GROWTH_LIQ_NO_ROLL\",\"GROWTH_LIQ_W_ROLL\"],                \"toColumn\": \"allocationType\"             }          ]    } }"
        },
        "variable": {
          "datatype": "text",
          "name": "methodMetaText",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "b14ca2c4-2844-4a62-bb5d-a7e4f531a74d",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "convertStringToObject",
          "library": "CirrusLibObject",
          "params": {
            "string": {
              "datatype": "text",
              "name": "methodMetaText",
              "scope": "local"
            }
          },
          "returnType": "object"
        },
        "variable": {
          "datatype": "object",
          "name": "methodMetaObject",
          "scope": "local"
        }
      },
      {
        "action": "setprop",
        "function": "setSpreadsheetColumnMetaData",
        "id": "f512c64a-9cf3-4344-985b-b47474e571e0",
        "isCommented": false,
        "params": {
          "spreadsheetColumnMetaData": {
            "datatype": "object",
            "name": "methodMetaObject",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "MethodSpreadsheet"
      },
      {
        "action": "setvar",
        "comment": "Weights_columnMeta_20230531_5.json",
        "id": "6c1dfaeb-b6b7-433f-8224-d3a7d90ccc73",
        "isCommented": true,
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": "{    \"columns\": [          {             \"options\": {                \"quickSearch\": true,                \"sortProperty\": \"segment\",                \"id\": \"segment\",                \"label\": [                      \"\",                      \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.segment.title\"                ]             },             \"cellOptions\": {                   \"readonly\": true             }          },          {             \"options\": {                 \"quickSearch\": true,                \"defaultVisible\": false,                \"id\": \"segmentFilter\",                \"label\": [                      \"\",                      \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.segmentFilter.title\"                ]             },             \"cellOptions\": {                   \"readonly\": true             }          },          {             \"options\": {                \"columnType\": \"boolean\",                \"visible\": false,                \"defaultVisible\": false,                \"id\": \"hasChildren\",                \"label\": [                      \"\",                      \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.hasChildren.title\"                ]             },             \"cellOptions\": {                   \"readonly\": true             }          },          {             \"options\": {                \"columnType\": \"boolean\",                \"visible\": false,                \"defaultVisible\": false,                \"id\": \"isLeaf\",                \"label\": [                      \"\",                      \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.isLeaf.title\"                ]             },             \"cellOptions\": {                   \"readonly\": true             }          },          {             \"options\": {                \"cellType\": \"dropdown\",                \"defaultVisible\": false,                \"quickSearch\": true,                \"id\": \"targetVar\",                \"label\": [                      \"\",                      \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetVar.title\"                ]             },             \"cellOptions\": {                \"cellType\": \"dropdown\",                \"readonly\": true,                \"choices\": [                      {                         \"label\": \"BOOK_VALUE\",                         \"value\": \"BOOK_VALUE\"                      },                      {                         \"label\": \"MARKET_VALUE\",                         \"value\": \"MARKET_VALUE\"                      },                      {                         \"label\": \"PAR_VALUE\",                         \"value\": \"PAR_VALUE\"                      }                ]             }          },          {             \"options\": {                \"columnType\": \"dropdown\",                \"defaultVisible\": false,                \"id\": \"targetType\",                \"label\": [                      \"\",                      \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetType.title\"                ]             },             \"cellOptions\": {                \"cellType\": \"dropdown\",                \"readonly\": true,                \"choices\": [                      {                         \"label\": \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetType.options.RUNOFF.label\",                         \"value\": \"RUNOFF\"                      },                      {                         \"label\": \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetType.options.STATIC.label\",                         \"value\": \"STATIC\"                      },                      {                         \"label\": \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetType.options.GROWTH_LIQ_NO_ROLL.label\",                         \"value\": \"GROWTH_LIQ_NO_ROLL\"                      },                      {                         \"label\": \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetType.options.GROWTH_LIQ_W_ROLL.label\",                         \"value\": \"GROWTH_LIQ_W_ROLL\"                      }                ]             }          },          {             \"options\": {                \"id\": \"allocationType\",                \"label\": [                   \"\",                   \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.allocationType.title\"                ]             },             \"cellOptions\": {                \"readonly\": true             }          },          {             \"options\": {                \"id\": \"allocationMethod\",                \"label\": [                   \"\",                   \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.allocationMethod.title\"                ]             },             \"cellOptions\": {                \"readonly\": true             }          },          {             \"options\": {                \"id\": \"weightOverride\",                \"columnType\": \"number\",                \"label\": [                   \"\",                   \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.weightOverride.title\"                ]             },             \"cellOptions\": {                \"cellType\": \"number\"             }          },          {             \"options\": {                \"id\": \"allocationWeight\",                \"columnType\": \"number\",                \"label\": [                   \"\",                   \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.allocationWeight.title\"                ]             },             \"cellOptions\": {                \"readonly\": true,                \"cellType\": \"number\"             }          },          {             \"options\": {                \"defaultVisible\": false,                \"id\": \"defaultWeight\",                \"columnType\": \"number\",                \"label\": [                   \"\",                   \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.defaultWeight.title\"                ]             },             \"cellOptions\": {                \"readonly\": true,                \"cellType\": \"number\"             }          },          {             \"options\": {                \"defaultVisible\": false,                \"id\": \"segmentWeight\",                \"columnType\": \"number\",                \"label\": [                   \"\",                   \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.segmentWeight.title\"                ]             },             \"cellOptions\": {                \"readonly\": true,                \"cellType\": \"number\"             }          }    ],    \"table\": {          \"options\": {             \"fixedColumnCount\": 1,             \"isTree\": true,             \"numberOfExpandedLevels\": 5,             \"selectionMode\": \"None\"          },          \"columnOptions\": {             \"visible\": true,             \"autoResizable\": true,             \"defaultVisible\": true,             \"width\": \"150px\",             \"areLabelsLocalized\": true          },          \"cellOptions\": {             \"cellType\": \"string\",             \"readonly\": false,             \"suppressRowDragIndicator\": true          }    },    \"metaRules\": {          \"hasChildren\": [             {                \"cellOptions\": {                      \"cellType\": \"string\",                      \"readonly\": true                },                \"value\": true,                \"toColumn\": \"allocationMethod\"             },             {                \"cellOptions\": {                      \"cellType\": \"string\"                },                \"value\": true,                \"toColumn\": \"allocationType\"             }          ],          \"allocationType\": [             {                \"cellOptions\": {                   \"cellType\": \"dropdown\",                   \"readonly\": true,                   \"choices\": [                      {                         \"label\": \"Equal distribution\",                         \"value\": \"EQUAL\"                      }                   ]                },                \"value\": [\"WEIGHT\"],                \"toColumn\": \"allocationMethod\"             }          ],          \"targetType\": [             {                 \"cellOptions\": {                   \"cellType\": \"dropdown\",                   \"readonly\": true,                   \"choices\": [                      {                         \"label\": \"Weight-based\",                         \"value\": \"WEIGHT\"                      }                   ]                },                \"value\": [\"GROWTH_LIQ_NO_ROLL\",\"GROWTH_LIQ_W_ROLL\"],                \"toColumn\": \"allocationType\"             }          ]    } }"
        },
        "variable": {
          "datatype": "text",
          "name": "weightMetaText",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "comment": "Weights_columnMeta_20230601_6.json",
        "id": "7931bdf8-b365-4235-bda9-4270581d4c65",
        "isCommented": false,
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": "{    \"columns\": [          {             \"options\": {                \"quickSearch\": true,                \"sortProperty\": \"segment\",                \"id\": \"segment\",                \"label\": [                      \"\",                      \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.segment.title\"                ]             },             \"cellOptions\": {                   \"readonly\": true             }          },          {             \"options\": {                 \"quickSearch\": true,                \"defaultVisible\": false,                \"id\": \"segmentFilter\",                \"label\": [                      \"\",                      \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.segmentFilter.title\"                ]             },             \"cellOptions\": {                   \"readonly\": true             }          },          {             \"options\": {                \"columnType\": \"boolean\",                \"visible\": false,                \"defaultVisible\": false,                \"id\": \"hasChildren\",                \"label\": [                      \"\",                      \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.hasChildren.title\"                ]             },             \"cellOptions\": {                   \"readonly\": true             }          },          {             \"options\": {                \"columnType\": \"boolean\",                \"visible\": false,                \"defaultVisible\": false,                \"id\": \"isLeaf\",                \"label\": [                      \"\",                      \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.isLeaf.title\"                ]             },             \"cellOptions\": {                   \"readonly\": true             }          },          {             \"options\": {                \"cellType\": \"dropdown\",                \"defaultVisible\": false,                \"quickSearch\": true,                \"id\": \"targetVar\",                \"label\": [                      \"\",                      \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetVar.title\"                ]             },             \"cellOptions\": {                \"cellType\": \"dropdown\",                \"readonly\": true,                \"choices\": [                      {                         \"label\": \"BOOK_VALUE\",                         \"value\": \"BOOK_VALUE\"                      },                      {                         \"label\": \"MARKET_VALUE\",                         \"value\": \"MARKET_VALUE\"                      },                      {                         \"label\": \"PAR_VALUE\",                         \"value\": \"PAR_VALUE\"                      }                ]             }          },          {             \"options\": {                \"columnType\": \"dropdown\",                \"defaultVisible\": false,                \"id\": \"targetType\",                \"label\": [                      \"\",                      \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetType.title\"                ]             },             \"cellOptions\": {                \"cellType\": \"dropdown\",                \"readonly\": true,                \"choices\": [                      {                         \"label\": \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetType.options.RUNOFF.label\",                         \"value\": \"RUNOFF\"                      },                      {                         \"label\": \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetType.options.STATIC.label\",                         \"value\": \"STATIC\"                      },                      {                         \"label\": \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetType.options.GROWTH_LIQ_NO_ROLL.label\",                         \"value\": \"GROWTH_LIQ_NO_ROLL\"                      },                      {                         \"label\": \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.targetType.options.GROWTH_LIQ_W_ROLL.label\",                         \"value\": \"GROWTH_LIQ_W_ROLL\"                      }                ]             }          },          {             \"options\": {                \"id\": \"allocationType\",                \"label\": [                   \"\",                   \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.allocationType.title\"                ]             },             \"cellOptions\": {                \"readonly\": true             }          },          {             \"options\": {                \"id\": \"allocationMethod\",                \"label\": [                   \"\",                   \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.allocationMethod.title\"                ]             },             \"cellOptions\": {                \"readonly\": true             }          },          {             \"options\": {                \"id\": \"weightOverride\",                \"columnType\": \"number\",                \"label\": [                   \"\",                   \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.weightOverride.title\"                ]             },             \"cellOptions\": {                \"cellType\": \"number\"             }          },          {             \"options\": {                \"id\": \"allocationWeight\",                \"columnType\": \"number\",                \"label\": [                   \"\",                   \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.allocationWeight.title\"                ]             },             \"cellOptions\": {                \"readonly\": true,                \"cellType\": \"number\"             }          },          {             \"options\": {                \"defaultVisible\": false,                \"id\": \"defaultWeight\",                \"columnType\": \"number\",                \"label\": [                   \"\",                   \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.defaultWeight.title\"                ]             },             \"cellOptions\": {                \"readonly\": true,                \"cellType\": \"number\"             }          },          {             \"options\": {                \"defaultVisible\": false,                \"id\": \"segmentWeight\",                \"columnType\": \"number\",                \"label\": [                   \"\",                   \"AllocationScheme.library.label.base.HierarchySpreadsheetWidget.WeightSpreadsheet.segmentWeight.title\"                ]             },             \"cellOptions\": {                \"readonly\": true,                \"cellType\": \"number\"             }          }    ],    \"table\": {          \"options\": {             \"fixedColumnCount\": 1,             \"isTree\": true,             \"numberOfExpandedLevels\": 5,             \"selectionMode\": \"None\"          },          \"columnOptions\": {             \"visible\": true,             \"autoResizable\": true,             \"defaultVisible\": true,             \"width\": \"150px\",             \"areLabelsLocalized\": true          },          \"cellOptions\": {             \"cellType\": \"string\",             \"readonly\": false,             \"suppressRowDragIndicator\": true          }    },    \"metaRules\": {          \"hasChildren\": [             {                \"cellOptions\": {                      \"cellType\": \"string\",                      \"readonly\": true                },                \"value\": true,                \"toColumn\": \"allocationMethod\"             },             {                \"cellOptions\": {                      \"cellType\": \"string\"                },                \"value\": true,                \"toColumn\": \"allocationType\"             }          ],          \"allocationType\": [             {                \"cellOptions\": {                   \"cellType\": \"dropdown\",                   \"readonly\": true,                   \"choices\": [                      {                         \"label\": \"Equal distribution\",                         \"value\": \"EQUAL\"                      }                   ]                },                \"value\": [\"WEIGHT\"],                \"toColumn\": \"allocationMethod\"             }          ],          \"targetType\": [             {                 \"cellOptions\": {                   \"cellType\": \"dropdown\",                   \"readonly\": true,                   \"choices\": [                      {                         \"label\": \"Weight-based\",                         \"value\": \"WEIGHT\"                      }                   ]                },                \"value\": [\"GROWTH_LIQ_NO_ROLL\",\"GROWTH_LIQ_W_ROLL\"],                \"toColumn\": \"allocationType\"             }          ]    } }"
        },
        "variable": {
          "datatype": "text",
          "name": "weightMetaText",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "32feaa3b-3c0d-477a-97d9-a0d7a2803cf3",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "convertStringToObject",
          "library": "CirrusLibObject",
          "params": {
            "string": {
              "datatype": "text",
              "name": "weightMetaText",
              "scope": "local"
            }
          },
          "returnType": "object"
        },
        "variable": {
          "datatype": "object",
          "name": "weightMetaObject",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "d51ffbcc-0cff-4559-8f2e-cfa70c6ee607",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "columnInfo"
            },
            "object": {
              "datatype": "text",
              "name": "selectedDataDefinition",
              "scope": "global"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "columnInfo",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "2929291d-d834-4685-826e-5463e38e3483",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "filterObjects",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "name": "columnInfo",
              "scope": "local"
            },
            "operator": {
              "datatype": "enum",
              "scope": "fixed",
              "value": "eq"
            },
            "propertyName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "primaryKeyFlag"
            },
            "referenceValue": {
              "scope": "fixed",
              "value": true
            }
          },
          "returnType": "\u003cIncoming\u003e array"
        },
        "variable": {
          "datatype": "\u003cIncoming\u003e array",
          "name": "primaryKeyColumns",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "c7b93660-1eb8-407d-9901-0278a9f9464f",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "columns"
            },
            "object": {
              "datatype": "object",
              "name": "weightMetaObject",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "columns",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "forEach",
        "id": "31039207-b81a-4539-88da-66e914296307",
        "isCommented": false,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "name": "primaryKeyColumns",
            "scope": "local"
          },
          "callback": {
            "function": "addColumnToSpreadsheet",
            "library": "$interactions$",
            "params": {
              "input_columnInfo": {
                "label": "Current value",
                "name": "loop_currentValue",
                "scope": "local"
              },
              "input_spreadsheetMeta": {
                "name": "columns",
                "scope": "local"
              }
            }
          }
        }
      },
      {
        "action": "setvar",
        "id": "5ff5db55-6baa-44f5-a8d2-eda5f04dc5c5",
        "isCommented": false,
        "type": "variable",
        "value": {
          "datatype": "object",
          "name": "weightMetaObject",
          "scope": "local"
        },
        "variable": {
          "datatype": "object",
          "name": "weightSpreadsheetMeta",
          "scope": "global"
        }
      },
      {
        "action": "setprop",
        "function": "setSpreadsheetColumnMetaData",
        "id": "84a32d14-d6d0-42f6-978e-7d60db5964fd",
        "isCommented": false,
        "params": {
          "spreadsheetColumnMetaData": {
            "datatype": "object",
            "name": "weightMetaObject",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "WeightSpreadsheet"
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "setStatusDropdown": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "9b88cff9-2bc6-4e52-99df-6ce5fb900ea2",
        "type": "calculated",
        "value": {
          "function": "createNewStringArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "statuses",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "96637d38-ee61-4fd8-8e88-91d30fecc930",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "getNamedListOptionsAsValueLabelPair",
          "library": "CirrusLibCirrusObjectNamedList",
          "params": {
            "listName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "allocation_scheme_statuses"
            }
          },
          "returnType": "text array array"
        },
        "variable": {
          "datatype": "text array array",
          "name": "statuses",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "localizeValueLabelArray",
        "id": "dbee3c14-3e87-4c5c-b232-9ca579e02d22",
        "library": "CirrusLibLocalization",
        "params": {
          "array": {
            "datatype": "text array array",
            "name": "statuses",
            "scope": "local"
          },
          "i18nPrefix": {
            "datatype": "text",
            "scope": "fixed",
            "value": "AllocationScheme.schema.field.statusCd.options."
          },
          "i18nSuffix": {
            "datatype": "text",
            "scope": "fixed",
            "value": ".label"
          },
          "useLabelAsI18nProp": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": false
          }
        },
        "returnType": "text array array"
      },
      {
        "action": "setprop",
        "function": "filterValues",
        "id": "9a18c48c-cdeb-4a11-8825-e6714bf370e0",
        "params": {
          "filteredValues": {
            "datatype": "text array array",
            "name": "statuses",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "statusCd"
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "setTypeDropdown": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "8addcad1-17a6-4847-b5c2-869fe65d9a20",
        "type": "calculated",
        "value": {
          "function": "createNewStringArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "schemeTypes",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "a3bb055d-9334-4e33-a105-1fffceea815e",
        "type": "calculated",
        "value": {
          "function": "getNamedListOptionsAsValueLabelPair",
          "library": "CirrusLibCirrusObjectNamedList",
          "params": {
            "listName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "allocation_scheme_types"
            }
          },
          "returnType": "text array array"
        },
        "variable": {
          "datatype": "text array array",
          "name": "schemeTypes",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "localizeValueLabelArray",
        "id": "9205c1c7-dfb8-4e5e-8a15-92d18eeb3b7d",
        "library": "CirrusLibLocalization",
        "params": {
          "array": {
            "datatype": "text array array",
            "name": "schemeTypes",
            "scope": "local"
          },
          "i18nPrefix": {
            "datatype": "text",
            "scope": "fixed",
            "value": "AllocationScheme.schema.field.defaultAllocationType.options."
          },
          "i18nSuffix": {
            "datatype": "text",
            "scope": "fixed",
            "value": ".label"
          },
          "useLabelAsI18nProp": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": false
          }
        },
        "returnType": "text array array"
      },
      {
        "action": "setprop",
        "function": "filterValues",
        "id": "9a18c48c-cdeb-4a11-8825-e6714bf370e0",
        "params": {
          "filteredValues": {
            "datatype": "text array array",
            "name": "schemeTypes",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "defaultAllocationType"
      }
    ],
    "sasProvided": true
  },
  "setWeightSpreadsheetRowData": {
    "inputs": [
      {
        "datatype": "text array",
        "name": "input_rowData"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "34dc05d7-81a6-42e9-8c52-707223ddf4ca",
        "isCommented": true,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "rowState"
            },
            "object": {
              "datatype": "object",
              "name": "MethodSpreadsheet",
              "scope": "data",
              "target": "$self$"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "methodRowStateData",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "38613f21-1bda-4185-98cf-a7d81914a7f1",
        "isCommented": true,
        "type": "calculated",
        "value": {
          "function": "isNullOrUndefined",
          "library": "CirrusLibGeneral",
          "params": {
            "value": {
              "name": "methodRowStateData",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isRowStateUndefined",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "log",
        "id": "67730571-ffb4-423d-ba3c-e6a70d721e56",
        "isCommented": true,
        "library": "CirrusLibDebugging",
        "params": {
          "prefix": {
            "datatype": "text",
            "scope": "fixed",
            "value": "methodRowState:"
          },
          "variable": {
            "datatype": "object",
            "name": "methodRowStateData",
            "scope": "local"
          }
        },
        "returnType": "object"
      },
      {
        "action": "ifelse",
        "id": "bdbd23f1-3a2d-4d05-a34c-3deda260637e",
        "isCommented": true,
        "test": {
          "datatype": "boolean",
          "name": "isRowStateUndefined",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "f0e8a442-006d-45ab-94fc-322b3a6d643a",
        "isCommented": true,
        "type": "variable",
        "value": {
          "datatype": "object array",
          "name": "knownMethodRowData",
          "scope": "global"
        },
        "variable": {
          "datatype": "object array",
          "name": "methodRowStateData",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "log",
        "id": "53b257b7-d507-4695-baff-8335399b4f9f",
        "isCommented": true,
        "library": "CirrusLibDebugging",
        "params": {
          "prefix": {
            "datatype": "text",
            "scope": "fixed",
            "value": "methodRowStateFromGlobal:"
          },
          "variable": {
            "datatype": "object",
            "name": "methodRowStateData",
            "scope": "local"
          }
        },
        "returnType": "object"
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "27d781f5-9101-4f65-8ac6-f4ad246948ae",
        "isCommented": true,
        "main": "bdbd23f1-3a2d-4d05-a34c-3deda260637e",
        "test": {
          "datatype": "boolean",
          "name": "isRowStateUndefined",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "65327408-3c34-4c17-8108-c5cd2e5ceec1",
        "isCommented": true,
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": "key,hierarchy,segment,hasChildren,members,targetVar,targetType,segmentFilter,allocationType,allocationMethod"
        },
        "variable": {
          "datatype": "text",
          "name": "attributes",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "238882b7-cfe5-4290-b6f0-f92156fd0ad3",
        "isCommented": true,
        "type": "calculated",
        "value": {
          "function": "split",
          "library": "CirrusLibString",
          "params": {
            "separator": {
              "datatype": "text",
              "scope": "fixed",
              "value": ","
            },
            "string": {
              "datatype": "text",
              "name": "attributes",
              "scope": "local"
            }
          },
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "attributesArray",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "1326459a-797d-40b0-9411-7230c9064fc0",
        "isCommented": true,
        "type": "calculated",
        "value": {
          "function": "map",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "name": "methodRowStateData",
              "scope": "local"
            },
            "callback": {
              "function": "copyObject",
              "library": "$interactions$",
              "params": {
                "input_object": {
                  "datatype": "object",
                  "label": "Current value",
                  "name": "loop_currentValue",
                  "scope": "local"
                },
                "input_properties": {
                  "datatype": "text array",
                  "name": "attributesArray",
                  "scope": "local"
                }
              },
              "returnType": "object"
            }
          },
          "returnType": "object array"
        },
        "variable": {
          "datatype": "object array",
          "name": "rowData",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "2da097b9-f4bf-4494-a4fa-e255b1e31308",
        "isCommented": false,
        "type": "variable",
        "value": {
          "datatype": "text array",
          "name": "input_rowData",
          "scope": "local"
        },
        "variable": {
          "datatype": "object array",
          "name": "rowData",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "c91bedee-e007-4360-bf88-5b96b15e9e3e",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "filterObjects",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "object array",
              "name": "rowData",
              "scope": "local"
            },
            "operator": {
              "datatype": "enum",
              "scope": "fixed",
              "value": "eq"
            },
            "propertyName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "hasChildren"
            },
            "referenceValue": {
              "datatype": "object",
              "scope": "fixed",
              "value": false
            }
          },
          "returnType": "object array"
        },
        "variable": {
          "datatype": "object array",
          "name": "leafRows",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "794b1167-1abf-478c-a43c-f900a6dfa81f",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "createNewObjectArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "object array"
        },
        "variable": {
          "datatype": "object array",
          "name": "newRows",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "forEach",
        "id": "92ca926e-e6f5-4222-bb7b-16d1a6387392",
        "isCommented": true,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "object array",
            "name": "leafRows",
            "scope": "local"
          },
          "callback": {
            "function": "queryHierarchyData",
            "library": "$interactions$",
            "params": {
              "input_outArray": {
                "datatype": "object array",
                "name": "rowData",
                "scope": "local"
              },
              "input_segment": {
                "datatype": "object",
                "label": "Current value",
                "name": "loop_currentValue",
                "scope": "local"
              }
            }
          }
        }
      },
      {
        "action": "execfunc",
        "function": "log",
        "id": "4889bd40-8f34-4d84-aff2-c805f82ae667",
        "isCommented": true,
        "library": "CirrusLibDebugging",
        "params": {
          "prefix": {
            "datatype": "text",
            "scope": "fixed",
            "value": "WeightRowData:"
          },
          "variable": {
            "datatype": "object array",
            "name": "rowData",
            "scope": "local"
          }
        },
        "returnType": "object"
      },
      {
        "action": "execfunc",
        "function": "forEach",
        "id": "3f6af468-adbb-4b42-a4a3-b19984c721d9",
        "isCommented": false,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "object array",
            "name": "leafRows",
            "scope": "local"
          },
          "callback": {
            "function": "updateWeights",
            "library": "$interactions$",
            "params": {
              "input_segmentFilterRowObject": {
                "datatype": "object",
                "label": "Current value",
                "name": "loop_currentValue",
                "scope": "local"
              },
              "input_weightRowsData": {
                "datatype": "text array",
                "name": "rowData",
                "scope": "local"
              }
            }
          }
        }
      },
      {
        "action": "execfunc",
        "function": "log",
        "id": "d14008ea-c557-4632-af20-1da659e28d47",
        "isCommented": false,
        "library": "CirrusLibDebugging",
        "params": {
          "prefix": {
            "datatype": "text",
            "scope": "fixed",
            "value": "WeightRowDataAfterWeights:"
          },
          "variable": {
            "datatype": "object array",
            "name": "rowData",
            "scope": "local"
          }
        },
        "returnType": "object"
      },
      {
        "action": "setvar",
        "id": "0153f8ba-d02c-40a7-aa71-a7cb614fdb41",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "convertStringToArray",
          "library": "CirrusLibArray",
          "params": {
            "string": {
              "datatype": "text",
              "scope": "fixed",
              "value": "[{\"key\": \"   \", \"hierarchy\": [\"   \"], \"hasChildren\": true}]"
            }
          },
          "returnType": "\u003cOutgoing\u003e array"
        },
        "variable": {
          "datatype": "\u003cOutgoing\u003e array",
          "name": "emptyRowData",
          "scope": "local"
        }
      },
      {
        "action": "setprop",
        "function": "setSpreadsheetRowData",
        "id": "b8f9ac3a-b256-4b6e-9b37-8056f1e4a34d",
        "isCommented": false,
        "params": {
          "spreadsheetRowData": {
            "datatype": "\u003cOutgoing\u003e array",
            "name": "emptyRowData",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "WeightSpreadsheet"
      },
      {
        "action": "setvar",
        "comment": "Workaround for keeping the data for not rendered spreadsheet component.",
        "id": "a58d963d-eec8-477a-b120-d036d68db081",
        "isCommented": false,
        "type": "variable",
        "value": {
          "datatype": "object array",
          "name": "rowData",
          "scope": "local"
        },
        "variable": {
          "datatype": "object array",
          "name": "lastKnowWeightRowData",
          "scope": "global"
        }
      },
      {
        "action": "setprop",
        "function": "setSpreadsheetRowData",
        "id": "4b5a5848-067e-4a5f-9923-45d19c998128",
        "isCommented": false,
        "params": {
          "spreadsheetRowData": {
            "datatype": "object array",
            "name": "rowData",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "WeightSpreadsheet"
      },
      {
        "action": "dispatch",
        "id": "f2dbc059-939d-4549-9f5e-46cbc7274327",
        "isCommented": false
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "storeData": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "0bae849e-ae2c-4529-8a91-843cae08e31f",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "createEmptyObject",
          "library": "CirrusLibObject",
          "params": {},
          "returnType": "object"
        },
        "variable": {
          "datatype": "object",
          "name": "emptyObject",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "37f816f4-a295-4c11-885a-f38cf0375eec",
        "isCommented": true,
        "type": "calculated",
        "value": {
          "function": "strEquals",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "name": "initType",
              "objectType": "BusinessEvolutionPlan",
              "scope": "field",
              "set-field": "initType",
              "target": "$self$"
            },
            "string2": {
              "datatype": "text",
              "scope": "fixed",
              "value": "PTF"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isInitTypePTF",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "19041d67-7c28-4435-94d0-e8e5afb34213",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "coalesce",
          "library": "CirrusLibGeneral",
          "params": {
            "arg1": {
              "datatype": "text",
              "name": "allocationData",
              "objectType": "AllocationScheme",
              "scope": "field",
              "set-field": "allocationData",
              "target": "$self$"
            },
            "arg2": {
              "name": "emptyObject",
              "scope": "local"
            }
          },
          "returnType": "\u003cOutgoing\u003e"
        },
        "variable": {
          "datatype": "\u003cOutgoing\u003e",
          "name": "allocationData",
          "objectType": "AllocationScheme",
          "scope": "field",
          "set-field": "allocationData",
          "target": "$self$"
        }
      },
      {
        "action": "setvar",
        "id": "05298a79-3976-498b-9954-f7b0ff1b4cde",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "rowState"
            },
            "object": {
              "datatype": "object",
              "name": "WeightSpreadsheet",
              "scope": "data",
              "target": "$self$"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "bepRowState",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "0ebb72c2-6840-4dc3-862f-b20fac18e8cf",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "data"
          },
          "object": {
            "datatype": "text",
            "name": "allocationData",
            "objectType": "AllocationScheme",
            "scope": "field",
            "set-field": "allocationData",
            "target": "$self$"
          },
          "value": {
            "name": "bepRowState",
            "scope": "local"
          }
        },
        "returnType": "text"
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "de106248-9dc1-43cb-bb51-d863d2bcb485",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "meta"
          },
          "object": {
            "datatype": "text",
            "name": "allocationData",
            "objectType": "AllocationScheme",
            "scope": "field",
            "set-field": "allocationData",
            "target": "$self$"
          },
          "value": {
            "datatype": "object",
            "name": "weightSpreadsheetMeta",
            "scope": "global"
          }
        },
        "returnType": "text"
      },
      {
        "action": "ifelse",
        "id": "da2013e7-b378-4cb1-bf21-502154872e9d",
        "includeElse": true,
        "isCommented": true,
        "test": {
          "datatype": "boolean",
          "name": "isInitTypePTF",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "886a66bc-4396-4623-bfce-f43eb93cb267",
        "isCommented": true,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "rowState"
            },
            "object": {
              "datatype": "object",
              "name": "bep_spreadsheet_PTF",
              "scope": "data",
              "target": "$self$"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "bepRowState",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "7e1da901-9a14-4451-ae50-7bceeab6d4c5",
        "isCommented": true,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "data"
          },
          "object": {
            "datatype": "text",
            "name": "bepData",
            "objectType": "BusinessEvolutionPlan",
            "scope": "field",
            "set-field": "bepData",
            "target": "$self$"
          },
          "value": {
            "name": "bepRowState",
            "scope": "local"
          }
        },
        "returnType": "text"
      },
      {
        "action": "ifelse",
        "id": "96580120-b471-4605-b6e6-a80208caa123",
        "includeElse": true,
        "isCommented": true,
        "iselse": true,
        "main": "da2013e7-b378-4cb1-bf21-502154872e9d",
        "test": {
          "datatype": "boolean",
          "name": "isInitTypePTF",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "7d2f97e7-3461-4800-bfcd-0f385273abe0",
        "isCommented": true,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "rowState"
            },
            "object": {
              "datatype": "object",
              "name": "bep_spreadsheet",
              "scope": "data",
              "target": "$self$"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "bepRowState",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "7c3d2edb-9b33-4913-b5e9-50da5b02cb00",
        "isCommented": true,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "data"
          },
          "object": {
            "datatype": "text",
            "name": "bepData",
            "objectType": "BusinessEvolutionPlan",
            "scope": "field",
            "set-field": "bepData",
            "target": "$self$"
          },
          "value": {
            "name": "bepRowState",
            "scope": "local"
          }
        },
        "returnType": "text"
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "e72b86e3-7a93-4e73-9ae0-df69e06426b7",
        "includeElse": true,
        "isCommented": true,
        "main": "da2013e7-b378-4cb1-bf21-502154872e9d",
        "test": {
          "datatype": "boolean",
          "name": "isInitTypePTF",
          "scope": "local"
        }
      },
      {
        "action": "dispatch",
        "id": "97b01f1d-d2ef-4c1b-89b0-e223773ea110",
        "isCommented": false
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "sumReducer": {
    "inputs": [
      {
        "datatype": "numeric",
        "name": "input_accumulator"
      },
      {
        "datatype": "text",
        "name": "input_object"
      },
      {
        "datatype": "text",
        "name": "input_attribute"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "6d0481f1-da45-4f1c-96fe-2896931bd912",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "has",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "name": "input_attribute",
              "scope": "local"
            },
            "object": {
              "datatype": "text",
              "name": "input_object",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "hasAttribute",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "51df5307-bc0f-4542-b3c6-a3f06118025c",
        "includeElse": true,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "hasAttribute",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "01f34e7b-2f1e-42ba-a11c-07b0286fd151",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "name": "input_attribute",
              "scope": "local"
            },
            "object": {
              "datatype": "text",
              "name": "input_object",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "value",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "95729b90-be9b-4d5e-ae93-876f9e516b17",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "add",
          "library": "CirrusLibMath",
          "params": {
            "from": {
              "datatype": "numeric",
              "name": "input_accumulator",
              "scope": "local"
            },
            "number": {
              "datatype": "numeric",
              "name": "value",
              "scope": "local"
            }
          },
          "returnType": "numeric"
        },
        "variable": {
          "datatype": "numeric",
          "name": "value",
          "scope": "local"
        }
      },
      {
        "action": "returnvar",
        "id": "8e2d21da-e270-4ec8-ad05-c055ea3c9092",
        "isCommented": false,
        "variable": {
          "datatype": "numeric",
          "name": "value",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "8068026b-ae1f-4ecf-a7f4-fa5fcc8ef266",
        "includeElse": true,
        "isCommented": false,
        "iselse": true,
        "main": "51df5307-bc0f-4542-b3c6-a3f06118025c",
        "test": {
          "datatype": "boolean",
          "name": "hasAttribute",
          "scope": "local"
        }
      },
      {
        "action": "returnvar",
        "id": "057a1dfd-79e3-4fff-a404-958787be9476",
        "isCommented": false,
        "variable": {
          "datatype": "numeric",
          "name": "input_accumulator",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "ad5282e1-7122-4d9d-b2e9-9d7bca3b6378",
        "includeElse": true,
        "isCommented": false,
        "main": "51df5307-bc0f-4542-b3c6-a3f06118025c",
        "test": {
          "datatype": "boolean",
          "name": "hasAttribute",
          "scope": "local"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "updateWeights": {
    "inputs": [
      {
        "datatype": "text array",
        "name": "input_weightRowsData"
      },
      {
        "datatype": "text",
        "name": "input_segmentFilterRowObject"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "05f8b080-c12b-4e2d-b714-9f8028cc6d22",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "segmentFilter"
            },
            "object": {
              "datatype": "text",
              "name": "input_segmentFilterRowObject",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "segmentFilter",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "50a4a6cf-5722-4873-8784-4212a1310fb5",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "filterObjects",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "input_weightRowsData",
              "scope": "local"
            },
            "operator": {
              "datatype": "enum",
              "scope": "fixed",
              "value": "eq"
            },
            "propertyName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "segmentFilter"
            },
            "referenceValue": {
              "name": "segmentFilter",
              "scope": "local"
            }
          },
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "matchingRows",
          "scope": "local"
        }
      },
      {
        "action": "addComment",
        "commentStep": "--- Reapply Methods ---",
        "id": "55f742de-bdb9-42f3-9f29-c4e243424e83",
        "isCommented": false
      },
      {
        "action": "setvar",
        "id": "e0591569-35d1-4a5d-8a7c-f4cc92acd749",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "allocationType"
            },
            "object": {
              "datatype": "text",
              "name": "input_segmentFilterRowObject",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "allocationType",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "4507b388-d6a1-4f9f-acd2-1fb82a6760fa",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "isEmpty",
          "library": "CirrusLibString",
          "params": {
            "string": {
              "name": "allocationType",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isAllocationTypeEmpty",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "29e43df0-38c7-4516-b313-019bff538d00",
        "includeElse": true,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "isAllocationTypeEmpty",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "forEach",
        "id": "80365caa-a358-4fdc-81b2-00e0ce52dc94",
        "isCommented": false,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "text array",
            "name": "matchingRows",
            "scope": "local"
          },
          "callback": {
            "function": "remove",
            "library": "CirrusLibObject",
            "params": {
              "name": {
                "datatype": "text",
                "scope": "fixed",
                "value": "allocationType"
              },
              "object": {
                "datatype": "text",
                "label": "Current value",
                "name": "loop_currentValue",
                "scope": "local"
              }
            },
            "returnType": "text"
          }
        }
      },
      {
        "action": "ifelse",
        "id": "e74da32e-0928-40a1-9e62-5cd7e214cadc",
        "includeElse": true,
        "isCommented": false,
        "iselse": true,
        "main": "29e43df0-38c7-4516-b313-019bff538d00",
        "test": {
          "datatype": "boolean",
          "name": "isAllocationTypeEmpty",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "forEach",
        "id": "17b8c480-af91-4a7f-9da1-313e845648b0",
        "isCommented": false,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "text array",
            "name": "matchingRows",
            "scope": "local"
          },
          "callback": {
            "function": "set",
            "library": "CirrusLibObject",
            "params": {
              "name": {
                "datatype": "text",
                "scope": "fixed",
                "value": "allocationType"
              },
              "object": {
                "datatype": "text",
                "label": "Current value",
                "name": "loop_currentValue",
                "scope": "local"
              },
              "value": {
                "name": "allocationType",
                "scope": "local"
              }
            },
            "returnType": "text"
          }
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "65dc5b75-a5b3-4cf5-b8bf-a1260a012805",
        "includeElse": true,
        "isCommented": false,
        "main": "29e43df0-38c7-4516-b313-019bff538d00",
        "test": {
          "datatype": "boolean",
          "name": "isAllocationTypeEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "8c194e28-fd56-4fc1-86c8-580440600707",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "allocationMethod"
            },
            "object": {
              "datatype": "text",
              "name": "input_segmentFilterRowObject",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "allocationMethod",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "24fb5b86-6f94-4e04-a9b8-cb836aa21e7a",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "isEmpty",
          "library": "CirrusLibString",
          "params": {
            "string": {
              "name": "allocationMethod",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isAllocationMethodEmpty",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "c7542574-5a1d-4c80-8a92-3de45d3e03f2",
        "includeElse": true,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "isAllocationMethodEmpty",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "forEach",
        "id": "4f08c997-b1b2-48fb-852e-db93544d30bf",
        "isCommented": false,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "text array",
            "name": "matchingRows",
            "scope": "local"
          },
          "callback": {
            "function": "remove",
            "library": "CirrusLibObject",
            "params": {
              "name": {
                "datatype": "text",
                "scope": "fixed",
                "value": "allocationMethod"
              },
              "object": {
                "datatype": "text",
                "label": "Current value",
                "name": "loop_currentValue",
                "scope": "local"
              }
            },
            "returnType": "text"
          }
        }
      },
      {
        "action": "ifelse",
        "id": "b6a18ce1-792a-45df-ab19-d4ffb53ae6c7",
        "includeElse": true,
        "isCommented": false,
        "iselse": true,
        "main": "c7542574-5a1d-4c80-8a92-3de45d3e03f2",
        "test": {
          "datatype": "boolean",
          "name": "isAllocationMethodEmpty",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "forEach",
        "id": "1de2a368-9b42-44a0-a4ad-575aed92899c",
        "isCommented": false,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "text array",
            "name": "matchingRows",
            "scope": "local"
          },
          "callback": {
            "function": "set",
            "library": "CirrusLibObject",
            "params": {
              "name": {
                "datatype": "text",
                "scope": "fixed",
                "value": "allocationMethod"
              },
              "object": {
                "datatype": "text",
                "label": "Current value",
                "name": "loop_currentValue",
                "scope": "local"
              },
              "value": {
                "name": "allocationMethod",
                "scope": "local"
              }
            },
            "returnType": "text"
          }
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "64e4e9e5-1bb4-4e01-b0d6-fe86c8ac17ce",
        "includeElse": true,
        "isCommented": false,
        "main": "c7542574-5a1d-4c80-8a92-3de45d3e03f2",
        "test": {
          "datatype": "boolean",
          "name": "isAllocationMethodEmpty",
          "scope": "local"
        }
      },
      {
        "action": "addComment",
        "commentStep": "--- Reapply Weights ---",
        "id": "b08db05c-24d5-4458-9775-4f93c02e56ac",
        "isCommented": false
      },
      {
        "action": "setvar",
        "id": "bbe276a3-9198-482f-8f2b-624467bf09da",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "size",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "matchingRows",
              "scope": "local"
            }
          },
          "returnType": "numeric"
        },
        "variable": {
          "datatype": "numeric",
          "name": "numOfLeaves",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "9fb82d38-540f-44fd-ba2a-4bccde657a1d",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "numeric",
          "function": "subtract",
          "library": "CirrusLibMath",
          "params": {
            "from": {
              "datatype": "numeric",
              "name": "numOfLeaves",
              "scope": "local"
            },
            "number": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 1
            }
          },
          "returnType": "numeric"
        },
        "variable": {
          "datatype": "numeric",
          "name": "numOfLeaves",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "9ffbb521-6cfd-48f3-9d27-784327d58201",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "reduce",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "matchingRows",
              "scope": "local"
            },
            "callback": {
              "function": "sumReducer",
              "library": "$interactions$",
              "params": {
                "input_accumulator": {
                  "datatype": "numeric",
                  "label": "Accumulator",
                  "name": "loop_accumulator",
                  "scope": "local"
                },
                "input_attribute": {
                  "datatype": "text",
                  "scope": "fixed",
                  "value": "weightOverride"
                },
                "input_object": {
                  "datatype": "text",
                  "label": "Current value",
                  "name": "loop_currentValue",
                  "scope": "local"
                }
              },
              "returnType": "numeric"
            },
            "initialValue": {
              "scope": "fixed",
              "value": 0
            }
          },
          "returnType": "numeric"
        },
        "variable": {
          "datatype": "numeric",
          "name": "sumOverrideWeights",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "forEach",
        "id": "bc345ce9-c5f8-488d-8c07-bea9343f75bb",
        "isCommented": false,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "text array",
            "name": "matchingRows",
            "scope": "local"
          },
          "callback": {
            "function": "updateWeightsRow",
            "library": "$interactions$",
            "params": {
              "input_leavesCount": {
                "datatype": "numeric",
                "name": "numOfLeaves",
                "scope": "local"
              },
              "input_overrideWeightsTotal": {
                "datatype": "numeric",
                "name": "sumOverrideWeights",
                "scope": "local"
              },
              "input_rowObject": {
                "datatype": "text",
                "label": "Current value",
                "name": "loop_currentValue",
                "scope": "local"
              }
            }
          }
        }
      },
      {
        "action": "execfunc",
        "function": "log",
        "id": "b0bd99ef-d011-4b34-836e-721e845ebcaa",
        "isCommented": false,
        "library": "CirrusLibDebugging",
        "params": {
          "prefix": {
            "datatype": "text",
            "scope": "fixed",
            "value": "matchingRows:"
          },
          "variable": {
            "datatype": "text array",
            "name": "matchingRows",
            "scope": "local"
          }
        },
        "returnType": "text"
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "updateWeightsRow": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_rowObject"
      },
      {
        "datatype": "numeric",
        "name": "input_leavesCount"
      },
      {
        "datatype": "numeric",
        "name": "input_overrideWeightsTotal"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "1d39d9d9-21d4-42d0-8a89-910368d80f91",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "isLeaf"
            },
            "object": {
              "datatype": "text",
              "name": "input_rowObject",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "isLeaf",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "db76fdb7-d582-441a-a547-d3fa396d8787",
        "isCommented": false,
        "test": {
          "datatype": "\u003cany\u003e",
          "name": "isLeaf",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "1596bc84-e940-4dbc-b633-82aeaa5dbbf7",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "allocationMethod"
            },
            "object": {
              "datatype": "text",
              "name": "input_rowObject",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "allocationMethod",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "32553be6-120b-4d17-b588-3d7665be17d2",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "strEquals",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "name": "allocationMethod",
              "scope": "local"
            },
            "string2": {
              "datatype": "text",
              "scope": "fixed",
              "value": "EQUAL"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isSegmentMethod_EQUAL",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "f757f789-b23b-4aa8-a44f-119473d4c846",
        "includeElse": true,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "isSegmentMethod_EQUAL",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "3e8b6a5d-f5d3-48d4-9de8-866515ba3ee8",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "quotient",
          "library": "CirrusLibMath",
          "params": {
            "number1": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 100
            },
            "number2": {
              "datatype": "numeric",
              "name": "input_leavesCount",
              "scope": "local"
            }
          },
          "returnType": "numeric"
        },
        "variable": {
          "datatype": "numeric",
          "name": "segmentWeight",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "a0123434-36bd-40a0-91da-ea7adbfbd15c",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "segmentWeight"
          },
          "object": {
            "datatype": "text",
            "name": "input_rowObject",
            "scope": "local"
          },
          "value": {
            "datatype": "numeric",
            "name": "segmentWeight",
            "scope": "local"
          }
        },
        "returnType": "text"
      },
      {
        "action": "ifelse",
        "id": "348ac2ee-2e3d-43e2-8bcd-f818b8de2c21",
        "includeElse": true,
        "isCommented": false,
        "iselse": true,
        "main": "f757f789-b23b-4aa8-a44f-119473d4c846",
        "test": {
          "datatype": "boolean",
          "name": "isSegmentMethod_EQUAL",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "remove",
        "id": "35bbd645-9db2-49a5-b2d5-05930d53b02e",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "segmentWeight"
          },
          "object": {
            "datatype": "text",
            "name": "input_rowObject",
            "scope": "local"
          }
        },
        "returnType": "text"
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "0505aca7-9471-4c67-aad7-1273ba0f6804",
        "includeElse": true,
        "isCommented": false,
        "main": "f757f789-b23b-4aa8-a44f-119473d4c846",
        "test": {
          "datatype": "boolean",
          "name": "isSegmentMethod_EQUAL",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "c6bb239d-fd32-4172-ace1-c2c2da3e4c09",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "strEquals",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "name": "defaultAllocationMethod",
              "objectType": "AllocationScheme",
              "scope": "field",
              "set-field": "defaultAllocationMethod",
              "target": "$self$"
            },
            "string2": {
              "datatype": "text",
              "scope": "fixed",
              "value": "EQUAL"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isDefaultMethod_EQUAL",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "32faf1e2-db2e-491b-8b9a-0cb79b34351c",
        "includeElse": true,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "isDefaultMethod_EQUAL",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "7a794095-b24b-4d4a-9de6-a9d5e447290b",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "quotient",
          "library": "CirrusLibMath",
          "params": {
            "number1": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 100
            },
            "number2": {
              "datatype": "numeric",
              "name": "input_leavesCount",
              "scope": "local"
            }
          },
          "returnType": "numeric"
        },
        "variable": {
          "datatype": "numeric",
          "name": "defaultWeight",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "75e3750f-c3e7-47cc-a541-e0b55e302ae9",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "defaultWeight"
          },
          "object": {
            "datatype": "text",
            "name": "input_rowObject",
            "scope": "local"
          },
          "value": {
            "datatype": "numeric",
            "name": "defaultWeight",
            "scope": "local"
          }
        },
        "returnType": "text"
      },
      {
        "action": "ifelse",
        "id": "8a299612-d337-4cc7-8674-bd1726f06f72",
        "includeElse": true,
        "isCommented": false,
        "iselse": true,
        "main": "32faf1e2-db2e-491b-8b9a-0cb79b34351c",
        "test": {
          "datatype": "boolean",
          "name": "isDefaultMethod_EQUAL",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "remove",
        "id": "60d0f3bd-2049-4138-89a2-e59235f5fa8e",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "defaultWeight"
          },
          "object": {
            "datatype": "text",
            "name": "input_rowObject",
            "scope": "local"
          }
        },
        "returnType": "text"
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "cc36f24b-0889-45c0-a8b3-74cf6d15301b",
        "includeElse": true,
        "isCommented": false,
        "main": "32faf1e2-db2e-491b-8b9a-0cb79b34351c",
        "test": {
          "datatype": "boolean",
          "name": "isDefaultMethod_EQUAL",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "4ec9b3dc-66ea-44da-8655-e6b03cdc0912",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "has",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "weightOverride"
            },
            "object": {
              "datatype": "text",
              "name": "input_rowObject",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "hasOverride",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "a64dc44f-8471-4d7e-b0c4-d4044efbbed6",
        "includeElse": true,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "hasOverride",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "3e7a8477-ce64-4250-badb-a13514596b92",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "weightOverride"
            },
            "object": {
              "datatype": "text",
              "name": "input_rowObject",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "weightOverride",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "d313661d-7c8d-4a32-bda2-8b6f324d12dc",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "quotient",
          "library": "CirrusLibMath",
          "params": {
            "number1": {
              "name": "weightOverride",
              "scope": "local"
            },
            "number2": {
              "datatype": "numeric",
              "name": "input_overrideWeightsTotal",
              "scope": "local"
            }
          },
          "returnType": "numeric"
        },
        "variable": {
          "datatype": "numeric",
          "name": "allocationWeight",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "bf4c8187-5028-4f0e-936c-17e5f64b632a",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "multiply",
          "library": "CirrusLibMath",
          "params": {
            "number1": {
              "datatype": "numeric",
              "name": "allocationWeight",
              "scope": "local"
            },
            "number2": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 100
            }
          },
          "returnType": "numeric"
        },
        "variable": {
          "datatype": "numeric",
          "name": "allocationWeight",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "5e2a0cd3-b3c5-40ed-9e2a-241fc2841a3a",
        "includeElse": true,
        "isCommented": false,
        "iselse": true,
        "main": "a64dc44f-8471-4d7e-b0c4-d4044efbbed6",
        "test": {
          "datatype": "boolean",
          "name": "hasOverride",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "2f390c20-a4f8-4fac-95db-472031296163",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "boolean",
          "function": "gt",
          "library": "CirrusLibMath",
          "params": {
            "number1": {
              "datatype": "numeric",
              "name": "input_overrideWeightsTotal",
              "scope": "local"
            },
            "number2": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 0
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "hasOverride",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "fffbfcd4-fe76-4102-9ffe-da657d26358b",
        "includeElse": true,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "hasOverride",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "4485714c-5cd8-497d-8d46-70b09ae939fc",
        "isCommented": false,
        "type": "fixed",
        "value": {
          "datatype": "numeric",
          "dataval": 0
        },
        "variable": {
          "datatype": "numeric",
          "name": "allocationWeight",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "0ee89b08-c067-462d-855d-04c3b6800624",
        "includeElse": true,
        "isCommented": false,
        "iselse": true,
        "main": "fffbfcd4-fe76-4102-9ffe-da657d26358b",
        "test": {
          "datatype": "boolean",
          "name": "hasOverride",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "c951dbc9-2555-48b0-8e7a-bd955604eb11",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "numeric",
          "function": "coalesce",
          "library": "CirrusLibGeneral",
          "params": {
            "arg1": {
              "datatype": "numeric",
              "name": "segmentWeight",
              "scope": "local"
            },
            "arg2": {
              "datatype": "numeric",
              "name": "defaultWeight",
              "scope": "local"
            }
          },
          "returnType": "numeric"
        },
        "variable": {
          "datatype": "numeric",
          "name": "allocationWeight",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "f589729b-e411-4e0a-af1c-b5f6bb2b7773",
        "includeElse": true,
        "isCommented": false,
        "main": "fffbfcd4-fe76-4102-9ffe-da657d26358b",
        "test": {
          "datatype": "boolean",
          "name": "hasOverride",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "c58e15ed-2aae-41ac-922b-150ad47bc3f4",
        "includeElse": true,
        "isCommented": false,
        "main": "a64dc44f-8471-4d7e-b0c4-d4044efbbed6",
        "test": {
          "datatype": "boolean",
          "name": "hasOverride",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "cacfa7eb-fc94-4953-9a22-725c788a6914",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "allocationWeight"
          },
          "object": {
            "datatype": "text",
            "name": "input_rowObject",
            "scope": "local"
          },
          "value": {
            "datatype": "numeric",
            "name": "allocationWeight",
            "scope": "local"
          }
        },
        "returnType": "text"
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "f348f1fa-9c36-4cc8-81ab-20da2806bcc1",
        "isCommented": false,
        "main": "db76fdb7-d582-441a-a547-d3fa396d8787",
        "test": {
          "datatype": "\u003cany\u003e",
          "name": "isLeaf",
          "scope": "local"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  }
}
