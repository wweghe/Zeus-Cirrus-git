{
  "getEditLinkForLinkInstance": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_objectType"
      },
      {
        "datatype": "text",
        "name": "input_key"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "28305281-28a6-48b4-8528-1eb72a3bf0c6",
        "type": "calculated",
        "value": {
          "function": "getEditLocation",
          "library": "CirrusLibNav",
          "params": {
            "key": {
              "datatype": "text",
              "name": "input_key",
              "scope": "local"
            },
            "objectType": {
              "datatype": "text",
              "name": "input_objectType",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "navLink",
          "scope": "local"
        }
      },
      {
        "action": "returnvar",
        "id": "a8304eee-baf7-49c6-bfa8-05a25c0552ed",
        "variable": {
          "datatype": "text",
          "name": "navLink",
          "scope": "local"
        }
      }
    ],
    "sasProvided": true
  },
  "getLabelValueFromColumnInfo": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_value"
      },
      {
        "datatype": "text",
        "name": "input_valuePropertyName"
      },
      {
        "datatype": "text",
        "name": "input_labelPropertyName"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "a14a02fd-d5df-48e7-8956-1ee28f09934f",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "createEmptyObject",
          "library": "CirrusLibObject",
          "params": {},
          "returnType": "object"
        },
        "variable": {
          "datatype": "object",
          "name": "result",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "b570178f-4aa9-48c7-9d12-bea2fc6a37f3",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "name": "input_valuePropertyName",
              "scope": "local"
            },
            "object": {
              "datatype": "text",
              "name": "input_value",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "value",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "763e30aa-0f40-410f-88f1-752f5ed0b3ee",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "name": "input_labelPropertyName",
              "scope": "local"
            },
            "object": {
              "datatype": "text",
              "name": "input_value",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "label",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "5b25adbb-8f09-42ac-90dc-c154f08befd1",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "isNullOrUndefined",
          "library": "CirrusLibGeneral",
          "params": {
            "value": {
              "datatype": "text",
              "name": "label",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isLabelEmpty",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "6e870523-6d5d-4f71-8184-2343773477c5",
        "includeElse": true,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "isLabelEmpty",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "05e02d13-8ee8-4a47-981c-4fc13233b7f2",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "label"
          },
          "object": {
            "datatype": "object",
            "name": "result",
            "scope": "local"
          },
          "value": {
            "name": "value",
            "scope": "local"
          }
        },
        "returnType": "object"
      },
      {
        "action": "ifelse",
        "id": "beccc35d-e057-43d4-9776-d77515b64dc1",
        "includeElse": true,
        "isCommented": false,
        "iselse": true,
        "main": "6e870523-6d5d-4f71-8184-2343773477c5",
        "test": {
          "datatype": "boolean",
          "name": "isLabelEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "d9437914-66e0-469d-a95a-1845f8592e91",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "concat",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "name": "value",
              "scope": "local"
            },
            "string2": {
              "datatype": "text",
              "scope": "fixed",
              "value": "  ("
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "label",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "2cacb0cf-b706-4745-9455-2f8957d833e2",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "concat",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "name": "label",
              "scope": "local"
            },
            "string2": {
              "datatype": "text",
              "scope": "fixed",
              "value": " )"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "label",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "1e804685-3ee7-4dff-95f6-4b53de1a34ed",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "label"
          },
          "object": {
            "datatype": "object",
            "name": "result",
            "scope": "local"
          },
          "value": {
            "name": "value",
            "scope": "local"
          }
        },
        "returnType": "object"
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "43cbee9a-5916-4cce-a3e3-3cd5b62ad068",
        "includeElse": true,
        "isCommented": false,
        "main": "6e870523-6d5d-4f71-8184-2343773477c5",
        "test": {
          "datatype": "boolean",
          "name": "isLabelEmpty",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "e26379d0-b1d2-4024-abfe-611f6c07f483",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "value"
          },
          "object": {
            "datatype": "object",
            "name": "result",
            "scope": "local"
          },
          "value": {
            "name": "value",
            "scope": "local"
          }
        },
        "returnType": "object"
      },
      {
        "action": "returnvar",
        "id": "0f1fe8e1-f5a3-4121-9071-c19f420cf460",
        "isCommented": false,
        "variable": {
          "datatype": "object",
          "name": "result",
          "scope": "local"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "getLocalisedObjectType": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "3894422e-d6ac-4462-8795-f10e10edfbc1",
        "type": "calculated",
        "value": {
          "function": "getCurrentObjectType",
          "library": "CirrusLibPageData",
          "params": {},
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "objectType",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "668a9d7e-f6ab-41f3-a46e-ccfe5e2f8c92",
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": ".schema.name.singular.title"
        },
        "variable": {
          "datatype": "text",
          "name": "i18nSuffix",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "b7e54715-58f4-452f-9d24-3ad725222900",
        "type": "calculated",
        "value": {
          "function": "concat",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "name": "objectType",
              "scope": "local"
            },
            "string2": {
              "datatype": "text",
              "name": "i18nSuffix",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "objectTypePropString",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "1df2a622-a1ce-4d8c-83ce-a3cfa9ff1641",
        "type": "calculated",
        "value": {
          "function": "getMessageProperty",
          "library": "CirrusLibLocalization",
          "params": {
            "messageKey": {
              "datatype": "text",
              "name": "objectTypePropString",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "localisedObjectType",
          "scope": "local"
        }
      },
      {
        "action": "returnvar",
        "id": "0a736547-9eac-42cf-a9d9-b7b4fd9a9311",
        "variable": {
          "datatype": "text",
          "name": "localisedObjectType",
          "scope": "local"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "getOutputDataProperty": {
    "inputs": [
      {
        "datatype": "boolean",
        "name": "input_ignoreCache"
      },
      {
        "datatype": "text",
        "name": "input_propertyName"
      }
    ],
    "logic": [
      {
        "action": "addComment",
        "commentStep": "This interaction step makes sure the output data definition is loaded and caches the value for other interactions to consume. Other interactions should not use the global variable, only this interaction should be used to read the output data definition record or its property.",
        "id": "d9627f6e-bb91-44e0-a0fb-24acba1a3539",
        "isCommented": false
      },
      {
        "action": "setvar",
        "id": "720c9faf-1003-41c0-ba61-288ca7096f5d",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "setNull",
          "library": "CirrusLibGeneral",
          "params": {},
          "returnType": "\u003cIncoming\u003e"
        },
        "variable": {
          "datatype": "\u003cIncoming\u003e",
          "name": "propertyValue",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "a0c98981-37cb-4888-8538-4e7e331cf640",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "isEmpty",
          "library": "CirrusLibString",
          "params": {
            "string": {
              "datatype": "text",
              "name": "input_propertyName",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isPropertyNameEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "a06ee1c2-b65e-400e-a71a-86866a021376",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "boolean",
          "function": "toBoolean",
          "library": "CirrusLibBoolean",
          "params": {
            "value": {
              "datatype": "boolean",
              "name": "input_ignoreCache",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "input_ignoreCache",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "17b2919d-055b-4494-aca4-d84c5e1b2fb8",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "isNullOrUndefined",
          "library": "CirrusLibGeneral",
          "params": {
            "value": {
              "datatype": "object",
              "name": "outputDataDefinition",
              "scope": "global"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isOutputDataDefinitionEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "2d5953ab-8f9d-4f35-8319-4c866aa017ec",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "or",
          "library": "CirrusLibBoolean",
          "params": {
            "bool1": {
              "datatype": "boolean",
              "name": "input_ignoreCache",
              "scope": "local"
            },
            "bool2": {
              "datatype": "boolean",
              "name": "isOutputDataDefinitionEmpty",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "readSource",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "41e4615b-82cd-4003-bb8b-69a42339e911",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "getLinkedObjectKeysFromField",
          "library": "CirrusLibCirrusObjectLinkInstance",
          "params": {
            "fieldName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "core_DataDefinition_output"
            }
          },
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "outputDataDefinitionKeys",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "9c8d55a6-cad9-40df-a8d5-0b92afd36a88",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "hasAnyItems",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "outputDataDefinitionKeys",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "areOutputDataDefinitionKeysEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "f6491928-0b6c-4d73-97cb-572049f0aaf9",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "getCurrentObjectKey",
          "library": "CirrusLibPageData",
          "params": {},
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "instanceKey",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "b7b47a2f-7233-45be-bf96-3c657f61603d",
        "includeElse": true,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "areOutputDataDefinitionKeysEmpty",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "969d9e8e-caa9-4220-a378-37efdba0b8bb",
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "readSource",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "7993f81d-0ba2-405e-92c0-13ce0d69f845",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "outputDataDefinitionKeys",
              "scope": "local"
            },
            "index": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 0
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "outputDataDefinitionKey",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "a04590b4-7c8a-4af7-be8c-2ef4e5da90cb",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "addVarToMap",
          "library": "CirrusLibStringTemplate",
          "params": {
            "varName1": {
              "datatype": "text",
              "scope": "fixed",
              "value": "outputDataDefinitionKey"
            },
            "varValue1": {
              "datatype": "text",
              "name": "outputDataDefinitionKey",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "localVars",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "ba07f2ca-63aa-4e1e-8c96-37483b653377",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "resolveTemplate",
          "library": "CirrusLibStringTemplate",
          "params": {
            "stringTemplate": {
              "datatype": "text",
              "scope": "fixed",
              "value": "eq(key,'${local:outputDataDefinitionKey}')"
            },
            "varMap": {
              "datatype": "text",
              "name": "localVars",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "filter",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "251e607a-2621-4844-9503-772645e6a39e",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "fetchObjects",
          "library": "CirrusLibCirrusObject",
          "params": {
            "filter": {
              "datatype": "text",
              "name": "filter",
              "scope": "local"
            },
            "limit": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 1
            },
            "start": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 0
            },
            "type": {
              "datatype": "text",
              "scope": "fixed",
              "value": "DataDefinition"
            }
          },
          "returnType": "All Data"
        },
        "variable": {
          "datatype": "All Data",
          "name": "outputDataDefinitions",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "2ed3620f-3bdf-4fc4-bdcf-f8c78c4de75e",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "outputDataDefinitions",
              "scope": "local"
            },
            "index": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 0
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "outputDataDefinition",
          "scope": "global"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "5fc21308-29e7-4775-8341-d8c8afa5d7e2",
        "isCommented": false,
        "main": "969d9e8e-caa9-4220-a378-37efdba0b8bb",
        "test": {
          "datatype": "boolean",
          "name": "readSource",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "55d53d61-3565-430c-b9f1-a228d73fd074",
        "includeElse": true,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "isPropertyNameEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "2d9e4a01-5bd3-4cf2-996d-d6d0d3ad661f",
        "isCommented": false,
        "type": "variable",
        "value": {
          "datatype": "object",
          "name": "outputDataDefinition",
          "scope": "global"
        },
        "variable": {
          "datatype": "object",
          "name": "propertyValue",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "5a6786e9-5ebe-4068-a430-14d59bcb18dd",
        "includeElse": true,
        "isCommented": false,
        "iselse": true,
        "main": "55d53d61-3565-430c-b9f1-a228d73fd074",
        "test": {
          "datatype": "boolean",
          "name": "isPropertyNameEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "1660bbf8-6261-450d-86ad-b7e3e732d38e",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "name": "input_propertyName",
              "scope": "local"
            },
            "object": {
              "datatype": "object",
              "name": "outputDataDefinition",
              "scope": "global"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "propertyValue",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "f815d0fa-511f-4138-96cc-b3a2bdb38711",
        "includeElse": true,
        "isCommented": false,
        "main": "55d53d61-3565-430c-b9f1-a228d73fd074",
        "test": {
          "datatype": "boolean",
          "name": "isPropertyNameEmpty",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "76d94d37-3598-44da-8087-3c67bbe1ec10",
        "includeElse": true,
        "iselse": true,
        "main": "b7b47a2f-7233-45be-bf96-3c657f61603d",
        "test": {
          "datatype": "boolean",
          "name": "areOutputDataDefinitionKeysEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "3159c3b8-c1f0-4baa-835c-a2942578022a",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "setNull",
          "library": "CirrusLibGeneral",
          "params": {},
          "returnType": "All Data"
        },
        "variable": {
          "datatype": "All Data",
          "name": "outputDataDefinition",
          "scope": "global"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "e030c799-516b-4fac-8491-d7698ffc1f53",
        "includeElse": true,
        "isCommented": false,
        "main": "b7b47a2f-7233-45be-bf96-3c657f61603d",
        "test": {
          "datatype": "boolean",
          "name": "areOutputDataDefinitionKeysEmpty",
          "scope": "local"
        }
      },
      {
        "action": "returnvar",
        "id": "3cd86adf-2adf-4e5e-82f8-a588a4130136",
        "isCommented": false,
        "variable": {
          "datatype": "\u003cIncoming\u003e",
          "name": "propertyValue",
          "scope": "local"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "loadAttributionFactors": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "2b0ddbd9-921f-42ab-b747-30883f2103ad",
        "type": "calculated",
        "value": {
          "function": "getAppConfigProperty",
          "library": "CirrusLibConfigProperties",
          "params": {
            "propertyName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "AttributionTemplates.attributionFactors.default"
            }
          },
          "returnType": "\u003cOutgoing\u003e"
        },
        "variable": {
          "datatype": "\u003cOutgoing\u003e",
          "name": "defaultValue",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "d83b1248-def5-42cd-a997-78c665ff663b",
        "type": "calculated",
        "value": {
          "function": "createNewObjectArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "object array"
        },
        "variable": {
          "datatype": "object array",
          "name": "originalFactors",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "a6ce12fa-bcf9-4e51-8d49-b47d11e13d9b",
        "type": "calculated",
        "value": {
          "function": "isNullOrUndefined",
          "library": "CirrusLibGeneral",
          "params": {
            "value": {
              "datatype": "object",
              "name": "attFactors",
              "objectType": "AttributionTemplate",
              "scope": "field",
              "set-field": "attFactors",
              "target": "$self$"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isNotDefined",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "0c421d51-77ad-4e05-8ff2-31999cb0f65d",
        "type": "calculated",
        "value": {
          "function": "not",
          "library": "CirrusLibBoolean",
          "params": {
            "bool": {
              "datatype": "boolean",
              "name": "isNotDefined",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isDefined",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "7cd67b6d-7ed3-434b-81f1-9cd980998695",
        "test": {
          "datatype": "boolean",
          "name": "isDefined",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "9409f8b3-5fa9-4aab-9d55-e214bf7867b1",
        "type": "variable",
        "value": {
          "datatype": "object",
          "name": "attFactors",
          "objectType": "AttributionTemplate",
          "scope": "field",
          "set-field": "attFactors",
          "target": "$self$"
        },
        "variable": {
          "datatype": "object",
          "name": "originalFactors",
          "scope": "global"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "546dc9f8-7c6e-480d-b272-473053e0658c",
        "main": "7cd67b6d-7ed3-434b-81f1-9cd980998695",
        "test": {
          "datatype": "boolean",
          "name": "isDefined",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "onInputDataAdded",
        "id": "7f472ae1-9f41-4023-8490-31454507af50",
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "onRiskScenarioAdded",
        "id": "ab8b0b8a-e0dd-414f-ad63-9112d3dbbc14",
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "ifelse",
        "id": "5385d401-f466-4ea8-b822-58d8dcfe5e03",
        "includeElse": true,
        "test": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "ae078e4e-6b24-4baa-a8a7-6e4626b6424b",
        "type": "variable",
        "value": {
          "datatype": "\u003cOutgoing\u003e",
          "name": "defaultValue",
          "scope": "local"
        },
        "variable": {
          "datatype": "object",
          "name": "attFactors",
          "objectType": "AttributionTemplate",
          "scope": "field",
          "set-field": "attFactors",
          "target": "$self$"
        }
      },
      {
        "action": "setprop",
        "function": "setDefaultFactors",
        "id": "12eaa79b-d146-4af3-a984-9b3acf47427c",
        "params": {
          "defaultFactors": {
            "datatype": "\u003cOutgoing\u003e",
            "name": "defaultValue",
            "scope": "local"
          }
        },
        "widgetId": "attFactors"
      },
      {
        "action": "ifelse",
        "id": "9138f77a-7c4b-4e80-97a5-fe5a5b6488f7",
        "includeElse": true,
        "iselse": true,
        "main": "5385d401-f466-4ea8-b822-58d8dcfe5e03",
        "test": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "global"
        }
      },
      {
        "action": "addComment",
        "commentStep": "If we're loading an existing attribution template, the already-selected default factors may differ from the default factors list in the page configuration properties.  We need to merge the two to get a \"full\" list.",
        "id": "bda6b4dc-1d1a-40e2-a46f-f3710590a05e"
      },
      {
        "action": "setvar",
        "id": "fb24eb1c-4831-4b75-9054-5c0158536682",
        "type": "calculated",
        "value": {
          "function": "filterObjects",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "object",
              "name": "attFactors",
              "objectType": "AttributionTemplate",
              "scope": "field",
              "set-field": "attFactors",
              "target": "$self$"
            },
            "operator": {
              "datatype": "text",
              "scope": "fixed",
              "value": "eq"
            },
            "propertyName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "category"
            },
            "referenceValue": {
              "datatype": "text",
              "scope": "fixed",
              "value": "Default"
            }
          },
          "returnType": "\u003cIncoming\u003e array"
        },
        "variable": {
          "datatype": "\u003cIncoming\u003e array",
          "name": "preSelectedDefaultFactors",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "8a34d974-f5ce-44b8-b445-654fcb1ccec4",
        "type": "calculated",
        "value": {
          "function": "getUnionWithoutDuplicatesOfObjectsArray",
          "library": "CirrusLibArray",
          "params": {
            "array1": {
              "datatype": "\u003cOutgoing\u003e",
              "name": "defaultValue",
              "scope": "local"
            },
            "array2": {
              "datatype": "\u003cIncoming\u003e array",
              "name": "preSelectedDefaultFactors",
              "scope": "local"
            },
            "propertyName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "key"
            }
          },
          "returnType": "\u003cIncoming\u003e array"
        },
        "variable": {
          "datatype": "\u003cIncoming\u003e array",
          "name": "combinedDefaultListAndPreselectedDefaults",
          "scope": "local"
        }
      },
      {
        "action": "setprop",
        "function": "setDefaultFactors",
        "id": "1610e947-c8ad-43f8-b825-8b7b481f619c",
        "params": {
          "defaultFactors": {
            "datatype": "\u003cIncoming\u003e array",
            "name": "combinedDefaultListAndPreselectedDefaults",
            "scope": "local"
          }
        },
        "widgetId": "attFactors"
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "1db62cc2-84d7-4c61-85fd-1f178cbb1908",
        "includeElse": true,
        "main": "5385d401-f466-4ea8-b822-58d8dcfe5e03",
        "test": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "global"
        }
      },
      {
        "action": "addComment",
        "commentStep": "Format needs to be \"corrected\" because the field itself is stored as an array (just the selected factors) whereas the component expects an object containing a selectedFactors property.",
        "id": "13037f2d-15dc-43f1-8d6d-500903e6e146"
      },
      {
        "action": "setvar",
        "id": "3c0563c3-099a-4ac1-8dc2-81b3f349238d",
        "type": "calculated",
        "value": {
          "function": "createEmptyObject",
          "library": "CirrusLibObject",
          "params": {},
          "returnType": "object"
        },
        "variable": {
          "datatype": "object",
          "name": "correctedFormat",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "0e1f2a44-cb28-4a95-aea7-a1a2d1ae3d92",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "selectedFactors"
          },
          "object": {
            "datatype": "object",
            "name": "correctedFormat",
            "scope": "local"
          },
          "value": {
            "datatype": "object",
            "name": "attFactors",
            "objectType": "AttributionTemplate",
            "scope": "field",
            "set-field": "attFactors",
            "target": "$self$"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "03d9c5bc-eada-4782-a696-dbe624b360f3",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "valid"
          },
          "object": {
            "datatype": "object",
            "name": "correctedFormat",
            "scope": "local"
          },
          "value": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "setvar",
        "id": "3d9126ea-917b-49a4-8508-a1e7d2a29cab",
        "type": "variable",
        "value": {
          "datatype": "object",
          "name": "correctedFormat",
          "scope": "local"
        },
        "variable": {
          "datatype": "object",
          "name": "attFactors",
          "objectType": "AttributionTemplate",
          "scope": "field",
          "set-field": "attFactors",
          "target": "$self$"
        }
      }
    ],
    "sasProvided": true
  },
  "loadOutputVars": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "9197235f-5de0-4872-bff6-3d8680ce4974",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "getOutputDataProperty",
          "library": "$interactions$",
          "params": {
            "input_propertyName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "columnInfo"
            }
          },
          "returnType": "\u003cIncoming\u003e"
        },
        "variable": {
          "datatype": "\u003cIncoming\u003e",
          "name": "columnInfo",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "8dbe3439-2838-4499-9280-b50c7f4f4dc9",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "isNullOrUndefined",
          "library": "CirrusLibGeneral",
          "params": {
            "value": {
              "name": "columnInfo",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isColumnInfoEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "dd15e8d9-a193-40de-973b-c8a6505d9c6a",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "not",
          "library": "CirrusLibBoolean",
          "params": {
            "bool": {
              "datatype": "boolean",
              "name": "isColumnInfoEmpty",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isColumnInfoNotEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "6e38e385-6e98-4daa-ae07-034525367d52",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "createNewObjectArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "object array"
        },
        "variable": {
          "datatype": "object array",
          "name": "selectorData",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "daceb6b5-e0a6-440b-804f-51cf22dd9f90",
        "includeElse": false,
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "isColumnInfoNotEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "12396b92-e710-40a7-8076-5788b5d638c6",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "filterObjects",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "\u003cIncoming\u003e array",
              "name": "columnInfo",
              "scope": "local"
            },
            "operator": {
              "datatype": "enum",
              "scope": "fixed",
              "value": "eq"
            },
            "propertyName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "attributable"
            },
            "referenceValue": {
              "datatype": "\u003cIncoming\u003e array",
              "scope": "fixed",
              "value": true
            }
          },
          "returnType": "\u003cIncoming\u003e array"
        },
        "variable": {
          "datatype": "\u003cIncoming\u003e array",
          "name": "columnInfo",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "583569bd-8034-495d-a785-e574fb9ef3ab",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "map",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "\u003cOutgoing\u003e array",
              "name": "columnInfo",
              "scope": "local"
            },
            "callback": {
              "function": "getLabelValueFromColumnInfo",
              "library": "$interactions$",
              "params": {
                "input_labelPropertyName": {
                  "datatype": "text",
                  "scope": "fixed",
                  "value": "label"
                },
                "input_value": {
                  "datatype": "\u003cOutgoing\u003e array",
                  "label": "Current value",
                  "name": "loop_currentValue",
                  "scope": "local"
                },
                "input_valuePropertyName": {
                  "datatype": "text",
                  "scope": "fixed",
                  "value": "name"
                }
              },
              "returnType": "object"
            }
          },
          "returnType": "\u003cOutgoing\u003e array"
        },
        "variable": {
          "datatype": "\u003cOutgoing\u003e array",
          "name": "selectorData",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "7fba121e-f828-480d-aebf-1aca3327ec63",
        "includeElse": false,
        "isCommented": false,
        "main": "daceb6b5-e0a6-440b-804f-51cf22dd9f90",
        "test": {
          "datatype": "boolean",
          "name": "isColumnInfoNotEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setprop",
        "function": "setDualSelectorData",
        "id": "d2e9fd67-d07f-44c8-8510-c52e7555155a",
        "isCommented": false,
        "params": {
          "dualSelectorData": {
            "datatype": "\u003cOutgoing\u003e array",
            "name": "selectorData",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "outputVars"
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "onAnyEvent": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "a80cbe8d-2293-4ae0-9b6d-c049ada59bdc",
        "type": "calculated",
        "value": {
          "function": "isDraftObject",
          "library": "CirrusLibCirrusObject",
          "params": {},
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "ede12986-e9ad-45dc-849b-9fba58c54ac6",
        "type": "calculated",
        "value": {
          "function": "getAllData",
          "library": "CirrusLibPageData",
          "params": {},
          "returnType": "All Data"
        },
        "variable": {
          "datatype": "All Data",
          "name": "pageData",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "626388ac-6d53-4ba6-8f2a-abcce2d2ea41",
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "createdFrom"
            },
            "object": {
              "datatype": "All Data",
              "name": "pageData",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "createFromKey",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "ec3f69c8-fb3c-43bc-8846-d9f6e38639b4",
        "type": "calculated",
        "value": {
          "function": "isNotEmpty",
          "library": "CirrusLibString",
          "params": {
            "string": {
              "datatype": "\u003cany\u003e",
              "name": "createFromKey",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isCreateFromKeyNotEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "3b592984-ac91-4616-b7fb-65aa03477da4",
        "type": "calculated",
        "value": {
          "function": "and",
          "library": "CirrusLibBoolean",
          "params": {
            "bool1": {
              "datatype": "boolean",
              "name": "isDraft",
              "scope": "local"
            },
            "bool2": {
              "datatype": "boolean",
              "name": "isCreateFromKeyNotEmpty",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isDraftAndCreateFrom",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "e7ab863a-15c2-4917-ab6d-1eadba1c69cf",
        "includeElse": true,
        "test": {
          "datatype": "boolean",
          "name": "isDraftAndCreateFrom",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "setTabDirty",
        "id": "6b96785d-424b-4171-b15e-05624e47c708",
        "library": "CirrusLibPageData",
        "params": {
          "isDirty": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        }
      },
      {
        "action": "setvar",
        "id": "f15bcc7a-172e-4360-96ad-3db893677080",
        "type": "fixed",
        "value": {
          "datatype": "boolean",
          "dataval": false
        },
        "variable": {
          "datatype": "boolean",
          "name": "isNotDirty",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "7688938c-839f-4c6b-8a2b-c345d574c20e",
        "includeElse": true,
        "iselse": true,
        "main": "e7ab863a-15c2-4917-ab6d-1eadba1c69cf",
        "test": {
          "datatype": "boolean",
          "name": "isDraftAndCreateFrom",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "17495baa-344b-4ea5-aef6-c98f350c628e",
        "type": "calculated",
        "value": {
          "function": "getDiffJSONPatch",
          "library": "CirrusLibPageData",
          "params": {},
          "returnType": "Patch array"
        },
        "variable": {
          "datatype": "Patch array",
          "name": "patch",
          "scope": "local"
        }
      },
      {
        "action": "addComment",
        "commentStep": "// Since Attribution template component updates the field we need to compare to the originally selected values",
        "id": "251468c9-897b-4a0e-a300-8f7c24a07750"
      },
      {
        "action": "setvar",
        "id": "aa53cdf7-5484-4ac1-9355-ee36793d8aad",
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "Patch array",
              "name": "patch",
              "scope": "local"
            },
            "index": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 0
            }
          },
          "returnType": "\u003cIncoming\u003e"
        },
        "variable": {
          "datatype": "\u003cIncoming\u003e",
          "name": "selectedFactors",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "c1c5aa0f-e9e0-4a52-9489-ccb5c6182d0a",
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "value"
            },
            "object": {
              "datatype": "\u003cIncoming\u003e",
              "name": "selectedFactors",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "selectedFactorsObj",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "fa2ceca4-bae7-4dcb-8d8a-8b128ca0c287",
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "selectedFactors"
            },
            "object": {
              "datatype": "\u003cany\u003e",
              "name": "selectedFactorsObj",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "selectedFactors",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "e9f20823-ec5c-4034-9446-f128a8f80797",
        "type": "calculated",
        "value": {
          "function": "isNullOrUndefined",
          "library": "CirrusLibGeneral",
          "params": {
            "value": {
              "datatype": "\u003cany\u003e",
              "name": "selectedFactors",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isSelectedFactorsUndefined",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "8ccd50cc-9e84-4f03-9a1e-b5deb19f4058",
        "test": {
          "datatype": "boolean",
          "name": "isSelectedFactorsUndefined",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "45aaf981-c97b-478d-ae70-2c6dc0b1242c",
        "type": "calculated",
        "value": {
          "function": "createNewObjectArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "object array"
        },
        "variable": {
          "datatype": "object array",
          "name": "selectedFactors",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "31f0fe2d-7cbe-482a-abae-93515a0d82f2",
        "main": "8ccd50cc-9e84-4f03-9a1e-b5deb19f4058",
        "test": {
          "datatype": "boolean",
          "name": "isSelectedFactorsUndefined",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "3f03bca1-7831-4f44-974a-30dbd66b8899",
        "type": "calculated",
        "value": {
          "function": "equals",
          "library": "CirrusLibObject",
          "params": {
            "object1": {
              "datatype": "object array",
              "name": "selectedFactors",
              "scope": "local"
            },
            "object2": {
              "name": "originalFactors",
              "scope": "global"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isDifferent",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "a1e153ba-a06c-4de5-838f-6438aab787c0",
        "test": {
          "datatype": "boolean",
          "name": "isDifferent",
          "scope": "local"
        }
      },
      {
        "action": "addComment",
        "commentStep": "//Since the attFactors field is transformed in the loadAttributionFactors we can assume that it will be the first point in the patch array",
        "id": "0440ceb9-7f8f-4761-b47b-6c0678b579fb"
      },
      {
        "action": "execfunc",
        "function": "remove",
        "id": "cd6f5ddc-f6cb-444f-b761-4b0cb1e9eb97",
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "Patch array",
            "name": "patch",
            "scope": "local"
          },
          "index": {
            "datatype": "numeric",
            "scope": "fixed",
            "value": 0
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "68735920-0a46-470e-86e5-38cf588a236d",
        "main": "a1e153ba-a06c-4de5-838f-6438aab787c0",
        "test": {
          "datatype": "boolean",
          "name": "isDifferent",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "f2252f39-be7c-437a-98cd-14dab57f790c",
        "type": "calculated",
        "value": {
          "function": "isObjectPageDirty",
          "library": "CirrusLibCirrusObject",
          "params": {
            "patch": {
              "datatype": "Patch array",
              "name": "patch",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isPageDirty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "a7e6d7f9-5329-40e6-894f-605b9b755fe8",
        "type": "calculated",
        "value": {
          "function": "not",
          "library": "CirrusLibBoolean",
          "params": {
            "bool": {
              "datatype": "boolean",
              "name": "isPageDirty",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isNotDirty",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "setTabDirty",
        "id": "6b65206d-bf4d-4490-b71f-6639c960c764",
        "library": "CirrusLibPageData",
        "params": {
          "isDirty": {
            "datatype": "boolean",
            "name": "isPageDirty",
            "scope": "local"
          }
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "bae02a59-50f8-4903-8932-63b3853d0642",
        "includeElse": true,
        "main": "e7ab863a-15c2-4917-ab6d-1eadba1c69cf",
        "test": {
          "datatype": "boolean",
          "name": "isDraftAndCreateFrom",
          "scope": "local"
        }
      },
      {
        "action": "setprop",
        "function": "setReadOnly",
        "id": "5e44819c-a29b-4fe8-9bae-848351059225",
        "params": {
          "readOnly": {
            "datatype": "boolean",
            "name": "isNotDirty",
            "scope": "local"
          }
        },
        "widgetId": "save"
      }
    ],
    "sasProvided": true
  },
  "onCopyLoad": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_key"
      }
    ],
    "logic": [
      {
        "action": "addComment",
        "commentStep": "Hide the classifications accordion unless it is enabled",
        "id": "7333b261-13f3-48e0-baba-302cc38da5c9"
      },
      {
        "action": "setprop",
        "function": "setHidden",
        "id": "b8181b27-8543-4647-903e-4ac27feb2341",
        "params": {
          "hidden": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        },
        "widgetId": "Accordion"
      },
      {
        "action": "setvar",
        "id": "e5b1d5ed-eab4-4995-9c2a-74704b3bb0ad",
        "type": "calculated",
        "value": {
          "function": "getAppConfigProperty",
          "library": "CirrusLibConfigProperties",
          "params": {
            "propertyName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "AttributionTemplates.classifications.enabled"
            }
          },
          "returnType": "\u003cOutgoing\u003e"
        },
        "variable": {
          "datatype": "\u003cOutgoing\u003e",
          "name": "enableClassifications",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "5de07b03-097b-423a-9bd9-ecdd2ad5072c",
        "type": "calculated",
        "value": {
          "function": "coalesce",
          "library": "CirrusLibGeneral",
          "params": {
            "arg1": {
              "datatype": "\u003cOutgoing\u003e",
              "name": "enableClassifications",
              "scope": "local"
            },
            "arg2": {
              "datatype": "boolean",
              "scope": "fixed",
              "value": false
            }
          },
          "returnType": "\u003cOutgoing\u003e"
        },
        "variable": {
          "datatype": "\u003cOutgoing\u003e",
          "name": "enableClassifications",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "57956ec6-9b69-4b97-b442-8845ad228e4f",
        "test": {
          "datatype": "boolean",
          "name": "enableClassifications",
          "scope": "local"
        }
      },
      {
        "action": "setprop",
        "function": "setHidden",
        "id": "234c4dc6-3d3b-435e-bc44-3bf849c6a01a",
        "params": {
          "hidden": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": false
          }
        },
        "widgetId": "Accordion"
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "e465bc68-b680-4a13-ab7d-a9d7a554826f",
        "main": "57956ec6-9b69-4b97-b442-8845ad228e4f",
        "test": {
          "datatype": "boolean",
          "name": "enableClassifications",
          "scope": "local"
        }
      },
      {
        "action": "addComment",
        "commentStep": "Continue with the rest of the interaction",
        "id": "8addfb40-9cee-43d9-bd99-2fd911067a52"
      },
      {
        "action": "setvar",
        "id": "64c8f81d-f17e-4251-83fb-a8c9ee958c94",
        "type": "fixed",
        "value": {
          "datatype": "boolean",
          "dataval": false
        },
        "variable": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "1f033a9e-90dd-4775-a481-974ee4cd7ae1",
        "type": "calculated",
        "value": {
          "function": "split",
          "library": "CirrusLibString",
          "params": {
            "separator": {
              "datatype": "text",
              "scope": "fixed",
              "value": ","
            },
            "string": {
              "datatype": "text",
              "scope": "fixed",
              "value": "statusCd"
            }
          },
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "fieldsToDrop",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "ddedf737-5db4-445b-a90d-2b814735b5ad",
        "type": "calculated",
        "value": {
          "function": "createNewStringArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "objectLinksToDrop",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "bd63b135-b9a4-4760-8d94-a0f968b55f1b",
        "type": "calculated",
        "value": {
          "function": "getLinkTypeKeyForId",
          "library": "CirrusLibCirrusObjectLinkInstance",
          "params": {
            "linkTypeId": {
              "datatype": "text",
              "scope": "fixed",
              "value": "analysisRun_param_attributionTemplates"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "analysisRunParamLinkType",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "69193ed1-669c-4b2a-95ff-41fe8e28d77f",
        "type": "calculated",
        "value": {
          "function": "getLinkTypeKeyForId",
          "library": "CirrusLibCirrusObjectLinkInstance",
          "params": {
            "linkTypeId": {
              "datatype": "text",
              "scope": "fixed",
              "value": "attributionTemplate_cycle"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "cycleLinkType",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "c48ed946-822d-4227-8780-fd103d614255",
        "type": "calculated",
        "value": {
          "function": "getLinkTypeKeyForId",
          "library": "CirrusLibCirrusObjectLinkInstance",
          "params": {
            "linkTypeId": {
              "datatype": "text",
              "scope": "fixed",
              "value": "attributionTemplate_analysisRun"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "analysisRunLinkType",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "push",
        "id": "358360b6-affa-4285-b9fc-69237a9f3bbb",
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "text array",
            "name": "objectLinksToDrop",
            "scope": "local"
          },
          "value": {
            "datatype": "text",
            "name": "analysisRunParamLinkType",
            "scope": "local"
          }
        },
        "returnType": "numeric"
      },
      {
        "action": "execfunc",
        "function": "push",
        "id": "555ab335-ef16-4ea4-87f0-a7965676a4be",
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "text array",
            "name": "objectLinksToDrop",
            "scope": "local"
          },
          "value": {
            "datatype": "text",
            "name": "cycleLinkType",
            "scope": "local"
          }
        },
        "returnType": "numeric"
      },
      {
        "action": "execfunc",
        "function": "push",
        "id": "7446f93d-4a8a-4b88-80d7-177254f80a26",
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "text array",
            "name": "objectLinksToDrop",
            "scope": "local"
          },
          "value": {
            "datatype": "text",
            "name": "analysisRunLinkType",
            "scope": "local"
          }
        },
        "returnType": "numeric"
      },
      {
        "action": "addComment",
        "commentStep": "Copy the object data",
        "id": "1ba851b1-0e9f-424a-bef3-8f32a641b6c3"
      },
      {
        "action": "setvar",
        "id": "c04160d4-e539-4d21-9ec7-2ce6c4991f20",
        "type": "calculated",
        "value": {
          "function": "setCopySuffix",
          "library": "$interactions$",
          "params": {
            "input_key": {
              "datatype": "text",
              "name": "input_key",
              "scope": "local"
            }
          }
        },
        "variable": {
          "datatype": "text",
          "name": "copySuffix",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "loadObjectCopyAsDraft",
        "id": "e3d0f6d9-5a00-4a75-bd51-d3fe707878f7",
        "library": "CirrusLibCirrusObject",
        "params": {
          "copyCustomFields": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          },
          "copyObjectLinks": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          },
          "copySuffix": {
            "datatype": "text",
            "name": "copySuffix",
            "scope": "local"
          },
          "fieldsToExclude": {
            "datatype": "text array",
            "name": "fieldsToDrop",
            "scope": "local"
          },
          "linkFieldsToExclude": {
            "datatype": "text array",
            "name": "objectLinksToDrop",
            "scope": "local"
          },
          "objectKey": {
            "datatype": "text",
            "name": "input_key",
            "scope": "local"
          }
        },
        "returnType": "All Data"
      },
      {
        "action": "execfunc",
        "function": "onDraftLoad",
        "id": "0c7f60e9-08ab-4ad4-b351-66125fb1622f",
        "library": "$interactions$",
        "params": {}
      }
    ],
    "sasProvided": true
  },
  "onDraftLoad": {
    "inputs": [
      {
        "datatype": "numeric",
        "name": "input_id"
      }
    ],
    "logic": [
      {
        "action": "addComment",
        "commentStep": "Hide the classifications accordion unless it is enabled",
        "id": "b745aa33-8cbd-4c7a-bc34-97e934ed4e5b"
      },
      {
        "action": "setprop",
        "function": "setHidden",
        "id": "374c40f1-1d41-43ab-bf48-5ebb7d80a491",
        "params": {
          "hidden": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        },
        "widgetId": "Accordion"
      },
      {
        "action": "setvar",
        "id": "08598930-9d0c-4faf-acba-a3493f510eb0",
        "type": "calculated",
        "value": {
          "function": "getAppConfigProperty",
          "library": "CirrusLibConfigProperties",
          "params": {
            "propertyName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "AttributionTemplates.classifications.enabled"
            }
          },
          "returnType": "\u003cOutgoing\u003e"
        },
        "variable": {
          "datatype": "\u003cOutgoing\u003e",
          "name": "enableClassifications",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "a9387a56-1018-40af-bcfc-22ee27edabaa",
        "type": "calculated",
        "value": {
          "function": "coalesce",
          "library": "CirrusLibGeneral",
          "params": {
            "arg1": {
              "datatype": "\u003cOutgoing\u003e",
              "name": "enableClassifications",
              "scope": "local"
            },
            "arg2": {
              "datatype": "boolean",
              "scope": "fixed",
              "value": false
            }
          },
          "returnType": "\u003cOutgoing\u003e"
        },
        "variable": {
          "datatype": "\u003cOutgoing\u003e",
          "name": "enableClassifications",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "042dd5f2-bf72-4b40-b047-065d3cccbfdf",
        "test": {
          "datatype": "boolean",
          "name": "enableClassifications",
          "scope": "local"
        }
      },
      {
        "action": "setprop",
        "function": "setHidden",
        "id": "858072e6-0fd8-4bcd-aeff-3b14304095fc",
        "params": {
          "hidden": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": false
          }
        },
        "widgetId": "Accordion"
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "dab0e875-6b29-42bb-ad44-f2e8172f9b82",
        "main": "042dd5f2-bf72-4b40-b047-065d3cccbfdf",
        "test": {
          "datatype": "boolean",
          "name": "enableClassifications",
          "scope": "local"
        }
      },
      {
        "action": "addComment",
        "commentStep": "Continue with the rest of the interaction",
        "id": "85ead511-102a-4628-8f5e-c27bb3507db4"
      },
      {
        "action": "setvar",
        "id": "6f5f5098-9a00-43eb-9a51-64bb5501d929",
        "type": "calculated",
        "value": {
          "function": "coalesce",
          "library": "CirrusLibGeneral",
          "params": {
            "arg1": {
              "datatype": "boolean",
              "name": "isDraft",
              "scope": "global"
            },
            "arg2": {
              "datatype": "boolean",
              "scope": "fixed",
              "value": true
            }
          },
          "returnType": "\u003cOutgoing\u003e"
        },
        "variable": {
          "datatype": "\u003cOutgoing\u003e",
          "name": "isDraft",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "463a533c-88a1-410e-bfbe-e7de17be3142",
        "type": "calculated",
        "value": {
          "function": "getAllData",
          "library": "CirrusLibPageData",
          "params": {},
          "returnType": "All Data"
        },
        "variable": {
          "datatype": "All Data",
          "name": "pageData",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "d44c654b-60fc-4386-836e-601431877292",
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "createdFrom"
            },
            "object": {
              "datatype": "All Data",
              "name": "pageData",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "createdFrom",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "3d9d64a9-33ca-45e6-99f6-b3c09b2fb4ce",
        "type": "calculated",
        "value": {
          "function": "isEmpty",
          "library": "CirrusLibString",
          "params": {
            "string": {
              "datatype": "\u003cany\u003e",
              "name": "createdFrom",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isCreatedFromEmpty",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "0d2a7cf5-1663-4455-8d68-4823f7cfc8cd",
        "test": {
          "datatype": "boolean",
          "name": "isCreatedFromEmpty",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "loadDraftObject",
        "id": "c9b3abed-7ff9-4898-bc6f-e6021bba7f01",
        "library": "CirrusLibCirrusObject",
        "params": {},
        "returnType": "All Data"
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "04423bf2-42c1-4f1f-a036-15bbf8d07c10",
        "main": "0d2a7cf5-1663-4455-8d68-4823f7cfc8cd",
        "test": {
          "datatype": "boolean",
          "name": "isCreatedFromEmpty",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "getOutputDataProperty",
        "id": "0c028e56-0254-4bba-96c5-3fb7fc503e9f",
        "library": "$interactions$",
        "params": {
          "input_ignoreCache": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        }
      },
      {
        "action": "execfunc",
        "function": "loadAttributionFactors",
        "id": "88d26b55-e5c0-41f9-ac2a-4ec7e27bda82",
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "onNameChange",
        "id": "21eb14ad-4dbe-45f5-ba7d-87564b383510",
        "library": "$interactions$",
        "params": {
          "input_value": {
            "datatype": "text",
            "name": "name",
            "objectType": "AttributionTemplate",
            "scope": "field",
            "set-field": "name",
            "target": "$self$"
          }
        }
      },
      {
        "action": "execfunc",
        "function": "setDefaultFieldValues",
        "id": "aa50f01e-1ef0-4fcd-bb3c-f0a8e5e83254",
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setRequiredFields",
        "id": "cdd257a8-a5ea-433c-9811-cb178671feef",
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setReadOnlyFields",
        "id": "346f5a3a-687f-417b-8532-c636aae6e5b7",
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setFilterInputData",
        "id": "9191dc76-a551-4576-9bbf-a66bfe407071",
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setFilterOutputData",
        "id": "794a3ad1-2d84-42ff-8eb7-741b8d7b0edc",
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "loadOutputVars",
        "id": "3866db67-e734-4921-80c2-ed4f64d0a63f",
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setScreenReadOnly",
        "id": "0cd8daf5-ce15-4a62-9c03-9f54bedbad21",
        "library": "$interactions$",
        "params": {}
      }
    ],
    "sasProvided": true
  },
  "onEditLoad": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_key"
      }
    ],
    "logic": [
      {
        "action": "addComment",
        "commentStep": "Hide the classifications accordion unless it is enabled",
        "id": "c2d8d5f2-bfe0-4804-b1dd-f806e8c1373d"
      },
      {
        "action": "setprop",
        "function": "setHidden",
        "id": "554841d5-d0d0-4cd4-afbf-2c435f2c4edc",
        "params": {
          "hidden": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        },
        "widgetId": "Accordion"
      },
      {
        "action": "setvar",
        "id": "5c803509-11f9-4f0d-a0d1-d47e666b8c01",
        "type": "calculated",
        "value": {
          "function": "getAppConfigProperty",
          "library": "CirrusLibConfigProperties",
          "params": {
            "propertyName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "AttributionTemplates.classifications.enabled"
            }
          },
          "returnType": "\u003cOutgoing\u003e"
        },
        "variable": {
          "datatype": "\u003cOutgoing\u003e",
          "name": "enableClassifications",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "431bb524-59d3-4a7b-9ed5-18f131e2a51a",
        "type": "calculated",
        "value": {
          "function": "coalesce",
          "library": "CirrusLibGeneral",
          "params": {
            "arg1": {
              "datatype": "\u003cOutgoing\u003e",
              "name": "enableClassifications",
              "scope": "local"
            },
            "arg2": {
              "datatype": "boolean",
              "scope": "fixed",
              "value": false
            }
          },
          "returnType": "\u003cOutgoing\u003e"
        },
        "variable": {
          "datatype": "\u003cOutgoing\u003e",
          "name": "enableClassifications",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "ba286436-2de5-420c-bac9-f91955073d31",
        "test": {
          "datatype": "boolean",
          "name": "enableClassifications",
          "scope": "local"
        }
      },
      {
        "action": "setprop",
        "function": "setHidden",
        "id": "17bc645d-0d98-480b-96d8-5aa65b626f22",
        "params": {
          "hidden": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": false
          }
        },
        "widgetId": "Accordion"
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "1f0c5a2c-7e56-4c51-9645-957932be073b",
        "main": "ba286436-2de5-420c-bac9-f91955073d31",
        "test": {
          "datatype": "boolean",
          "name": "enableClassifications",
          "scope": "local"
        }
      },
      {
        "action": "addComment",
        "commentStep": "Continue with the rest of the interaction",
        "id": "ea04e19f-b95e-4882-a22c-60c5b9fc60fa"
      },
      {
        "action": "setvar",
        "id": "e02c8d2b-5987-4344-a56c-f128e5b68f26",
        "type": "fixed",
        "value": {
          "datatype": "boolean",
          "dataval": false
        },
        "variable": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "c1aeaed5-d59b-4fad-9fd1-d943c6e318af",
        "type": "calculated",
        "value": {
          "function": "isObjectDeleted",
          "library": "CirrusLibCirrusObject",
          "params": {
            "objectKey": {
              "datatype": "text",
              "name": "input_key",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "objectIsDeleted",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "a446418c-8649-4d4f-9538-065eaa083ddd",
        "test": {
          "datatype": "boolean",
          "name": "objectIsDeleted",
          "scope": "local"
        }
      },
      {
        "action": "returnvar",
        "id": "4a02cacd-43b0-44b7-b0f9-349f6c47b133",
        "variable": {
          "datatype": "boolean",
          "name": "objectIsDeleted",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "bc6a7288-f8ce-4198-b644-92c72d5c6d09",
        "main": "a446418c-8649-4d4f-9538-065eaa083ddd",
        "test": {
          "datatype": "boolean",
          "name": "objectIsDeleted",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "loadExistingObject",
        "id": "bc5f90f0-0e3e-4b49-9da8-9e77c3df81ac",
        "library": "CirrusLibCirrusObject",
        "params": {
          "key": {
            "datatype": "text",
            "name": "input_key",
            "scope": "local"
          }
        },
        "returnType": "All Data"
      },
      {
        "action": "execfunc",
        "function": "getOutputDataProperty",
        "id": "3fb46a2f-d54c-451f-9f05-af90c5772581",
        "library": "$interactions$",
        "params": {
          "input_ignoreCache": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        }
      },
      {
        "action": "execfunc",
        "function": "loadAttributionFactors",
        "id": "6c6e46ec-d63e-4021-a7d5-29b0ab9e4d12",
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setRequiredFields",
        "id": "e169e1be-a1a6-429f-bc35-9c4e61f632b4",
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setReadOnlyFields",
        "id": "32ca6bbf-30d0-466f-a8b2-1f3965417cf3",
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "onNameChange",
        "id": "1e342de2-6183-4969-ade4-dea9071bbad5",
        "library": "$interactions$",
        "params": {
          "input_value": {
            "datatype": "text",
            "name": "name",
            "objectType": "AttributionTemplate",
            "scope": "field",
            "set-field": "name",
            "target": "$self$"
          }
        }
      },
      {
        "action": "execfunc",
        "function": "setFilterInputData",
        "id": "4905d577-a00e-4189-b800-682355e1e3ce",
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setFilterOutputData",
        "id": "339cdebd-cff5-4322-ae44-ea00a808e662",
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "loadOutputVars",
        "id": "85e6a1d9-b733-4427-825a-b9fdef795fc5",
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "execfunc",
        "function": "setScreenReadOnly",
        "id": "41557fef-5d1d-4493-8743-799706814008",
        "library": "$interactions$",
        "params": {}
      }
    ],
    "sasProvided": true
  },
  "onInputDataAdded": {
    "inputs": [
      {
        "datatype": "text array",
        "name": "input_addedNow"
      },
      {
        "datatype": "text array",
        "name": "input_addedEarlier"
      },
      {
        "datatype": "text array",
        "name": "input_removed"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "2456e0a5-6994-452d-8d3d-4246ab6c32ab",
        "type": "calculated",
        "value": {
          "function": "getLinkedObjectKeysFromField",
          "library": "CirrusLibCirrusObjectLinkInstance",
          "params": {
            "fieldName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "core_DataDefinition_input"
            }
          },
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "linkedInputDataKeys",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "a029ee42-d70e-4991-8e4e-a4520ebbc1b8",
        "type": "calculated",
        "value": {
          "function": "hasAnyItems",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "linkedInputDataKeys",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isInputDataKeysNotEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "93f43439-8ff5-46f2-bba5-1f1397dbbff6",
        "type": "calculated",
        "value": {
          "function": "createNewObjectArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "object array"
        },
        "variable": {
          "datatype": "object array",
          "name": "availablePortfolioFactors",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "426731e3-8386-4936-a175-f562cc923ffe",
        "test": {
          "datatype": "boolean",
          "name": "isInputDataKeysNotEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "ba5e0032-cc3c-4e22-b98c-8ad2a1a655e5",
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": "attributionTemplate_dataDefinition_input"
        },
        "variable": {
          "datatype": "text",
          "name": "linkTypeId",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "269f1d43-09a7-42ed-96bd-73d7426c96e3",
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": "RCC"
        },
        "variable": {
          "datatype": "text",
          "name": "linkTypeSSC",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "e2f22ef3-1507-469a-a831-ad8ed4a01cff",
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": "AttributionTemplate"
        },
        "variable": {
          "datatype": "text",
          "name": "linkedToSchemaName",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "9cb9fa78-3a10-4207-b0bd-59cca549f7ce",
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": "DataDefinition"
        },
        "variable": {
          "datatype": "text",
          "name": "schemaName",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "1ee41b22-fe69-4ac1-a46f-74406843851c",
        "type": "calculated",
        "value": {
          "function": "getCurrentObjectKey",
          "library": "CirrusLibPageData",
          "params": {},
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "currentObjectKey",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "aaf2579f-080d-4705-8c15-de37d59865bc",
        "type": "calculated",
        "value": {
          "function": "loadLinkInstances",
          "library": "CirrusLibCirrusObjectLinkInstance",
          "params": {
            "added": {
              "datatype": "text array",
              "name": "linkedInputDataKeys",
              "scope": "local"
            },
            "linkTypeId": {
              "datatype": "text",
              "name": "linkTypeId",
              "scope": "local"
            },
            "linkTypeSSC": {
              "datatype": "text",
              "name": "linkTypeSSC",
              "scope": "local"
            },
            "linkedToKey": {
              "datatype": "text",
              "name": "currentObjectKey",
              "scope": "local"
            },
            "linkedToSchemaName": {
              "datatype": "text",
              "name": "linkedToSchemaName",
              "scope": "local"
            },
            "schemaName": {
              "datatype": "text",
              "name": "schemaName",
              "scope": "local"
            },
            "side": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 1
            }
          },
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "linkedInputDataInstances",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "9a47cb81-31f8-478b-8a67-4f909179f001",
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "linkedInputDataInstances",
              "scope": "local"
            },
            "index": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 0
            }
          },
          "returnType": "\u003cIncoming\u003e"
        },
        "variable": {
          "datatype": "\u003cIncoming\u003e",
          "name": "extractObj",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "c6cda89d-438e-4df6-a22f-602ee7da959d",
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "columnInfo"
            },
            "object": {
              "datatype": "\u003cIncoming\u003e",
              "name": "extractObj",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "columnInfo",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "3e73c56f-e022-4c82-99af-a9a352bd8ecf",
        "type": "calculated",
        "value": {
          "function": "filterObjects",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "\u003cany\u003e",
              "name": "columnInfo",
              "scope": "local"
            },
            "operator": {
              "datatype": "text",
              "scope": "fixed",
              "value": "eq"
            },
            "propertyName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "attributable"
            },
            "referenceValue": {
              "datatype": "boolean",
              "scope": "fixed",
              "value": true
            }
          },
          "returnType": "\u003cIncoming\u003e array"
        },
        "variable": {
          "datatype": "\u003cIncoming\u003e array",
          "name": "extractAttributableRows",
          "scope": "local"
        }
      },
      {
        "action": "addComment",
        "commentStep": "Change the structure of the objects to match existing factor data",
        "id": "a961f3ba-0398-44ea-a459-0d42b9ac7daa"
      },
      {
        "action": "execfunc",
        "function": "map",
        "id": "e3142e5a-f8a8-48e3-ad57-6998c5d83c70",
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "\u003cIncoming\u003e array",
            "name": "extractAttributableRows",
            "scope": "local"
          },
          "callback": {
            "function": "refactorPortfolioFactorObject",
            "library": "$interactions$",
            "params": {
              "input_inputObj": {
                "datatype": "\u003cIncoming\u003e",
                "name": "loop_currentValue",
                "scope": "local"
              }
            }
          }
        },
        "returnType": "\u003cOutgoing\u003e array"
      },
      {
        "action": "setvar",
        "id": "45c2f845-3859-49b7-88a9-f5389601df6b",
        "type": "variable",
        "value": {
          "datatype": "\u003cIncoming\u003e array",
          "name": "extractAttributableRows",
          "scope": "local"
        },
        "variable": {
          "datatype": "\u003cIncoming\u003e array",
          "name": "availablePortfolioFactors",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "d9fb1c7c-1a2e-42b6-8ad5-7e1e46293f6f",
        "main": "426731e3-8386-4936-a175-f562cc923ffe",
        "test": {
          "datatype": "boolean",
          "name": "isInputDataKeysNotEmpty",
          "scope": "local"
        }
      },
      {
        "action": "addComment",
        "commentStep": "For production attribution templates, we should display already-selected portfolio factors even if the selected variable(s) are no longer marked as attributable",
        "id": "3dece75e-d6a1-492d-915a-147b43fbbccb"
      },
      {
        "action": "setvar",
        "id": "d2999181-0cfb-4f8f-ae93-bb6e804cf523",
        "type": "calculated",
        "value": {
          "function": "strEquals",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "name": "statusCd",
              "objectType": "AttributionTemplate",
              "scope": "field",
              "set-field": "statusCd",
              "target": "$self$"
            },
            "string2": {
              "datatype": "text",
              "scope": "fixed",
              "value": "PROD"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isProduction",
          "scope": "global"
        }
      },
      {
        "action": "ifelse",
        "id": "f09ccd29-0db2-45ce-b67a-10749f0809eb",
        "test": {
          "datatype": "boolean",
          "name": "isProduction",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "cccf6ac4-ad6d-44dd-83f5-06615f98de29",
        "type": "calculated",
        "value": {
          "function": "filterObjects",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "object",
              "name": "attFactors",
              "objectType": "AttributionTemplate",
              "scope": "field",
              "set-field": "attFactors",
              "target": "$self$"
            },
            "operator": {
              "datatype": "text",
              "scope": "fixed",
              "value": "eq"
            },
            "propertyName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "type"
            },
            "referenceValue": {
              "datatype": "text",
              "scope": "fixed",
              "value": "PortfolioAttribute"
            }
          },
          "returnType": "\u003cIncoming\u003e array"
        },
        "variable": {
          "datatype": "\u003cIncoming\u003e array",
          "name": "alreadySelectedPortfolioFactors",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "27a9fee1-4d8a-4066-8ae1-5a1389253823",
        "type": "calculated",
        "value": {
          "function": "getUnionWithoutDuplicatesOfObjectsArray",
          "library": "CirrusLibArray",
          "params": {
            "array1": {
              "datatype": "\u003cIncoming\u003e array",
              "name": "availablePortfolioFactors",
              "scope": "local"
            },
            "array2": {
              "datatype": "\u003cIncoming\u003e array",
              "name": "alreadySelectedPortfolioFactors",
              "scope": "local"
            },
            "propertyName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "key"
            }
          },
          "returnType": "\u003cIncoming\u003e array"
        },
        "variable": {
          "datatype": "\u003cIncoming\u003e array",
          "name": "availablePortfolioFactors",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "cdb564fb-6f47-474a-82e5-4c4029bb6668",
        "main": "f09ccd29-0db2-45ce-b67a-10749f0809eb",
        "test": {
          "datatype": "boolean",
          "name": "isProduction",
          "scope": "global"
        }
      },
      {
        "action": "addComment",
        "commentStep": "Set the list of available portfolio factors",
        "id": "61a9be2a-500f-490f-a752-7e238031a3b3"
      },
      {
        "action": "setprop",
        "function": "setPortfolioFactors",
        "id": "a988abac-43b5-4a43-a779-eff5ccdfac6d",
        "params": {
          "portfolioFactors": {
            "datatype": "\u003cIncoming\u003e array",
            "name": "availablePortfolioFactors",
            "scope": "local"
          }
        },
        "widgetId": "attFactors"
      }
    ],
    "sasProvided": true
  },
  "onInputDataRemoved": {
    "inputs": [
      {
        "datatype": "text array",
        "name": "input_added"
      },
      {
        "datatype": "text array",
        "name": "input_removedNow"
      },
      {
        "datatype": "text array",
        "name": "input_removedEarlier"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "98941127-b88a-4390-93f0-eae987549940",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "createNewObjectArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "object array"
        },
        "variable": {
          "datatype": "object array",
          "name": "emptyArray",
          "scope": "local"
        }
      },
      {
        "action": "setprop",
        "function": "setPortfolioFactors",
        "id": "518bb8bc-8831-4fc4-b52e-a39a1d5238b5",
        "isCommented": false,
        "params": {
          "portfolioFactors": {
            "datatype": "object array",
            "name": "emptyArray",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "attFactors"
      }
    ],
    "sasProvided": true
  },
  "onNameChange": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_value"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "0323917f-e197-4694-958f-bdd32df628d9",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "isNotEmpty",
          "library": "CirrusLibString",
          "params": {
            "string": {
              "datatype": "text",
              "name": "input_value",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isValueNotEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "02a03a9c-404d-4bc8-9a8d-0ab168823a97",
        "type": "calculated",
        "value": {
          "function": "getLocalisedObjectType",
          "library": "$interactions$",
          "params": {},
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "objectType",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "242e3c4c-38f0-488f-ab3a-0e878cb37598",
        "type": "calculated",
        "value": {
          "function": "concat",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "name": "objectType",
              "scope": "local"
            },
            "string2": {
              "datatype": "text",
              "scope": "fixed",
              "value": ": "
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "name_str",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "7edb0eab-2f82-48bf-b722-283144b5cbd8",
        "type": "variable",
        "value": {
          "datatype": "text",
          "name": "name_str",
          "scope": "local"
        },
        "variable": {
          "datatype": "text",
          "name": "name_readonly",
          "scope": "data",
          "target": "$self$"
        }
      },
      {
        "action": "ifelse",
        "id": "16d28640-5070-4423-bcbc-e396c7a010ca",
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "isValueNotEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "290451da-c209-47d0-9e5c-44387a163717",
        "type": "calculated",
        "value": {
          "function": "concat",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "name": "name_str",
              "scope": "local"
            },
            "string2": {
              "datatype": "text",
              "name": "input_value",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "name_readonly",
          "scope": "data",
          "target": "$self$"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "4351ea1f-e117-41a7-ae92-f54af8a9449e",
        "isCommented": false,
        "main": "16d28640-5070-4423-bcbc-e396c7a010ca",
        "test": {
          "datatype": "boolean",
          "name": "isValueNotEmpty",
          "scope": "local"
        }
      }
    ],
    "sasProvided": true
  },
  "onOutputDataDefinitionAdded": {
    "inputs": [
      {
        "datatype": "text array",
        "name": "input_addedNow"
      },
      {
        "datatype": "text array",
        "name": "input_addedEarlier"
      },
      {
        "datatype": "text array",
        "name": "input_removed"
      }
    ],
    "logic": [
      {
        "action": "execfunc",
        "function": "getOutputDataProperty",
        "id": "62942ccd-1812-41f6-a722-9a13c3129ae2",
        "isCommented": false,
        "library": "$interactions$",
        "params": {
          "input_ignoreCache": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "execfunc",
        "function": "loadOutputVars",
        "id": "84785578-b0cd-4f00-b8aa-ca964416613c",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      }
    ],
    "sasProvided": true
  },
  "onOutputDataDefintionRemoved": {
    "inputs": [
      {
        "datatype": "text array",
        "name": "input_added"
      },
      {
        "datatype": "text array",
        "name": "input_removedNow"
      },
      {
        "datatype": "text array",
        "name": "input_removedEarlier"
      }
    ],
    "logic": [
      {
        "action": "execfunc",
        "function": "getOutputDataProperty",
        "id": "bd7bded1-eb36-4554-9f81-1fe602558a7e",
        "isCommented": false,
        "library": "$interactions$",
        "params": {
          "input_ignoreCache": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "execfunc",
        "function": "loadOutputVars",
        "id": "3cf9d052-2c9e-4dca-b73a-fdb7d40f3620",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "setvar",
        "id": "146609b3-541f-43cd-98a3-4ee5b73837d6",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "setNull",
          "library": "CirrusLibGeneral",
          "params": {},
          "returnType": "\u003cIncoming\u003e"
        },
        "variable": {
          "datatype": "\u003cIncoming\u003e",
          "name": "outputVars",
          "objectType": "AttributionTemplate",
          "scope": "field",
          "set-field": "outputVars",
          "target": "$self$"
        }
      }
    ],
    "sasProvided": true
  },
  "onRiskScenarioAdded": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "717e339e-9b82-4117-a2de-e8d60fdc0bac",
        "type": "calculated",
        "value": {
          "function": "getLinkedObjectKeysFromField",
          "library": "CirrusLibCirrusObjectLinkInstance",
          "params": {
            "fieldName": {
              "datatype": "text",
              "scope": "fixed",
              "value": " riskScenarioSet"
            }
          },
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "linkedInputDataKeys",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "2c8885e7-274c-4397-a8a9-d23a00fc18ae",
        "type": "calculated",
        "value": {
          "function": "isNullOrUndefined",
          "library": "CirrusLibGeneral",
          "params": {
            "value": {
              "datatype": "object",
              "name": "riskScenarioSet",
              "objectType": "AttributionTemplate",
              "scope": "field",
              "set-field": "riskScenarioSet",
              "target": "$self$"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isRiskScenarioUndefined",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "309aac6e-12c1-4958-b842-8064ec655269",
        "type": "calculated",
        "value": {
          "function": "not",
          "library": "CirrusLibBoolean",
          "params": {
            "bool": {
              "datatype": "boolean",
              "name": "isRiskScenarioUndefined",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isRiskScenarioSelected",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "049ffcc5-c98d-4227-bc04-1847d51279c1",
        "isCommented": true,
        "type": "calculated",
        "value": {
          "function": "createNewStringArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "EmptyArr",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "fb33761c-3579-4d19-bbcf-147e8dbd818f",
        "type": "calculated",
        "value": {
          "function": "createNewObjectArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "object array"
        },
        "variable": {
          "datatype": "object array",
          "name": "availableRiskFactors",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "892362a4-a0e2-481b-b570-9f929e9680f5",
        "test": {
          "datatype": "boolean",
          "name": "isRiskScenarioSelected",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "cf53f40f-a283-4b35-b51d-88960477583c",
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "id"
            },
            "object": {
              "datatype": "object",
              "name": "riskScenarioSet",
              "objectType": "AttributionTemplate",
              "scope": "field",
              "set-field": "riskScenarioSet",
              "target": "$self$"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "riskScenarioId",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "b02452a0-f26a-46c4-ab62-eddbc1c0624e",
        "type": "calculated",
        "value": {
          "function": "createNewStringArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "ScenariosArr",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "push",
        "id": "dff23695-02a9-425c-bc7b-d2abaf7cdbec",
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "text array",
            "name": "ScenariosArr",
            "scope": "local"
          },
          "value": {
            "datatype": "\u003cany\u003e",
            "name": "riskScenarioId",
            "scope": "local"
          }
        },
        "returnType": "numeric"
      },
      {
        "action": "setvar",
        "id": "df65b034-406e-4666-987f-31fd10809d18",
        "type": "calculated",
        "value": {
          "function": "getScenariosFromScenarioSets",
          "library": "CirrusLibRiskScenarios",
          "params": {
            "scenarioSetIds": {
              "datatype": "text array",
              "name": "ScenariosArr",
              "scope": "local"
            }
          },
          "returnType": "object array"
        },
        "variable": {
          "datatype": "object array",
          "name": "scenarios",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "6629d6ca-95cc-4f51-8b2e-b19a8d10a0b5",
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "object array",
              "name": "scenarios",
              "scope": "local"
            },
            "index": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 0
            }
          },
          "returnType": "\u003cIncoming\u003e"
        },
        "variable": {
          "datatype": "\u003cIncoming\u003e",
          "name": "firstScenarioId",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "e297d75d-3295-4a81-838f-aea6c7285a15",
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "scenarioId"
            },
            "object": {
              "datatype": "\u003cIncoming\u003e",
              "name": "firstScenarioId",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "firstScenarioId",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "2bec96bc-3985-4f88-8de5-4f8f9c4be12f",
        "type": "calculated",
        "value": {
          "function": "toString",
          "library": "CirrusLibString",
          "params": {
            "value": {
              "datatype": "\u003cany\u003e",
              "name": "firstScenarioId",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "firstScenarioId",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "0e209b8d-edd5-4084-b3c3-76954ba981e2",
        "type": "calculated",
        "value": {
          "function": "replace",
          "library": "CirrusLibString",
          "params": {
            "mainString": {
              "datatype": "text",
              "scope": "fixed",
              "value": "/riskScenarios/scenarios/\u003c\u003cscenario_id\u003e\u003e "
            },
            "replacement": {
              "datatype": "text",
              "name": "firstScenarioId",
              "scope": "local"
            },
            "target": {
              "datatype": "text",
              "scope": "fixed",
              "value": "\u003c\u003cscenario_id\u003e\u003e "
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "scenarioDataReq",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "01308b55-7d6a-4941-9144-31174a15e983",
        "type": "calculated",
        "value": {
          "function": "createEmptyObject",
          "library": "CirrusLibObject",
          "params": {},
          "returnType": "object"
        },
        "variable": {
          "datatype": "object",
          "name": "headers",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "1f194a01-f49b-41af-b798-eade5b1ac03e",
        "type": "calculated",
        "value": {
          "function": "createEmptyObject",
          "library": "CirrusLibObject",
          "params": {},
          "returnType": "object"
        },
        "variable": {
          "datatype": "object",
          "name": "config",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "ba39a7ae-efe0-44f4-8de7-848573621bb1",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "Accept"
          },
          "object": {
            "datatype": "object",
            "name": "config",
            "scope": "local"
          },
          "value": {
            "datatype": "text",
            "scope": "fixed",
            "value": "application/vnd.sas.risk.scenario+json, */*; q=0.01"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "f2f01427-7edf-4e91-a79c-40cfeb164540",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "headers"
          },
          "object": {
            "datatype": "object",
            "name": "headers",
            "scope": "local"
          },
          "value": {
            "datatype": "object",
            "name": "config",
            "scope": "local"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "setvar",
        "id": "9a424809-bda0-4cb5-863d-bc9adee0f86d",
        "type": "calculated",
        "value": {
          "function": "getRestRequest",
          "library": "CirrusLibRestAPI",
          "params": {
            "config": {
              "datatype": "object",
              "name": "headers",
              "scope": "local"
            },
            "url": {
              "datatype": "text",
              "name": "scenarioDataReq",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "data",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "f6a1c39d-689f-4ddf-961a-8af8bfc540ae",
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "stresses"
            },
            "object": {
              "datatype": "\u003cany\u003e",
              "name": "data",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "stresses",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "map",
        "id": "09b6de15-f2df-4b26-b60d-e304e31a3d59",
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "\u003cany\u003e",
            "name": "stresses",
            "scope": "local"
          },
          "callback": {
            "function": "refactorRiskScenarioFactorObject",
            "library": "$interactions$",
            "params": {
              "input_inputObj": {
                "datatype": "\u003cIncoming\u003e",
                "name": "loop_currentValue",
                "scope": "local"
              }
            }
          }
        },
        "returnType": "\u003cOutgoing\u003e array"
      },
      {
        "action": "setvar",
        "id": "29f47124-0e98-4af1-b052-a81a5197936b",
        "type": "variable",
        "value": {
          "datatype": "\u003cany\u003e",
          "name": "stresses",
          "scope": "local"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "availableRiskFactors",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "2c01214f-5c6c-4f0a-98d0-b54a060e3fe5",
        "main": "892362a4-a0e2-481b-b570-9f929e9680f5",
        "test": {
          "datatype": "boolean",
          "name": "isRiskScenarioSelected",
          "scope": "local"
        }
      },
      {
        "action": "addComment",
        "commentStep": "For production attribution templates, we should display already-selected portfolio factors even if the selected variable(s) are no longer marked as attributable",
        "id": "f5cdddd6-dc2a-4632-933f-64b3f996972f"
      },
      {
        "action": "setvar",
        "id": "c3806f25-54ad-400a-9a80-7bb2919418f7",
        "type": "calculated",
        "value": {
          "function": "strEquals",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "name": "statusCd",
              "objectType": "AttributionTemplate",
              "scope": "field",
              "set-field": "statusCd",
              "target": "$self$"
            },
            "string2": {
              "datatype": "text",
              "scope": "fixed",
              "value": "PROD"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isProduction",
          "scope": "global"
        }
      },
      {
        "action": "ifelse",
        "id": "b1833771-2e4f-4399-ab18-bb98dfb6febc",
        "test": {
          "datatype": "boolean",
          "name": "isProduction",
          "scope": "global"
        }
      },
      {
        "action": "setvar",
        "id": "98139f0f-14f7-44b9-b350-8af5ddea970e",
        "type": "calculated",
        "value": {
          "function": "filterObjects",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "object",
              "name": "attFactors",
              "objectType": "AttributionTemplate",
              "scope": "field",
              "set-field": "attFactors",
              "target": "$self$"
            },
            "operator": {
              "datatype": "text",
              "scope": "fixed",
              "value": "eq"
            },
            "propertyName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "type"
            },
            "referenceValue": {
              "datatype": "text",
              "scope": "fixed",
              "value": "ScenarioRiskFactor"
            }
          },
          "returnType": "\u003cIncoming\u003e array"
        },
        "variable": {
          "datatype": "\u003cIncoming\u003e array",
          "name": "alreadySelectedScenarioRiskFactor",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "452c65fc-52fa-4f0e-97ea-de4276f7ba6d",
        "type": "calculated",
        "value": {
          "function": "getUnionWithoutDuplicatesOfObjectsArray",
          "library": "CirrusLibArray",
          "params": {
            "array1": {
              "datatype": "\u003cany\u003e",
              "name": "availableRiskFactors",
              "scope": "local"
            },
            "array2": {
              "datatype": "\u003cIncoming\u003e array",
              "name": "alreadySelectedScenarioRiskFactor",
              "scope": "local"
            },
            "propertyName": {
              "datatype": "text",
              "scope": "fixed",
              "value": "key"
            }
          },
          "returnType": "\u003cIncoming\u003e array"
        },
        "variable": {
          "datatype": "\u003cIncoming\u003e array",
          "name": "availableRiskFactors",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "4de47c12-af77-4ef4-9a78-07d953d870a0",
        "main": "b1833771-2e4f-4399-ab18-bb98dfb6febc",
        "test": {
          "datatype": "boolean",
          "name": "isProduction",
          "scope": "global"
        }
      },
      {
        "action": "addComment",
        "commentStep": "Set the list of available scenario risk factors",
        "id": "545d5755-18b0-4b53-b3b3-8f19207719e2"
      },
      {
        "action": "setprop",
        "function": "setScenarioFactors",
        "id": "c8dc3dae-52bc-4e03-bc09-f4f3cfb18cbb",
        "params": {
          "scenarioFactors": {
            "datatype": "\u003cIncoming\u003e array",
            "name": "availableRiskFactors",
            "scope": "local"
          }
        },
        "widgetId": "attFactors"
      }
    ],
    "sasProvided": true
  },
  "onSave": {
    "inputs": [],
    "logic": [
      {
        "action": "execfunc",
        "function": "clearPopups",
        "id": "cc022057-1ac4-46ca-a891-55199d5563b4",
        "library": "CirrusLibPage",
        "params": {}
      },
      {
        "action": "setvar",
        "id": "0eba29b3-25d6-47fc-a95c-cb7cfa460cef",
        "type": "calculated",
        "value": {
          "function": "getAllData",
          "library": "CirrusLibPageData",
          "params": {},
          "returnType": "All Data"
        },
        "variable": {
          "datatype": "All Data",
          "name": "data",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "7bd6c6c2-653d-487e-bd68-c42020a8e2cd",
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": "AttributionTemplate"
        },
        "variable": {
          "datatype": "text",
          "name": "objectType",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "894da31a-1ea0-4815-abca-95dff2f94b47",
        "type": "calculated",
        "value": {
          "function": "isDraftObject",
          "library": "CirrusLibCirrusObject",
          "params": {},
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "local"
        }
      },
      {
        "action": "addComment",
        "commentStep": "Changes the format of attFactor to a jsonArray holding only the selected factors",
        "id": "6371df90-9684-4c58-9193-12934c65dca7",
        "isCommented": false
      },
      {
        "action": "setvar",
        "id": "3fedcf4d-0a72-4e04-b009-5007f7a39d05",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "attFactors"
            },
            "object": {
              "datatype": "All Data",
              "name": "data",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "attFactorData",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "43a9e206-b65c-44df-ae7a-9cd743fa0c8d",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "selectedFactors"
            },
            "object": {
              "datatype": "\u003cany\u003e",
              "name": "attFactorData",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "attFactors",
          "objectType": "AttributionTemplate",
          "scope": "field",
          "set-field": "attFactors",
          "target": "$self$"
        }
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "f45edd32-a81f-4bb1-bb89-b323d1e336bb",
        "isCommented": false,
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "attFactors"
          },
          "object": {
            "datatype": "All Data",
            "name": "data",
            "scope": "local"
          },
          "value": {
            "name": "attFactors",
            "objectType": "AttributionTemplate",
            "scope": "field",
            "set-field": "attFactors",
            "target": "$self$"
          }
        },
        "returnType": "All Data"
      },
      {
        "action": "ifelse",
        "id": "f4c9f227-1ad8-46c6-9cf9-92941470380a",
        "includeElse": true,
        "test": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "5fe3c30e-3fb9-49e1-94d6-02129c0a1e37",
        "includeElse": true,
        "iselse": true,
        "main": "f4c9f227-1ad8-46c6-9cf9-92941470380a",
        "test": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "a248b21e-99eb-42e0-80e5-113e7802cdba",
        "type": "calculated",
        "value": {
          "function": "getCurrentObjectKey",
          "library": "CirrusLibPageData",
          "params": {},
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "instanceKey",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "45644cf9-48f8-490d-b3e9-5df575c2546f",
        "type": "calculated",
        "value": {
          "function": "isObjectDeleted",
          "library": "CirrusLibCirrusObject",
          "params": {
            "objectKey": {
              "datatype": "text",
              "name": "instanceKey",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isObjectDeleted",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "efea90fa-8457-4992-ab0b-7bc5914b6cfa",
        "test": {
          "datatype": "boolean",
          "name": "isObjectDeleted",
          "scope": "local"
        }
      },
      {
        "action": "returnvar",
        "id": "61ae7451-7bc7-4b11-b6af-5b87c1e808dd",
        "variable": {
          "datatype": "boolean",
          "name": "isObjectDeleted",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "07d9b3aa-c649-4cad-b359-102867b98909",
        "main": "efea90fa-8457-4992-ab0b-7bc5914b6cfa",
        "test": {
          "datatype": "boolean",
          "name": "isObjectDeleted",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "d5ae4de4-66e7-4d34-ac73-1ef9fdf700a3",
        "includeElse": true,
        "main": "f4c9f227-1ad8-46c6-9cf9-92941470380a",
        "test": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "showLoadingOverlay",
        "id": "d31e0908-f8da-4dd9-b9b1-e7db889b38d2",
        "library": "CirrusLibPage",
        "params": {}
      },
      {
        "action": "setvar",
        "id": "f5c97789-567e-4405-92a7-ec8a534e5471",
        "type": "calculated",
        "value": {
          "function": "validatePage",
          "library": "$interactions$",
          "params": {}
        },
        "variable": {
          "datatype": "boolean",
          "name": "isPageValid",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "78059a24-238a-4734-b1e0-169f7f189b36",
        "includeElse": true,
        "test": {
          "datatype": "boolean",
          "name": "isPageValid",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "8b4bd569-2e47-4f81-9ebd-cce23a62fdc5",
        "includeElse": true,
        "test": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "0fb39924-bf0e-4fd8-9cea-426009807271",
        "type": "calculated",
        "value": {
          "function": "saveDraft",
          "library": "CirrusLibCirrusObject",
          "params": {
            "data": {
              "datatype": "All Data",
              "name": "data",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "newKey",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "f6d836c8-c1c7-4d73-afa1-b2ccd8150783",
        "type": "calculated",
        "value": {
          "function": "toString",
          "library": "CirrusLibString",
          "params": {
            "value": {
              "datatype": "text",
              "name": "newKey",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "newKeyString",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "3c7377eb-3923-4cec-9b76-f04d70d88c75",
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": "false"
        },
        "variable": {
          "datatype": "text",
          "name": "falseString",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "c6a5bc32-ce25-4a28-ac5f-c53bab0757b1",
        "type": "calculated",
        "value": {
          "function": "strEquals",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "name": "newKeyString",
              "scope": "local"
            },
            "string2": {
              "datatype": "text",
              "name": "falseString",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isKeyFalse",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "b5d441e1-a263-489e-b42d-a6d35f6e7dd6",
        "includeElse": true,
        "test": {
          "datatype": "boolean",
          "name": "isKeyFalse",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "499586b0-841d-42dd-b6e4-aa9464312edd",
        "includeElse": true,
        "iselse": true,
        "main": "b5d441e1-a263-489e-b42d-a6d35f6e7dd6",
        "test": {
          "datatype": "boolean",
          "name": "isKeyFalse",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "31e19404-80c2-4ff1-9e64-4d2413762b92",
        "type": "calculated",
        "value": {
          "function": "getEditLocation",
          "library": "CirrusLibNav",
          "params": {
            "key": {
              "datatype": "text",
              "name": "newKey",
              "scope": "local"
            },
            "objectType": {
              "datatype": "text",
              "name": "objectType",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "newLocation",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "045746af-e1d1-4da8-bd46-34acc301e3d8",
        "type": "fixed",
        "value": {
          "datatype": "boolean",
          "dataval": true
        },
        "variable": {
          "datatype": "boolean",
          "name": "replaceInBrowser",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "navigate",
        "id": "a3837e53-af46-4119-9abb-580474ce89e2",
        "library": "CirrusLibNav",
        "params": {
          "location": {
            "datatype": "text",
            "name": "newLocation",
            "scope": "local"
          },
          "replace": {
            "datatype": "boolean",
            "name": "replaceInBrowser",
            "scope": "local"
          }
        },
        "returnType": "text"
      },
      {
        "action": "execfunc",
        "function": "showSuccess",
        "id": "75b2e617-f621-4ec5-953b-ef5af639c3cf",
        "library": "CirrusLibPage",
        "params": {}
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "b9c2cbec-5937-41c7-8a1c-969a7a10153f",
        "includeElse": true,
        "main": "b5d441e1-a263-489e-b42d-a6d35f6e7dd6",
        "test": {
          "datatype": "boolean",
          "name": "isKeyFalse",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "6e9928a4-8c02-455d-993f-4de7c1b7b467",
        "includeElse": true,
        "iselse": true,
        "main": "8b4bd569-2e47-4f81-9ebd-cce23a62fdc5",
        "test": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "22543de6-5389-4e5f-b53e-5ea47bdd69c5",
        "type": "calculated",
        "value": {
          "function": "getCurrentObjectKey",
          "library": "CirrusLibPageData",
          "params": {},
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "instanceKey",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "783ca2d6-df22-4f6d-8ebe-a3eeaf6fe0ac",
        "type": "calculated",
        "value": {
          "function": "saveObject",
          "library": "CirrusLibCirrusObject",
          "params": {
            "data": {
              "datatype": "All Data",
              "name": "data",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "saveSuccessful",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "134f897e-688d-40d2-85e8-71facddf59b7",
        "test": {
          "datatype": "boolean",
          "name": "saveSuccessful",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "onEditLoad",
        "id": "7d70a707-6881-4804-a98e-dd045edda3d0",
        "library": "$interactions$",
        "params": {
          "input_key": {
            "datatype": "text",
            "name": "instanceKey",
            "scope": "local"
          }
        }
      },
      {
        "action": "execfunc",
        "function": "showSuccess",
        "id": "f20800b2-34ea-46b8-8397-ebac231b1210",
        "library": "CirrusLibPage",
        "params": {}
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "b80b9d7e-aa30-4e32-b172-45cc49f10dfc",
        "main": "134f897e-688d-40d2-85e8-71facddf59b7",
        "test": {
          "datatype": "boolean",
          "name": "saveSuccessful",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "1424a9c5-856d-4e00-8c18-21e977cbeec3",
        "includeElse": true,
        "main": "8b4bd569-2e47-4f81-9ebd-cce23a62fdc5",
        "test": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "7adbc5df-d765-4b07-8c5c-0d5ca44d4ebe",
        "includeElse": true,
        "iselse": true,
        "main": "78059a24-238a-4734-b1e0-169f7f189b36",
        "test": {
          "datatype": "boolean",
          "name": "isPageValid",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "loadAttributionFactors",
        "id": "924b66ae-2bc6-4a93-b942-854e2b233627",
        "isCommented": false,
        "library": "$interactions$",
        "params": {}
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "4187b238-32da-4d10-abbe-41d6bea22ef6",
        "includeElse": true,
        "main": "78059a24-238a-4734-b1e0-169f7f189b36",
        "test": {
          "datatype": "boolean",
          "name": "isPageValid",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "hideLoadingOverlay",
        "id": "9a49bb35-b16d-4815-96f7-d54c8b195a0c",
        "library": "CirrusLibPage",
        "params": {}
      }
    ],
    "sasProvided": true
  },
  "onTabClose": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "564a8506-7d47-4281-bb85-ffb4e10dc089",
        "type": "calculated",
        "value": {
          "function": "getDiffJSONPatch",
          "library": "CirrusLibPageData",
          "params": {},
          "returnType": "Patch array"
        },
        "variable": {
          "datatype": "Patch array",
          "name": "patch",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "3818ee79-9589-425f-bfaf-43b2444f4516",
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "Patch array",
              "name": "patch",
              "scope": "local"
            },
            "index": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 0
            }
          },
          "returnType": "\u003cIncoming\u003e"
        },
        "variable": {
          "datatype": "\u003cIncoming\u003e",
          "name": "selectedFactors",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "c9fe1416-23bf-4601-9ef5-e3640af37c96",
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "value"
            },
            "object": {
              "datatype": "\u003cIncoming\u003e",
              "name": "selectedFactors",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "selectedFactorsObj",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "ac42a9e6-6f0b-480f-9fe5-77493a15dd22",
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "selectedFactors"
            },
            "object": {
              "datatype": "\u003cany\u003e",
              "name": "selectedFactorsObj",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "selectedFactors",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "5053238d-55bb-469c-820d-6df8a25e2fec",
        "type": "calculated",
        "value": {
          "function": "isNullOrUndefined",
          "library": "CirrusLibGeneral",
          "params": {
            "value": {
              "datatype": "\u003cany\u003e",
              "name": "selectedFactors",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isSelectedFactorsUndefined",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "2fefd0f7-3deb-468b-8170-03418a568dc1",
        "test": {
          "datatype": "boolean",
          "name": "isSelectedFactorsUndefined",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "8e60a3da-341a-48e4-8a77-b3d9326ae45e",
        "type": "calculated",
        "value": {
          "function": "createNewObjectArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "object array"
        },
        "variable": {
          "datatype": "object array",
          "name": "selectedFactors",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "0bff5c53-e425-4911-96b3-ef84e6625f09",
        "main": "2fefd0f7-3deb-468b-8170-03418a568dc1",
        "test": {
          "datatype": "boolean",
          "name": "isSelectedFactorsUndefined",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "06e352e5-a2c9-474e-8107-790019112cd8",
        "type": "calculated",
        "value": {
          "function": "equals",
          "library": "CirrusLibObject",
          "params": {
            "object1": {
              "datatype": "object array",
              "name": "selectedFactors",
              "scope": "local"
            },
            "object2": {
              "name": "originalFactors",
              "scope": "global"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isDifferent",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "c880f40c-1d12-495e-88ec-08cd55818167",
        "test": {
          "datatype": "boolean",
          "name": "isDifferent",
          "scope": "local"
        }
      },
      {
        "action": "addComment",
        "commentStep": "//Since the attFactors field is transformed in the loadAttributionFactors we can assume that it will be the first point in the patch array",
        "id": "c6feb35d-62db-4f69-a5b5-9afe173e3c9e"
      },
      {
        "action": "execfunc",
        "function": "remove",
        "id": "a3ba8074-8a5b-4eae-9b9d-401dcdbe7c63",
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "Patch array",
            "name": "patch",
            "scope": "local"
          },
          "index": {
            "datatype": "numeric",
            "scope": "fixed",
            "value": 0
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "07e30e65-867c-4931-8a06-62bae14dacfe",
        "main": "c880f40c-1d12-495e-88ec-08cd55818167",
        "test": {
          "datatype": "boolean",
          "name": "isDifferent",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "915f4290-80d2-4401-9460-1824296591d5",
        "type": "calculated",
        "value": {
          "function": "isObjectPageDirty",
          "library": "CirrusLibCirrusObject",
          "params": {
            "patch": {
              "datatype": "Patch array",
              "name": "patch",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isDirty",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "0d3f4905-539e-4dc3-987d-d2853ec0e2dd",
        "test": {
          "datatype": "boolean",
          "name": "isDirty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "5e272f31-f3e2-47bb-b715-ea27d456f2c5",
        "type": "calculated",
        "value": {
          "function": "promptForConfirmNavigation",
          "library": "CirrusLibPage",
          "params": {},
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "closeAnyway",
          "scope": "local"
        }
      },
      {
        "action": "returnvar",
        "id": "2c81134d-ca69-4263-b96b-2ad2fca59b70",
        "variable": {
          "datatype": "boolean",
          "name": "closeAnyway",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "78e6a94c-0963-45b2-874e-8a7d7115f90f",
        "main": "0d3f4905-539e-4dc3-987d-d2853ec0e2dd",
        "test": {
          "datatype": "boolean",
          "name": "isDirty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "ff6c1951-ad57-4b64-8579-68a0b96c3d8c",
        "type": "calculated",
        "value": {
          "function": "not",
          "library": "CirrusLibBoolean",
          "params": {
            "bool": {
              "datatype": "boolean",
              "name": "isDirty",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "canClose",
          "scope": "local"
        }
      },
      {
        "action": "returnvar",
        "id": "696ea530-8ef3-42d3-8d32-05af304097ad",
        "variable": {
          "datatype": "boolean",
          "name": "canClose",
          "scope": "local"
        }
      }
    ],
    "sasProvided": true
  },
  "refactorPortfolioFactorObject": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_inputObj"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "ced864c3-e38e-4084-8dd1-69f0b9ff64de",
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "name"
            },
            "object": {
              "datatype": "text",
              "name": "input_inputObj",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "extractName",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "a7ca6c18-d081-40f2-b11d-cacda17e7026",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "concat",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "scope": "fixed",
              "value": "_PTF_"
            },
            "string2": {
              "name": "extractName",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "prefixedExtractName",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "f01d4984-c8c2-4fe9-9005-d6498930bad3",
        "type": "calculated",
        "value": {
          "function": "set",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "key"
            },
            "object": {
              "datatype": "text",
              "name": "input_inputObj",
              "scope": "local"
            },
            "value": {
              "datatype": "text",
              "name": "prefixedExtractName",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "updatedObject",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "5488c6f2-7c9f-409a-a3f3-8894b392ea4f",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "type"
          },
          "object": {
            "datatype": "\u003cIncoming\u003e",
            "name": "updatedObject",
            "scope": "local"
          },
          "value": {
            "datatype": "text",
            "scope": "fixed",
            "value": "PortfolioAttribute"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "9ddf04e7-912a-41b6-adfc-6b2bff6d6829",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "source"
          },
          "object": {
            "datatype": "\u003cIncoming\u003e",
            "name": "updatedObject",
            "scope": "local"
          },
          "value": {
            "datatype": "text",
            "scope": "fixed",
            "value": "Portfolio"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "execfunc",
        "function": "remove",
        "id": "649c4bfd-93ee-424e-9ca0-0c6d8b9a9093",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "attributable"
          },
          "object": {
            "datatype": "\u003cIncoming\u003e",
            "name": "updatedObject",
            "scope": "local"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "execfunc",
        "function": "remove",
        "id": "aff21404-50a1-4015-b471-385f2b1f676b",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "format"
          },
          "object": {
            "datatype": "\u003cIncoming\u003e",
            "name": "updatedObject",
            "scope": "local"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "execfunc",
        "function": "remove",
        "id": "065ff6ca-1ca8-4962-b504-42b4045c2bdd",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "uiKey"
          },
          "object": {
            "datatype": "\u003cIncoming\u003e",
            "name": "updatedObject",
            "scope": "local"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "execfunc",
        "function": "remove",
        "id": "35bb8d7b-e113-4a0f-b64a-0f40ff4193bb",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "size"
          },
          "object": {
            "datatype": "\u003cIncoming\u003e",
            "name": "updatedObject",
            "scope": "local"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "execfunc",
        "function": "remove",
        "id": "a4510e74-c3fe-4ea4-931a-2b1ec8f1ba2f",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "partitionFlag"
          },
          "object": {
            "datatype": "\u003cIncoming\u003e",
            "name": "updatedObject",
            "scope": "local"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "execfunc",
        "function": "remove",
        "id": "d399b91d-d9ff-4cd8-9dec-a13fd89c46d4",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "primaryKeyFlag"
          },
          "object": {
            "datatype": "\u003cIncoming\u003e",
            "name": "updatedObject",
            "scope": "local"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "execfunc",
        "function": "remove",
        "id": "c66f7e87-060f-4c67-b2a5-77eba477d42f",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "attributable"
          },
          "object": {
            "datatype": "\u003cIncoming\u003e",
            "name": "updatedObject",
            "scope": "local"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "execfunc",
        "function": "remove",
        "id": "161369c8-dd8d-468e-a814-24ea2c05bf5c",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "sqlType"
          },
          "object": {
            "datatype": "\u003cIncoming\u003e",
            "name": "updatedObject",
            "scope": "local"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "execfunc",
        "function": "rename",
        "id": "81f173fd-854d-4243-a4f1-1531590ff529",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "label"
          },
          "newName": {
            "datatype": "text",
            "scope": "fixed",
            "value": "name"
          },
          "object": {
            "datatype": "\u003cIncoming\u003e",
            "name": "updatedObject",
            "scope": "local"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "setvar",
        "id": "d311fa2c-a62d-4c75-b2d3-d9d2eb84a1fb",
        "type": "calculated",
        "value": {
          "function": "createEmptyObject",
          "library": "CirrusLibObject",
          "params": {},
          "returnType": "object"
        },
        "variable": {
          "datatype": "object",
          "name": "restrictions",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "f8429d2f-1ac3-4f6e-8824-0234102e28b7",
        "type": "calculated",
        "value": {
          "function": "createNewStringArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "emptyArr",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "push",
        "id": "f1af58f8-f0c9-4e14-bbc0-f7769e445fc5",
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "text array",
            "name": "emptyArr",
            "scope": "local"
          },
          "value": {
            "datatype": "text",
            "scope": "fixed",
            "value": "PortfolioSwitch"
          }
        },
        "returnType": "numeric"
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "8ee5feac-f0de-4603-afdd-03335ed70db8",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "before"
          },
          "object": {
            "datatype": "object",
            "name": "restrictions",
            "scope": "local"
          },
          "value": {
            "datatype": "text array",
            "name": "emptyArr",
            "scope": "local"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "setvar",
        "id": "b83cfd32-d36b-45b4-80ae-c0f59e5e781c",
        "type": "calculated",
        "value": {
          "function": "createNewStringArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "emptyArr",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "push",
        "id": "a1d01665-fff2-4bac-a19c-c0d8b719de66",
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "text array",
            "name": "emptyArr",
            "scope": "local"
          },
          "value": {
            "datatype": "text",
            "scope": "fixed",
            "value": "Model"
          }
        },
        "returnType": "numeric"
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "06faa76c-c94a-4968-a92e-1e840ee65028",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "denyGrouping"
          },
          "object": {
            "datatype": "object",
            "name": "restrictions",
            "scope": "local"
          },
          "value": {
            "datatype": "text array",
            "name": "emptyArr",
            "scope": "local"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "f5fb1917-dda4-4d4b-a797-fb911908fd86",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "restrictions"
          },
          "object": {
            "datatype": "\u003cIncoming\u003e",
            "name": "updatedObject",
            "scope": "local"
          },
          "value": {
            "datatype": "object",
            "name": "restrictions",
            "scope": "local"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "returnvar",
        "id": "eeac03a8-5ec2-4689-ae52-2ae5101a28a2",
        "variable": {
          "datatype": "\u003cIncoming\u003e",
          "name": "updatedObject",
          "scope": "local"
        }
      }
    ],
    "sasProvided": true
  },
  "refactorRiskScenarioFactorObject": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_inputObj"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "01115260-5f76-48b3-8c05-976214065653",
        "type": "calculated",
        "value": {
          "function": "get",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "variable"
            },
            "object": {
              "datatype": "text",
              "name": "input_inputObj",
              "scope": "local"
            }
          },
          "returnType": "\u003cany\u003e"
        },
        "variable": {
          "datatype": "\u003cany\u003e",
          "name": "extractName",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "bdddcb95-8a51-4fd1-a50d-a1a07184b5d5",
        "type": "calculated",
        "value": {
          "function": "concat",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "scope": "fixed",
              "value": "_SCEN_"
            },
            "string2": {
              "datatype": "\u003cany\u003e",
              "name": "extractName",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "prefixedExtractName",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "3a7d8845-40fd-4e5e-8e9d-b4254b10d52b",
        "type": "calculated",
        "value": {
          "function": "set",
          "library": "CirrusLibObject",
          "params": {
            "name": {
              "datatype": "text",
              "scope": "fixed",
              "value": "key"
            },
            "object": {
              "datatype": "text",
              "name": "input_inputObj",
              "scope": "local"
            },
            "value": {
              "datatype": "text",
              "name": "prefixedExtractName",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "updatedObject",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "46028dbe-0f4e-4a11-a925-c9138887787b",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "type"
          },
          "object": {
            "datatype": "\u003cIncoming\u003e",
            "name": "updatedObject",
            "scope": "local"
          },
          "value": {
            "datatype": "text",
            "scope": "fixed",
            "value": "ScenarioRiskFactor"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "execfunc",
        "function": "set",
        "id": "aada1cfc-2aeb-47ae-ac9b-cb6ee5835b13",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "source"
          },
          "object": {
            "datatype": "\u003cIncoming\u003e",
            "name": "updatedObject",
            "scope": "local"
          },
          "value": {
            "datatype": "text",
            "scope": "fixed",
            "value": "Scenario"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "execfunc",
        "function": "remove",
        "id": "8f854f29-6b0f-4c40-88c5-6d79c96503cb",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "perturbType"
          },
          "object": {
            "datatype": "\u003cIncoming\u003e",
            "name": "updatedObject",
            "scope": "local"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "execfunc",
        "function": "remove",
        "id": "86d084ef-7c22-4b85-9871-0835848ca0d6",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "perturbations"
          },
          "object": {
            "datatype": "\u003cIncoming\u003e",
            "name": "updatedObject",
            "scope": "local"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "execfunc",
        "function": "rename",
        "id": "310aa130-8cbf-4b27-a252-fe7dafa31cfb",
        "library": "CirrusLibObject",
        "params": {
          "name": {
            "datatype": "text",
            "scope": "fixed",
            "value": "variable"
          },
          "newName": {
            "datatype": "text",
            "scope": "fixed",
            "value": "name"
          },
          "object": {
            "datatype": "\u003cIncoming\u003e",
            "name": "updatedObject",
            "scope": "local"
          }
        },
        "returnType": "\u003cIncoming\u003e"
      },
      {
        "action": "returnvar",
        "id": "8f0bc848-9c41-4ec2-8d12-66c92c7e72c4",
        "variable": {
          "datatype": "\u003cIncoming\u003e",
          "name": "updatedObject",
          "scope": "local"
        }
      }
    ],
    "sasProvided": true
  },
  "setCopySuffix": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_key"
      }
    ],
    "logic": [
      {
        "action": "addComment",
        "commentStep": "// Extract target objectId for filter condition",
        "id": "18b70e2c-e24c-4503-b323-c8c437e13eeb",
        "isCommented": false
      },
      {
        "action": "setvar",
        "id": "d488ddec-fc34-41b6-930e-0c4c700b8311",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "getCurrentObjectType",
          "library": "CirrusLibPageData",
          "params": {},
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "objectType",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "5502d84b-2c16-4505-9539-520d78ff3ad0",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "replace",
          "library": "CirrusLibString",
          "params": {
            "mainString": {
              "datatype": "text",
              "scope": "fixed",
              "value": "contains(createdFrom,'__name_of_target__')"
            },
            "replacement": {
              "datatype": "text",
              "name": "input_key",
              "scope": "local"
            },
            "target": {
              "datatype": "text",
              "scope": "fixed",
              "value": "__name_of_target__"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "condition",
          "scope": "local"
        }
      },
      {
        "action": "addComment",
        "commentStep": "// Filter objects based on object type and condition",
        "id": "4ddd12d9-71b9-4e23-a2b1-a1bcefa9e256",
        "isCommented": false
      },
      {
        "action": "setvar",
        "id": "ef87cea6-ee70-447c-ab70-1a4a9d6f3797",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "fetchObjects",
          "library": "CirrusLibCirrusObject",
          "params": {
            "filter": {
              "datatype": "text",
              "name": "condition",
              "scope": "local"
            },
            "type": {
              "datatype": "text",
              "name": "objectType",
              "scope": "local"
            }
          },
          "returnType": "All Data"
        },
        "variable": {
          "datatype": "All Data",
          "name": "filteredObjects",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "ca83938f-1f68-4351-8dae-baec2cc2551b",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "jsonStringify",
          "library": "CirrusLibGeneral",
          "params": {
            "data": {
              "datatype": "All Data",
              "name": "filteredObjects",
              "scope": "local"
            }
          },
          "returnType": "\u003cIncoming\u003e"
        },
        "variable": {
          "datatype": "\u003cIncoming\u003e",
          "name": "objToString",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "87607c90-97ce-473c-afcd-4f2ed36cef01",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "convertStringToArray",
          "library": "CirrusLibArray",
          "params": {
            "string": {
              "name": "objToString",
              "scope": "local"
            }
          },
          "returnType": "\u003cOutgoing\u003e array"
        },
        "variable": {
          "datatype": "\u003cOutgoing\u003e array",
          "name": "stringToArr",
          "scope": "local"
        }
      },
      {
        "action": "addComment",
        "commentStep": "// count the number of instances and create copySuffix",
        "id": "24ff8c01-2c62-4c27-991d-12b4d920d47d",
        "isCommented": false
      },
      {
        "action": "setvar",
        "id": "fba07fb6-4c54-4449-af4d-5f8538f26f95",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "numeric",
          "function": "size",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "name": "stringToArr",
              "scope": "local"
            }
          },
          "returnType": "numeric"
        },
        "variable": {
          "datatype": "numeric",
          "name": "arrayLength",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "be349d48-7db6-491d-b3c3-a3876ebe062e",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "numeric",
          "function": "add",
          "library": "CirrusLibMath",
          "params": {
            "from": {
              "datatype": "numeric",
              "name": "arrayLength",
              "scope": "local"
            },
            "number": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 1
            }
          },
          "returnType": "numeric"
        },
        "variable": {
          "datatype": "numeric",
          "name": "arrayLength",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "d94e0b2f-de33-4109-96e5-80a1756637d4",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "text",
          "function": "toString",
          "library": "CirrusLibString",
          "params": {
            "value": {
              "datatype": "numeric",
              "name": "arrayLength",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "copySuffix",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "bed4859a-044c-40f9-be45-953a245a3395",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "text",
          "function": "concat",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "scope": "fixed",
              "value": "_"
            },
            "string2": {
              "datatype": "text",
              "name": "copySuffix",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "copySuffix",
          "scope": "local"
        }
      },
      {
        "action": "returnvar",
        "id": "306f42d2-ddf4-402b-beb6-e79e8f93c4bc",
        "isCommented": false,
        "variable": {
          "datatype": "text",
          "name": "copySuffix",
          "scope": "local"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "setDefaultFieldValues": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "b273b700-2a5f-4408-bd90-b0b75567f124",
        "isCommented": false,
        "type": "fixed",
        "value": {
          "datatype": "text",
          "dataval": "DEV"
        },
        "variable": {
          "datatype": "text",
          "name": "statusCd",
          "objectType": "AttributionTemplate",
          "scope": "field",
          "set-field": "statusCd",
          "target": "$self$"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "setDefaultName": {
    "inputs": [
      {
        "datatype": "text",
        "name": "input_value"
      }
    ],
    "logic": [
      {
        "action": "setvar",
        "id": "5f677a3d-8f13-4ecc-a4c7-b63e9a0e3ac8",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "toBoolean",
          "library": "CirrusLibBoolean",
          "params": {
            "value": {
              "datatype": "text",
              "name": "name",
              "objectType": "AttributionTemplate",
              "scope": "field",
              "set-field": "name",
              "target": "$self$"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isNameSet",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "f03a1ee4-8ec2-48f0-b546-0752f274e9b8",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "boolean",
          "function": "not",
          "library": "CirrusLibBoolean",
          "params": {
            "bool": {
              "datatype": "boolean",
              "name": "isNameSet",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isNameSet",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "383b924a-fb76-432a-886b-fb9481ef36b8",
        "isCommented": false,
        "test": {
          "datatype": "boolean",
          "name": "isNameSet",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "02a03a9c-404d-4bc8-9a8d-0ab168823a97",
        "type": "calculated",
        "value": {
          "function": "getLocalisedObjectType",
          "library": "$interactions$",
          "params": {},
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "objectType",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "242e3c4c-38f0-488f-ab3a-0e878cb37598",
        "type": "calculated",
        "value": {
          "function": "concat",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "name": "objectType",
              "scope": "local"
            },
            "string2": {
              "datatype": "text",
              "scope": "fixed",
              "value": ": "
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "name_str",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "7edb0eab-2f82-48bf-b722-283144b5cbd8",
        "type": "calculated",
        "value": {
          "function": "concat",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "name": "name_str",
              "scope": "local"
            },
            "string2": {
              "datatype": "text",
              "name": "input_value",
              "scope": "local"
            }
          },
          "returnType": "text"
        },
        "variable": {
          "datatype": "text",
          "name": "name_readonly",
          "scope": "data",
          "target": "$self$"
        }
      },
      {
        "action": "setvar",
        "id": "629b1271-8809-4605-8391-162fcc618f6f",
        "isCommented": false,
        "type": "variable",
        "value": {
          "datatype": "text",
          "name": "input_value",
          "scope": "local"
        },
        "variable": {
          "datatype": "text",
          "name": "name",
          "objectType": "AttributionTemplate",
          "scope": "field",
          "set-field": "name",
          "target": "$self$"
        }
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "d0e180fe-5e68-4d85-bd5a-0d7e59b4578c",
        "isCommented": false,
        "main": "383b924a-fb76-432a-886b-fb9481ef36b8",
        "test": {
          "datatype": "boolean",
          "name": "isNameSet",
          "scope": "local"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "setFilterInputData": {
    "inputs": [],
    "logic": [
      {
        "action": "setprop",
        "function": "setFilter",
        "id": "257bce1f-915d-4cb0-84ad-43ee3ee16bd6",
        "isCommented": false,
        "params": {
          "filter": {
            "datatype": "text",
            "scope": "fixed",
            "value": "in(dataCategoryCd,\"PORTFOLIO\",\"SECURITIES\")"
          }
        },
        "scope": "currentPage",
        "widgetId": "core_DataDefinition_input"
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "setFilterOutputData": {
    "inputs": [],
    "logic": [
      {
        "action": "setprop",
        "function": "setFilter",
        "id": "de0944d8-49bd-40de-b8ba-c74fe78efdb0",
        "isCommented": false,
        "params": {
          "filter": {
            "datatype": "text",
            "scope": "fixed",
            "value": "in(dataCategoryCd,\"RESULTS\")"
          }
        },
        "scope": "currentPage",
        "widgetId": "core_DataDefinition_output"
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "setReadOnlyFields": {
    "inputs": [],
    "logic": [
      {
        "action": "setprop",
        "function": "setReadOnly",
        "id": "53111989-adea-43a9-b498-dda9d19ba19b",
        "isCommented": false,
        "params": {
          "readOnly": {
            "datatype": "boolean",
            "name": "isDraft",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "objectId"
      },
      {
        "action": "setprop",
        "function": "setReadOnly",
        "id": "28ab3bc6-aadc-41e5-a6a2-2b42a9a76c97",
        "isCommented": false,
        "params": {
          "readOnly": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        },
        "scope": "currentPage",
        "widgetId": "factorsSpreadsheet"
      },
      {
        "action": "setprop",
        "function": "setReadOnly",
        "id": "39af1ef1-6eb8-4eae-a586-9042290714be",
        "isCommented": false,
        "params": {
          "readOnly": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        },
        "scope": "currentPage",
        "widgetId": "AnalysisRun"
      },
      {
        "action": "setprop",
        "function": "setReadOnly",
        "id": "7ad37092-88c3-4187-a636-6faf45e64151",
        "isCommented": false,
        "params": {
          "readOnly": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        },
        "scope": "currentPage",
        "widgetId": "Cycle"
      },
      {
        "action": "setprop",
        "function": "disableCreateNewLinkedObject",
        "id": "e69c003e-d0e9-4d07-99b9-eaf701d4528c",
        "isCommented": false,
        "params": {
          "isDisabled": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        },
        "scope": "currentPage",
        "widgetId": "Cycle"
      },
      {
        "action": "setprop",
        "function": "disableCreateNewLinkedObject",
        "id": "5576c260-3871-448e-8a7f-8b3c01ec60d8",
        "isCommented": false,
        "params": {
          "isDisabled": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        },
        "scope": "currentPage",
        "widgetId": "AnalysisRun"
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  },
  "setRequiredFields": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "184ab13c-ff95-4d06-9654-4a1498a941a2",
        "type": "fixed",
        "value": {
          "datatype": "boolean",
          "dataval": true
        },
        "variable": {
          "datatype": "boolean",
          "name": "isRequiredAlways",
          "scope": "local"
        }
      },
      {
        "action": "setprop",
        "function": "setRequired",
        "id": "f9efa855-4d67-4ea8-a93e-0e051a1419ab",
        "params": {
          "required": {
            "datatype": "boolean",
            "name": "isRequiredAlways",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "objectId"
      },
      {
        "action": "setprop",
        "function": "setRequired",
        "id": "0ad8e187-cc33-4b64-9f08-c82ce196ed43",
        "params": {
          "required": {
            "datatype": "boolean",
            "name": "isRequiredAlways",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "name"
      },
      {
        "action": "setprop",
        "function": "setRequired",
        "id": "98ecdd04-eeaf-48e6-a169-81b44c3af053",
        "isCommented": false,
        "params": {
          "required": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        },
        "scope": "currentPage",
        "widgetId": "transferFromLabel"
      },
      {
        "action": "setprop",
        "function": "setRequired",
        "id": "5b21bb35-efad-48e4-99d8-d56b2fddfd33",
        "isCommented": false,
        "params": {
          "required": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        },
        "scope": "currentPage",
        "widgetId": "transferToLabel"
      },
      {
        "action": "setprop",
        "function": "setRequired",
        "id": "9cfea371-ee7d-4c9d-9b42-8179dabfce1f",
        "isCommented": false,
        "params": {
          "required": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        },
        "scope": "currentPage",
        "widgetId": "core_DataDefinition_output"
      },
      {
        "action": "setprop",
        "function": "setRequired",
        "id": "e6c7ec63-77f1-4357-bd9f-9059b95dfbe5",
        "isCommented": false,
        "params": {
          "required": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        },
        "scope": "currentPage",
        "widgetId": "core_DataDefinition_input"
      },
      {
        "action": "setprop",
        "function": "setRequired",
        "id": "2aebd7d3-5ce2-4e73-bf1d-c79e04b9e297",
        "isCommented": false,
        "params": {
          "required": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        },
        "scope": "currentPage",
        "widgetId": "statusCd"
      },
      {
        "action": "setprop",
        "function": "setRequired",
        "id": "2c2c18b1-10c5-44a4-88b6-0af754788a43",
        "isCommented": true,
        "params": {
          "required": {
            "datatype": "boolean",
            "scope": "fixed",
            "value": true
          }
        },
        "scope": "currentPage",
        "widgetId": "riskScenarioSet"
      }
    ],
    "sasProvided": true
  },
  "setScreenReadOnly": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "705a2eae-2dbd-4934-a0e9-aed5f6e402ff",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "getLinkTypeObjectsKeys",
          "library": "CirrusLibCirrusObjectLinkInstance",
          "params": {
            "linkTypeId": {
              "datatype": "text",
              "scope": "fixed",
              "value": "attributionTemplate_analysisRun"
            },
            "side": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 2
            }
          },
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "analysisRunKeys",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "7c2def27-7c68-41c7-b3f5-260e8d09cdc0",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "getLinkTypeObjectsKeys",
          "library": "CirrusLibCirrusObjectLinkInstance",
          "params": {
            "linkTypeId": {
              "datatype": "text",
              "scope": "fixed",
              "value": "attributionTemplate_cycle"
            },
            "side": {
              "datatype": "numeric",
              "scope": "fixed",
              "value": 2
            }
          },
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "cycleKeys",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "18f96691-838d-4472-b5c2-6cc803af28bf",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "hasAnyItems",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "analysisRunKeys",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "areAnalysisRunKeysNotEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "4099fcb8-be1b-42fc-a16e-e5c7f2fe27b3",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "hasAnyItems",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "cycleKeys",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "areCycleKeysNotEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "aea4add8-2710-4244-af5b-7fdd42dc2847",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "or",
          "library": "CirrusLibBoolean",
          "params": {
            "bool1": {
              "datatype": "boolean",
              "name": "areAnalysisRunKeysNotEmpty",
              "scope": "local"
            },
            "bool2": {
              "datatype": "boolean",
              "name": "areCycleKeysNotEmpty",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "hasLinks",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "64909a7a-3c52-4f33-b1df-fb4ce6f76af0",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "strEquals",
          "library": "CirrusLibString",
          "params": {
            "string1": {
              "datatype": "text",
              "name": "statusCd",
              "objectType": "AttributionTemplate",
              "scope": "field",
              "set-field": "statusCd",
              "target": "$self$"
            },
            "string2": {
              "datatype": "text",
              "scope": "fixed",
              "value": "PROD"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isProd",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "d66adb43-0c68-40f1-bbab-c79ff64b1435",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "or",
          "library": "CirrusLibBoolean",
          "params": {
            "bool1": {
              "datatype": "boolean",
              "name": "isProd",
              "scope": "local"
            },
            "bool2": {
              "datatype": "boolean",
              "name": "hasLinks",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isProdOrHasLinks",
          "scope": "local"
        }
      },
      {
        "action": "setprop",
        "function": "setReadOnly",
        "id": "1230f75a-01ce-4fa2-bf84-0fc0590c724b",
        "isCommented": false,
        "params": {
          "readOnly": {
            "datatype": "boolean",
            "name": "hasLinks",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "statusCd"
      },
      {
        "action": "setprop",
        "function": "setReadOnly",
        "id": "860f843c-7f61-4f74-8558-0a6804194657",
        "isCommented": false,
        "params": {
          "readOnly": {
            "datatype": "boolean",
            "name": "isProdOrHasLinks",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "attribution_template_tabs"
      },
      {
        "action": "setprop",
        "function": "setReadOnly",
        "id": "21765d25-a4d4-46e4-8596-9fb875fa54f3",
        "isCommented": false,
        "params": {
          "readOnly": {
            "datatype": "boolean",
            "name": "isProdOrHasLinks",
            "scope": "local"
          }
        },
        "widgetId": "default"
      },
      {
        "action": "setprop",
        "function": "setReadOnly",
        "id": "d253a1d2-83d5-49e1-9ffd-4a0736a9bfc4",
        "isCommented": false,
        "params": {
          "readOnly": {
            "datatype": "boolean",
            "name": "isProdOrHasLinks",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "attFactors"
      },
      {
        "action": "addComment",
        "commentStep": "------------- user capabilities -------------",
        "id": "58052627-2cc3-4f2e-b183-81fdda806764",
        "isCommented": false
      },
      {
        "action": "setvar",
        "id": "11263ddd-47d2-49f9-9a63-7dd5f1f4f417",
        "type": "calculated",
        "value": {
          "function": "getObjectCapabilities",
          "library": "CirrusLibCirrusObject",
          "params": {
            "objectType": {
              "datatype": "text",
              "scope": "fixed",
              "value": "AttributionTemplate"
            }
          },
          "returnType": "text array"
        },
        "variable": {
          "datatype": "text array",
          "name": "userCapabilities",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "5854d84b-5f88-4302-a900-5e29e7e1063a",
        "type": "calculated",
        "value": {
          "function": "contains",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "userCapabilities",
              "scope": "local"
            },
            "value": {
              "datatype": "text",
              "scope": "fixed",
              "value": "create"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "userCanCreate",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "4816c002-7398-4b17-9496-8ab3bb6beae9",
        "type": "calculated",
        "value": {
          "function": "not",
          "library": "CirrusLibBoolean",
          "params": {
            "bool": {
              "datatype": "boolean",
              "name": "userCanCreate",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "userCannotCreate",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "3dbc1680-56d1-4639-a068-19cc6f2044a9",
        "type": "calculated",
        "value": {
          "function": "contains",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "text array",
              "name": "userCapabilities",
              "scope": "local"
            },
            "value": {
              "datatype": "text",
              "scope": "fixed",
              "value": "update"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "userCanUpdate",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "99553ef6-c732-4c69-9075-1ebd49c367be",
        "type": "calculated",
        "value": {
          "function": "not",
          "library": "CirrusLibBoolean",
          "params": {
            "bool": {
              "datatype": "boolean",
              "name": "userCanUpdate",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "userCannotUpdate",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "5db66a8b-46af-49b9-821d-02c9c8add0e3",
        "type": "calculated",
        "value": {
          "function": "isDraftObject",
          "library": "CirrusLibCirrusObject",
          "params": {},
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "011f385e-b25d-4fa1-92cc-2128a1eb4fad",
        "test": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "local"
        }
      },
      {
        "action": "setprop",
        "function": "setReadOnly",
        "id": "433b34f9-f6e1-47ec-89c0-b00dd879a825",
        "params": {
          "readOnly": {
            "datatype": "boolean",
            "name": "userCannotCreate",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "attribution_template_details"
      },
      {
        "action": "setprop",
        "function": "setReadOnly",
        "id": "1de46fb9-8a1d-44ec-9263-dcf25be79fc4",
        "params": {
          "readOnly": {
            "datatype": "boolean",
            "name": "userCannotCreate",
            "scope": "local"
          }
        },
        "widgetId": "attribution_template_tabs"
      },
      {
        "action": "setprop",
        "function": "setReadOnly",
        "id": "b3660bdc-58b2-468a-8fe8-f82109a8ec88",
        "isCommented": false,
        "params": {
          "readOnly": {
            "datatype": "boolean",
            "name": "userCannotCreate",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "attFactors"
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "3a1935b1-e0ea-4da4-943c-a211d34987aa",
        "main": "011f385e-b25d-4fa1-92cc-2128a1eb4fad",
        "test": {
          "datatype": "boolean",
          "name": "isDraft",
          "scope": "local"
        }
      },
      {
        "action": "ifelse",
        "id": "b0d70ffc-31aa-4535-b11b-57014c1c82f4",
        "test": {
          "datatype": "boolean",
          "name": "userCannotUpdate",
          "scope": "local"
        }
      },
      {
        "action": "setprop",
        "function": "setReadOnly",
        "id": "96e48ad6-c8a2-47e7-a881-f9692bc47f5c",
        "params": {
          "readOnly": {
            "datatype": "boolean",
            "name": "userCannotUpdate",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "attribution_template_details"
      },
      {
        "action": "setprop",
        "function": "setReadOnly",
        "id": "3fadb5b8-d917-438f-909d-dfcba69c95d2",
        "isCommented": false,
        "params": {
          "readOnly": {
            "datatype": "boolean",
            "name": "userCannotUpdate",
            "scope": "local"
          }
        },
        "scope": "currentPage",
        "widgetId": "attFactors"
      },
      {
        "action": "setprop",
        "function": "setReadOnly",
        "id": "72c8660b-ce16-433e-aa73-67f20805f088",
        "params": {
          "readOnly": {
            "datatype": "boolean",
            "name": "userCannotUpdate",
            "scope": "local"
          }
        },
        "widgetId": "attribution_template_tabs"
      },
      {
        "action": "ifelse",
        "end": true,
        "id": "62c8e811-ab96-42d1-9f6e-cba7f76fbd9c",
        "main": "b0d70ffc-31aa-4535-b11b-57014c1c82f4",
        "test": {
          "datatype": "boolean",
          "name": "userCannotUpdate",
          "scope": "local"
        }
      }
    ],
    "sasProvided": true
  },
  "validatePage": {
    "inputs": [],
    "logic": [
      {
        "action": "setvar",
        "id": "fe7d8599-5a5a-4e17-aa03-129fbb12416b",
        "isCommented": false,
        "type": "fixed",
        "value": {
          "datatype": "boolean",
          "dataval": true
        },
        "variable": {
          "datatype": "boolean",
          "name": "isValid",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "a6f2a250-08ab-4b84-8b6d-5a5b04826373",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "createNewBooleanArray",
          "library": "CirrusLibArray",
          "params": {},
          "returnType": "boolean array"
        },
        "variable": {
          "datatype": "boolean array",
          "name": "validationChecks",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "6b243462-e20f-4792-9a30-caf950070fbd",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "validateFields",
          "library": "CirrusLibPageData",
          "params": {},
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "areRequiredFieldsEmpty",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "868ec956-0f4a-4392-808e-0ae0fd722701",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "not",
          "library": "CirrusLibBoolean",
          "params": {
            "bool": {
              "datatype": "boolean",
              "name": "areRequiredFieldsEmpty",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "areRequiredFieldsValid",
          "scope": "local"
        }
      },
      {
        "action": "execfunc",
        "function": "push",
        "id": "7b6a16a1-b573-4135-bba7-bc869253c33c",
        "isCommented": false,
        "library": "CirrusLibArray",
        "params": {
          "array": {
            "datatype": "boolean array",
            "name": "validationChecks",
            "scope": "local"
          },
          "value": {
            "datatype": "boolean",
            "name": "areRequiredFieldsValid",
            "scope": "local"
          }
        },
        "returnType": "numeric"
      },
      {
        "action": "setvar",
        "id": "bca3a579-63b3-4f6e-928f-1a7c71fb7283",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "function": "contains",
          "library": "CirrusLibArray",
          "params": {
            "array": {
              "datatype": "boolean array",
              "name": "validationChecks",
              "scope": "local"
            },
            "value": {
              "datatype": "boolean",
              "scope": "fixed",
              "value": false
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "hasError",
          "scope": "local"
        }
      },
      {
        "action": "setvar",
        "id": "3ed01ddb-183a-4ec1-9d0f-dadbb41d36bf",
        "isCommented": false,
        "type": "calculated",
        "value": {
          "datatype": "boolean",
          "function": "not",
          "library": "CirrusLibBoolean",
          "params": {
            "bool": {
              "datatype": "boolean",
              "name": "hasError",
              "scope": "local"
            }
          },
          "returnType": "boolean"
        },
        "variable": {
          "datatype": "boolean",
          "name": "isValid",
          "scope": "local"
        }
      },
      {
        "action": "returnvar",
        "id": "de371c70-8120-420b-a37b-2e2516eb9783",
        "isCommented": false,
        "variable": {
          "datatype": "boolean",
          "name": "isValid",
          "scope": "local"
        }
      }
    ],
    "resolveEachStep": false,
    "sasProvided": true
  }
}
